(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{2118:function(t,e,n){"use strict";n.d(e,{Z:function(){return _}});var r=function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.create;Object.create;var i,o,a=n(51),s=n(8548),u=n(3936),c=((i={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",i["bad-app-name"]="Illegal App name: '{$appName}",i["duplicate-app"]="Firebase App named '{$appName}' already exists",i["app-deleted"]="Firebase App named '{$appName}' already deleted",i["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",i["invalid-log-argument"]="First argument to `onLog` must be null or a function.",i),l=new a.LL("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",p=((o={})[h]="fire-core",o["@firebase/analytics"]="fire-analytics",o["@firebase/app-check"]="fire-app-check",o["@firebase/auth"]="fire-auth",o["@firebase/database"]="fire-rtdb",o["@firebase/functions"]="fire-fn",o["@firebase/installations"]="fire-iid",o["@firebase/messaging"]="fire-fcm",o["@firebase/performance"]="fire-perf",o["@firebase/remote-config"]="fire-rc",o["@firebase/storage"]="fire-gcs",o["@firebase/firestore"]="fire-fst",o["fire-js"]="fire-js",o["firebase-wrapper"]="fire-js-all",o),d=new u.Yd("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=(0,a.p$)(t),this.container=new s.H0(e.name),this._addComponent(new s.wA("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e=f),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var v=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"===typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var s=o.name;if("string"!==typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if((0,a.r3)(e,s))throw l.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=p[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),u=e.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(c.join(" "))}o(new s.wA(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.Ub,onLog:function(t,e){if(null!==t&&"function"!==typeof t)throw l.create("invalid-log-argument");(0,u.Am)(t,e)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!(0,a.r3)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return d.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!==typeof t[s])throw l.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&(0,a.ZB)(u,o.serviceProps),r[s]=u,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,s).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++){var f=h[c];e[f]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(g);return e.INTERNAL=r(r({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){(0,a.ZB)(e,t)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),e}(),m=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if((0,a.jU)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=v.initializeApp;v.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,a.UG)()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=v;!function(t,e){t.INTERNAL.registerComponent(new s.wA("platform-logger",(function(t){return new m(t)}),"PRIVATE")),t.registerVersion(h,"0.6.30",e),t.registerVersion("fire-js","")}(w);var _=w},8548:function(t,e,n){"use strict";n.d(e,{wA:function(){return c},H0:function(){return f}});function r(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function i(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function o(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function s(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create;var u=n(51),c=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),l="[DEFAULT]",h=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new u.BH;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),r=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:l})}catch(p){}try{for(var r=o(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var s=a(i.value,2),u=s[0],c=s[1],h=this.normalizeInstanceIdentifier(u);try{var f=this.getOrInitializeService({instanceIdentifier:h});c.resolve(f)}catch(p){}}}catch(d){e={error:d}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=l),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r(this,void 0,void 0,(function(){var t;return i(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(s(s([],a(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),a(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=l),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t=l),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.options,i=void 0===r?{}:r,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:s,options:i});try{for(var c=o(this.instancesDeferred.entries()),l=c.next();!l.done;l=c.next()){var h=a(l.value,2),f=h[0],p=h[1];s===this.normalizeInstanceIdentifier(f)&&p.resolve(u)}}catch(d){e={error:d}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return u},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,r,i=this.onInitCallbacks.get(e);if(i)try{for(var a=o(i),s=a.next();!s.done;s=a.next()){var u=s.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===l?void 0:e),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=l),this.component?this.component.multipleInstances?t:l:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();var f=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new h(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},3936:function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(e,{in:function(){return o},Yd:function(){return h},Ub:function(){return f},Am:function(){return p}});var o,a=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=c[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"===typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){a.forEach((function(e){e.setLogLevel(t)}))}function p(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(t){if(null==t)return null;if("string"===typeof t)return t;if("number"===typeof t||"boolean"===typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!==r&&void 0!==r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=a;r<i.length;r++){n(i[r])}}},51:function(t,e,n){"use strict";n.d(e,{BH:function(){return l},LL:function(){return E},ZR:function(){return T},r3:function(){return k},Sg:function(){return h},ne:function(){return A},p$:function(){return u},ZB:function(){return c},m9:function(){return O},z$:function(){return f},jU:function(){return g},ru:function(){return v},d:function(){return y},w1:function(){return b},uI:function(){return p},UG:function(){return d},b$:function(){return m},G6:function(){return _},Mn:function(){return w}});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.create;Object.create;var o=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,p=63&c;u||(p=64,a||(f=64)),r.push(n[l],n[h],n[f],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(o(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},s=function(t){return function(t){var e=o(t);return a.encodeByteArray(e,!0)}(t).replace(/\./g,"")};function u(t){return c(void 0,t)}function c(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=c(t[n],e[n]));return t}var l=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"===typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function h(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=i({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[s(JSON.stringify({alg:"none",type:"JWT"})),s(JSON.stringify(a)),""].join(".")}function f(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function p(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())}function d(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(t){return!1}}function g(){return"object"===typeof self&&self.self===self}function v(){var t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}function m(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function y(){return f().indexOf("Electron/")>=0}function b(){var t=f();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function w(){return f().indexOf("MSAppHost/")>=0}function _(){return!d()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var T=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,E.prototype.create),o}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(Error),E=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?I(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new T(i,s,r);return u},t}();function I(t,e){return t.replace(S,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var S=/\{\$([^}]+)}/g;function k(t,e){return Object.prototype.hasOwnProperty.call(t,e)}!function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"===typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"===typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t}}();function A(t,e){var n=new C(t,e);return n.subscribe.bind(n)}var C=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!==typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"===typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=x),void 0===r.error&&(r.error=x),void 0===r.complete&&(r.complete=x);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function x(){}function O(t){return t&&t._delegate?t._delegate:t}},7183:function(t,e,n){"use strict";n.d(e,{Xb:function(){return p},Gd:function(){return v},cu:function(){return d}});var r=n(5163),i=n(3699),o=n(7790),a=n(8536),s=n(5907),u=n(4266),c="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,l=n(1684),h=n(1995),f=function(){function t(t){this.errors=0,this.sid=(0,i.DM)(),this.duration=0,this.status="ok",this.init=!0,this.ignoreDuration=!1;var e=(0,o.ph)();this.timestamp=e,this.started=e,t&&this.update(t)}return t.prototype.update=function(t){if(void 0===t&&(t={}),t.user&&(!this.ipAddress&&t.user.ip_address&&(this.ipAddress=t.user.ip_address),this.did||t.did||(this.did=t.user.id||t.user.email||t.user.username)),this.timestamp=t.timestamp||(0,o.ph)(),t.ignoreDuration&&(this.ignoreDuration=t.ignoreDuration),t.sid&&(this.sid=32===t.sid.length?t.sid:(0,i.DM)()),void 0!==t.init&&(this.init=t.init),!this.did&&t.did&&(this.did=""+t.did),"number"===typeof t.started&&(this.started=t.started),this.ignoreDuration)this.duration=void 0;else if("number"===typeof t.duration)this.duration=t.duration;else{var e=this.timestamp-this.started;this.duration=e>=0?e:0}t.release&&(this.release=t.release),t.environment&&(this.environment=t.environment),!this.ipAddress&&t.ipAddress&&(this.ipAddress=t.ipAddress),!this.userAgent&&t.userAgent&&(this.userAgent=t.userAgent),"number"===typeof t.errors&&(this.errors=t.errors),t.status&&(this.status=t.status)},t.prototype.close=function(t){t?this.update({status:t}):"ok"===this.status?this.update({status:"exited"}):this.update()},t.prototype.toJSON=function(){return(0,h.Jr)({sid:""+this.sid,init:this.init,started:new Date(1e3*this.started).toISOString(),timestamp:new Date(1e3*this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"===typeof this.did||"string"===typeof this.did?""+this.did:void 0,duration:this.duration,attrs:{release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent}})},t}(),p=function(){function t(t,e,n){void 0===e&&(e=new l.s),void 0===n&&(n=4),this._version=n,this._stack=[{}],this.getStackTop().scope=e,t&&this.bindClient(t)}return t.prototype.isOlderThan=function(t){return this._version<t},t.prototype.bindClient=function(t){this.getStackTop().client=t,t&&t.setupIntegrations&&t.setupIntegrations()},t.prototype.pushScope=function(){var t=l.s.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t},t.prototype.popScope=function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()},t.prototype.withScope=function(t){var e=this.pushScope();try{t(e)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(t,e){var n=this._lastEventId=e&&e.event_id?e.event_id:(0,i.DM)(),o=e;if(!e){var a=void 0;try{throw new Error("Sentry syntheticException")}catch(t){a=t}o={originalException:t,syntheticException:a}}return this._invokeClient("captureException",t,(0,r.pi)((0,r.pi)({},o),{event_id:n})),n},t.prototype.captureMessage=function(t,e,n){var o=this._lastEventId=n&&n.event_id?n.event_id:(0,i.DM)(),a=n;if(!n){var s=void 0;try{throw new Error(t)}catch(u){s=u}a={originalException:t,syntheticException:s}}return this._invokeClient("captureMessage",t,e,(0,r.pi)((0,r.pi)({},a),{event_id:o})),o},t.prototype.captureEvent=function(t,e){var n=e&&e.event_id?e.event_id:(0,i.DM)();return"transaction"!==t.type&&(this._lastEventId=n),this._invokeClient("captureEvent",t,(0,r.pi)((0,r.pi)({},e),{event_id:n})),n},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(t,e){var n=this.getStackTop(),i=n.scope,s=n.client;if(i&&s){var u=s.getOptions&&s.getOptions()||{},c=u.beforeBreadcrumb,l=void 0===c?null:c,h=u.maxBreadcrumbs,f=void 0===h?100:h;if(!(f<=0)){var p=(0,o.yW)(),d=(0,r.pi)({timestamp:p},t),g=l?(0,a.Cf)((function(){return l(d,e)})):d;null!==g&&i.addBreadcrumb(g,f)}}},t.prototype.setUser=function(t){var e=this.getScope();e&&e.setUser(t)},t.prototype.setTags=function(t){var e=this.getScope();e&&e.setTags(t)},t.prototype.setExtras=function(t){var e=this.getScope();e&&e.setExtras(t)},t.prototype.setTag=function(t,e){var n=this.getScope();n&&n.setTag(t,e)},t.prototype.setExtra=function(t,e){var n=this.getScope();n&&n.setExtra(t,e)},t.prototype.setContext=function(t,e){var n=this.getScope();n&&n.setContext(t,e)},t.prototype.configureScope=function(t){var e=this.getStackTop(),n=e.scope,r=e.client;n&&r&&t(n)},t.prototype.run=function(t){var e=g(this);try{t(this)}finally{g(e)}},t.prototype.getIntegration=function(t){var e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(n){return c&&a.kg.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},t.prototype.startSpan=function(t){return this._callExtensionMethod("startSpan",t)},t.prototype.startTransaction=function(t,e){return this._callExtensionMethod("startTransaction",t,e)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype.captureSession=function(t){if(void 0===t&&(t=!1),t)return this.endSession();this._sendSessionUpdate()},t.prototype.endSession=function(){var t=this.getStackTop(),e=t&&t.scope,n=e&&e.getSession();n&&n.close(),this._sendSessionUpdate(),e&&e.setSession()},t.prototype.startSession=function(t){var e=this.getStackTop(),n=e.scope,i=e.client,o=i&&i.getOptions()||{},a=o.release,u=o.environment,c=((0,s.R)().navigator||{}).userAgent,l=new f((0,r.pi)((0,r.pi)((0,r.pi)({release:a,environment:u},n&&{user:n.getUser()}),c&&{userAgent:c}),t));if(n){var h=n.getSession&&n.getSession();h&&"ok"===h.status&&h.update({status:"exited"}),this.endSession(),n.setSession(l)}return l},t.prototype._sendSessionUpdate=function(){var t=this.getStackTop(),e=t.scope,n=t.client;if(e){var r=e.getSession&&e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}},t.prototype._invokeClient=function(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=this.getStackTop(),a=o.scope,s=o.client;s&&s[t]&&(e=s)[t].apply(e,(0,r.fl)(n,[a]))},t.prototype._callExtensionMethod=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=d(),i=r.__SENTRY__;if(i&&i.extensions&&"function"===typeof i.extensions[t])return i.extensions[t].apply(this,e);c&&a.kg.warn("Extension method "+t+" couldn't be found, doing nothing.")},t}();function d(){var t=(0,s.R)();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}function g(t){var e=d(),n=y(e);return b(e,t),n}function v(){var t=d();return m(t)&&!y(t).isOlderThan(4)||b(t,new p),(0,u.KV)()?function(t){try{var e=d().__SENTRY__,n=e&&e.extensions&&e.extensions.domain&&e.extensions.domain.active;if(!n)return y(t);if(!m(n)||y(n).isOlderThan(4)){var r=y(t).getStackTop();b(n,new p(r.client,l.s.clone(r.scope)))}return y(n)}catch(i){return y(t)}}(t):y(t)}function m(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function y(t){return(0,s.Y)("hub",(function(){return new p}),t)}function b(t,e){return!!t&&((t.__SENTRY__=t.__SENTRY__||{}).hub=e,!0)}},1684:function(t,e,n){"use strict";n.d(e,{s:function(){return u},c:function(){return l}});var r=n(5163),i=n(1757),o=n(7790),a=n(7946),s=n(5907),u=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}return t.clone=function(e){var n=new t;return e&&(n._breadcrumbs=(0,r.fl)(e._breadcrumbs),n._tags=(0,r.pi)({},e._tags),n._extra=(0,r.pi)({},e._extra),n._contexts=(0,r.pi)({},e._contexts),n._user=e._user,n._level=e._level,n._span=e._span,n._session=e._session,n._transactionName=e._transactionName,n._fingerprint=e._fingerprint,n._eventProcessors=(0,r.fl)(e._eventProcessors),n._requestSession=e._requestSession),n},t.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},t.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},t.prototype.setUser=function(t){return this._user=t||{},this._session&&this._session.update({user:t}),this._notifyScopeListeners(),this},t.prototype.getUser=function(){return this._user},t.prototype.getRequestSession=function(){return this._requestSession},t.prototype.setRequestSession=function(t){return this._requestSession=t,this},t.prototype.setTags=function(t){return this._tags=(0,r.pi)((0,r.pi)({},this._tags),t),this._notifyScopeListeners(),this},t.prototype.setTag=function(t,e){var n;return this._tags=(0,r.pi)((0,r.pi)({},this._tags),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(t){return this._extra=(0,r.pi)((0,r.pi)({},this._extra),t),this._notifyScopeListeners(),this},t.prototype.setExtra=function(t,e){var n;return this._extra=(0,r.pi)((0,r.pi)({},this._extra),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(t){return this._fingerprint=t,this._notifyScopeListeners(),this},t.prototype.setLevel=function(t){return this._level=t,this._notifyScopeListeners(),this},t.prototype.setTransactionName=function(t){return this._transactionName=t,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(t){return this.setTransactionName(t)},t.prototype.setContext=function(t,e){var n;return null===e?delete this._contexts[t]:this._contexts=(0,r.pi)((0,r.pi)({},this._contexts),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.prototype.getTransaction=function(){var t=this.getSpan();return t&&t.transaction},t.prototype.setSession=function(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this},t.prototype.getSession=function(){return this._session},t.prototype.update=function(e){if(!e)return this;if("function"===typeof e){var n=e(this);return n instanceof t?n:this}return e instanceof t?(this._tags=(0,r.pi)((0,r.pi)({},this._tags),e._tags),this._extra=(0,r.pi)((0,r.pi)({},this._extra),e._extra),this._contexts=(0,r.pi)((0,r.pi)({},this._contexts),e._contexts),e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):(0,i.PO)(e)&&(e=e,this._tags=(0,r.pi)((0,r.pi)({},this._tags),e.tags),this._extra=(0,r.pi)((0,r.pi)({},this._extra),e.extra),this._contexts=(0,r.pi)((0,r.pi)({},this._contexts),e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(t,e){var n="number"===typeof e?Math.min(e,100):100;if(n<=0)return this;var i=(0,r.pi)({timestamp:(0,o.yW)()},t);return this._breadcrumbs=(0,r.fl)(this._breadcrumbs,[i]).slice(-n),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype.applyToEvent=function(t,e){if(this._extra&&Object.keys(this._extra).length&&(t.extra=(0,r.pi)((0,r.pi)({},this._extra),t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=(0,r.pi)((0,r.pi)({},this._tags),t.tags)),this._user&&Object.keys(this._user).length&&(t.user=(0,r.pi)((0,r.pi)({},this._user),t.user)),this._contexts&&Object.keys(this._contexts).length&&(t.contexts=(0,r.pi)((0,r.pi)({},this._contexts),t.contexts)),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts=(0,r.pi)({trace:this._span.getTraceContext()},t.contexts);var n=this._span.transaction&&this._span.transaction.name;n&&(t.tags=(0,r.pi)({transaction:n},t.tags))}return this._applyFingerprint(t),t.breadcrumbs=(0,r.fl)(t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,t.sdkProcessingMetadata=this._sdkProcessingMetadata,this._notifyEventProcessors((0,r.fl)(c(),this._eventProcessors),t,e)},t.prototype.setSDKProcessingMetadata=function(t){return this._sdkProcessingMetadata=(0,r.pi)((0,r.pi)({},this._sdkProcessingMetadata),t),this},t.prototype._notifyEventProcessors=function(t,e,n,o){var s=this;return void 0===o&&(o=0),new a.cW((function(a,u){var c=t[o];if(null===e||"function"!==typeof c)a(e);else{var l=c((0,r.pi)({},e),n);(0,i.J8)(l)?l.then((function(e){return s._notifyEventProcessors(t,e,n,o+1).then(a)})).then(null,u):s._notifyEventProcessors(t,l,n,o+1).then(a).then(null,u)}}))},t.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((function(e){e(t)})),this._notifyingListeners=!1)},t.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},t}();function c(){return(0,s.Y)("globalEventProcessors",(function(){return[]}))}function l(t){c().push(t)}},7734:function(t,e,n){"use strict";n.d(e,{d:function(){return r},x:function(){return i}});var r="finishReason",i=["heartbeatFailed","idleTimeout","documentHidden"]},4741:function(t,e,n){"use strict";n.d(e,{h:function(){return r}});var r="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},2252:function(t,e,n){"use strict";n.d(e,{ro:function(){return y},lb:function(){return m}});var r=n(5163),i=n(7183),o=n(8536),a=n(1757),s=n(4266),u=n(4005),c=n(4741),l=n(1265);function h(){var t=(0,l.x1)();if(t){var e="internal_error";c.h&&o.kg.log("[Tracing] Transaction: "+e+" -> Global error occured"),t.setStatus(e)}}var f=n(1177),p=n(1753);function d(){var t=this.getScope();if(t){var e=t.getSpan();if(e)return{"sentry-trace":e.toTraceparent()}}return{}}function g(t,e,n){return(0,l.zu)(e)?void 0!==t.sampled?(t.setMetadata({transactionSampling:{method:"explicitly_set"}}),t):("function"===typeof e.tracesSampler?(r=e.tracesSampler(n),t.setMetadata({transactionSampling:{method:"client_sampler",rate:Number(r)}})):void 0!==n.parentSampled?(r=n.parentSampled,t.setMetadata({transactionSampling:{method:"inheritance"}})):(r=e.tracesSampleRate,t.setMetadata({transactionSampling:{method:"client_rate",rate:Number(r)}})),function(t){if((0,a.i2)(t)||"number"!==typeof t&&"boolean"!==typeof t)return c.h&&o.kg.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(t)+" of type "+JSON.stringify(typeof t)+"."),!1;if(t<0||t>1)return c.h&&o.kg.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+t+"."),!1;return!0}(r)?r?(t.sampled=Math.random()<r,t.sampled?(c.h&&o.kg.log("[Tracing] starting "+t.op+" transaction - "+t.name),t):(c.h&&o.kg.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(r)+")"),t)):(c.h&&o.kg.log("[Tracing] Discarding transaction because "+("function"===typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),t.sampled=!1,t):(c.h&&o.kg.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)):(t.sampled=!1,t);var r}function v(t,e){var n=this.getClient(),i=n&&n.getOptions()||{},o=new p.Y(t,this);return(o=g(o,i,(0,r.pi)({parentSampled:t.parentSampled,transactionContext:t},e))).sampled&&o.initSpanRecorder(i._experiments&&i._experiments.maxSpans),o}function m(t,e,n,i,o){var a=t.getClient(),s=a&&a.getOptions()||{},u=new f.io(e,t,n,i);return(u=g(u,s,(0,r.pi)({parentSampled:e.parentSampled,transactionContext:e},o))).sampled&&u.initSpanRecorder(s._experiments&&s._experiments.maxSpans),u}function y(){!function(){var t=(0,i.cu)();t.__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=v),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=d))}(),(0,s.KV)()&&function(){var e=(0,i.cu)();if(e.__SENTRY__){var n={mongodb:function(){return new((0,s.l$)(t,"./integrations/node/mongo").Mongo)},mongoose:function(){return new((0,s.l$)(t,"./integrations/node/mongo").Mongo)({mongoose:!0})},mysql:function(){return new((0,s.l$)(t,"./integrations/node/mysql").Mysql)},pg:function(){return new((0,s.l$)(t,"./integrations/node/postgres").Postgres)}},o=Object.keys(n).filter((function(t){return!!(0,s.$y)(t)})).map((function(t){try{return n[t]()}catch(e){return}})).filter((function(t){return t}));o.length>0&&(e.__SENTRY__.integrations=(0,r.fl)(e.__SENTRY__.integrations||[],o))}}(),(0,u.o)("error",h),(0,u.o)("unhandledrejection",h)}t=n.hmd(t)},1177:function(t,e,n){"use strict";n.d(e,{nT:function(){return l},io:function(){return f}});var r=n(5163),i=n(7790),o=n(8536),a=n(7734),s=n(4741),u=n(5274),c=n(1753),l=1e3,h=function(t){function e(e,n,r,i){void 0===r&&(r="");var o=t.call(this,i)||this;return o._pushActivity=e,o._popActivity=n,o.transactionSpanId=r,o}return(0,r.ZT)(e,t),e.prototype.add=function(e){var n=this;e.spanId!==this.transactionSpanId&&(e.finish=function(t){e.endTimestamp="number"===typeof t?t:(0,i._I)(),n._popActivity(e.spanId)},void 0===e.endTimestamp&&this._pushActivity(e.spanId)),t.prototype.add.call(this,e)},e}(u.gB),f=function(t){function e(e,n,r,i){void 0===r&&(r=l),void 0===i&&(i=!1);var a=t.call(this,e,n)||this;return a._idleHub=n,a._idleTimeout=r,a._onScope=i,a.activities={},a._heartbeatCounter=0,a._finished=!1,a._beforeFinishCallbacks=[],n&&i&&(p(n),s.h&&o.kg.log("Setting idle transaction on scope. Span ID: "+a.spanId),n.configureScope((function(t){return t.setSpan(a)}))),a._initTimeout=setTimeout((function(){a._finished||a.finish()}),a._idleTimeout),a}return(0,r.ZT)(e,t),e.prototype.finish=function(e){var n,a,u=this;if(void 0===e&&(e=(0,i._I)()),this._finished=!0,this.activities={},this.spanRecorder){s.h&&o.kg.log("[Tracing] finishing IdleTransaction",new Date(1e3*e).toISOString(),this.op);try{for(var c=(0,r.XA)(this._beforeFinishCallbacks),l=c.next();!l.done;l=c.next()){(0,l.value)(this,e)}}catch(h){n={error:h}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(n)throw n.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter((function(t){if(t.spanId===u.spanId)return!0;t.endTimestamp||(t.endTimestamp=e,t.setStatus("cancelled"),s.h&&o.kg.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(t,void 0,2)));var n=t.startTimestamp<e;return n||s.h&&o.kg.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(t,void 0,2)),n})),s.h&&o.kg.log("[Tracing] flushing IdleTransaction")}else s.h&&o.kg.log("[Tracing] No active IdleTransaction");return this._onScope&&p(this._idleHub),t.prototype.finish.call(this,e)},e.prototype.registerBeforeFinishCallback=function(t){this._beforeFinishCallbacks.push(t)},e.prototype.initSpanRecorder=function(t){var e=this;if(!this.spanRecorder){this.spanRecorder=new h((function(t){e._finished||e._pushActivity(t)}),(function(t){e._finished||e._popActivity(t)}),this.spanId,t),s.h&&o.kg.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)},e.prototype._pushActivity=function(t){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),s.h&&o.kg.log("[Tracing] pushActivity: "+t),this.activities[t]=!0,s.h&&o.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)},e.prototype._popActivity=function(t){var e=this;if(this.activities[t]&&(s.h&&o.kg.log("[Tracing] popActivity "+t),delete this.activities[t],s.h&&o.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){var n=this._idleTimeout,r=(0,i._I)()+n/1e3;setTimeout((function(){e._finished||(e.setTag(a.d,a.x[1]),e.finish(r))}),n)}},e.prototype._beat=function(){if(!this._finished){var t=Object.keys(this.activities).join("");t===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?(s.h&&o.kg.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this.setTag(a.d,a.x[0]),this.finish()):this._pingHeartbeat()}},e.prototype._pingHeartbeat=function(){var t=this;s.h&&o.kg.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),setTimeout((function(){t._beat()}),5e3)},e}(c.Y);function p(t){if(t){var e=t.getScope();if(e)e.getTransaction()&&e.setSpan(void 0)}}},5274:function(t,e,n){"use strict";n.d(e,{gB:function(){return s},Dr:function(){return u}});var r=n(5163),i=n(3699),o=n(7790),a=n(1995),s=function(){function t(t){void 0===t&&(t=1e3),this.spans=[],this._maxlen=t}return t.prototype.add=function(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)},t}(),u=function(){function t(t){if(this.traceId=(0,i.DM)(),this.spanId=(0,i.DM)().substring(16),this.startTimestamp=(0,o._I)(),this.tags={},this.data={},!t)return this;t.traceId&&(this.traceId=t.traceId),t.spanId&&(this.spanId=t.spanId),t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.data&&(this.data=t.data),t.tags&&(this.tags=t.tags),t.status&&(this.status=t.status),t.startTimestamp&&(this.startTimestamp=t.startTimestamp),t.endTimestamp&&(this.endTimestamp=t.endTimestamp)}return t.prototype.child=function(t){return this.startChild(t)},t.prototype.startChild=function(e){var n=new t((0,r.pi)((0,r.pi)({},e),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,n},t.prototype.setTag=function(t,e){var n;return this.tags=(0,r.pi)((0,r.pi)({},this.tags),((n={})[t]=e,n)),this},t.prototype.setData=function(t,e){var n;return this.data=(0,r.pi)((0,r.pi)({},this.data),((n={})[t]=e,n)),this},t.prototype.setStatus=function(t){return this.status=t,this},t.prototype.setHttpStatus=function(t){this.setTag("http.status_code",String(t));var e=function(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}(t);return"unknown_error"!==e&&this.setStatus(e),this},t.prototype.isSuccess=function(){return"ok"===this.status},t.prototype.finish=function(t){this.endTimestamp="number"===typeof t?t:(0,o._I)()},t.prototype.toTraceparent=function(){var t="";return void 0!==this.sampled&&(t=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+t},t.prototype.toContext=function(){return(0,a.Jr)({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},t.prototype.updateWithContext=function(t){var e,n,r,i,o;return this.data=null!==(e=t.data)&&void 0!==e?e:{},this.description=t.description,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this.sampled=t.sampled,this.spanId=null!==(n=t.spanId)&&void 0!==n?n:this.spanId,this.startTimestamp=null!==(r=t.startTimestamp)&&void 0!==r?r:this.startTimestamp,this.status=t.status,this.tags=null!==(i=t.tags)&&void 0!==i?i:{},this.traceId=null!==(o=t.traceId)&&void 0!==o?o:this.traceId,this},t.prototype.getTraceContext=function(){return(0,a.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},t.prototype.toJSON=function(){return(0,a.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},t}()},1753:function(t,e,n){"use strict";n.d(e,{Y:function(){return l}});var r=n(5163),i=n(7183),o=n(1757),a=n(8536),s=n(1995),u=n(4741),c=n(5274),l=function(t){function e(e,n){var r=t.call(this,e)||this;return r._measurements={},r._hub=(0,i.Gd)(),(0,o.V9)(n,i.Xb)&&(r._hub=n),r.name=e.name||"",r.metadata=e.metadata||{},r._trimEnd=e.trimEnd,r.transaction=r,r}return(0,r.ZT)(e,t),e.prototype.setName=function(t){this.name=t},e.prototype.initSpanRecorder=function(t){void 0===t&&(t=1e3),this.spanRecorder||(this.spanRecorder=new c.gB(t)),this.spanRecorder.add(this)},e.prototype.setMeasurements=function(t){this._measurements=(0,r.pi)({},t)},e.prototype.setMetadata=function(t){this.metadata=(0,r.pi)((0,r.pi)({},this.metadata),t)},e.prototype.finish=function(e){var n=this;if(void 0===this.endTimestamp){if(this.name||(u.h&&a.kg.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),t.prototype.finish.call(this,e),!0===this.sampled){var r=this.spanRecorder?this.spanRecorder.spans.filter((function(t){return t!==n&&t.endTimestamp})):[];this._trimEnd&&r.length>0&&(this.endTimestamp=r.reduce((function(t,e){return t.endTimestamp&&e.endTimestamp?t.endTimestamp>e.endTimestamp?t:e:t})).endTimestamp);var i={contexts:{trace:this.getTraceContext()},spans:r,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:this.metadata};return Object.keys(this._measurements).length>0&&(u.h&&a.kg.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),i.measurements=this._measurements),u.h&&a.kg.log("[Tracing] Finishing "+this.op+" transaction: "+this.name+"."),this._hub.captureEvent(i)}u.h&&a.kg.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");var o=this._hub.getClient(),s=o&&o.getTransport&&o.getTransport();s&&s.recordLostEvent&&s.recordLostEvent("sample_rate","transaction")}},e.prototype.toContext=function(){var e=t.prototype.toContext.call(this);return(0,s.Jr)((0,r.pi)((0,r.pi)({},e),{name:this.name,trimEnd:this._trimEnd}))},e.prototype.updateWithContext=function(e){var n;return t.prototype.updateWithContext.call(this,e),this.name=null!==(n=e.name)&&void 0!==n?n:"",this._trimEnd=e.trimEnd,this},e}(c.Dr)},1265:function(t,e,n){"use strict";n.d(e,{zu:function(){return i},x1:function(){return o},XL:function(){return a},WB:function(){return s}});var r=n(7183);function i(t){var e=(0,r.Gd)().getClient(),n=t||e&&e.getOptions();return!!n&&("tracesSampleRate"in n||"tracesSampler"in n)}function o(t){var e=(t||(0,r.Gd)()).getScope();return e&&e.getTransaction()}function a(t){return t/1e3}function s(t){return 1e3*t}},4194:function(t,e,n){"use strict";n.d(e,{R:function(){return o},l:function(){return s}});var r=n(5907),i=n(1757);function o(t,e){try{for(var n=t,r=[],i=0,o=0,s=" > ".length,u=void 0;n&&i++<5&&!("html"===(u=a(n,e))||i>1&&o+r.length*s+u.length>=80);)r.push(u),o+=u.length,n=n.parentNode;return r.reverse().join(" > ")}catch(c){return"<unknown>"}}function a(t,e){var n,r,o,a,s,u=t,c=[];if(!u||!u.tagName)return"";c.push(u.tagName.toLowerCase());var l=e&&e.length?e.filter((function(t){return u.getAttribute(t)})).map((function(t){return[t,u.getAttribute(t)]})):null;if(l&&l.length)l.forEach((function(t){c.push("["+t[0]+'="'+t[1]+'"]')}));else if(u.id&&c.push("#"+u.id),(n=u.className)&&(0,i.HD)(n))for(r=n.split(/\s+/),s=0;s<r.length;s++)c.push("."+r[s]);var h=["type","name","title","alt"];for(s=0;s<h.length;s++)o=h[s],(a=u.getAttribute(o))&&c.push("["+o+'="'+a+'"]');return c.join("")}function s(){var t=(0,r.R)();try{return t.document.location.href}catch(e){return""}}},1923:function(t,e,n){"use strict";n.d(e,{h:function(){return r}});var r="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},5907:function(t,e,n){"use strict";n.d(e,{R:function(){return o},Y:function(){return a}});var r=n(4266),i={};function o(){return(0,r.KV)()?n.g:"undefined"!==typeof window?window:"undefined"!==typeof self?self:i}function a(t,e,n){var r=n||o(),i=r.__SENTRY__=r.__SENTRY__||{};return i[t]||(i[t]=e())}},4005:function(t,e,n){"use strict";n.d(e,{o:function(){return v}});var r,i=n(5163),o=n(1923),a=n(5907),s=n(1757),u=n(8536),c=n(1995),l=n(9038),h=n(9798),f=(0,a.R)(),p={},d={};function g(t){if(!d[t])switch(d[t]=!0,t){case"console":!function(){if(!("console"in f))return;u.RU.forEach((function(t){t in f.console&&(0,c.hl)(f.console,t,(function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];m("console",{args:n,level:t}),e&&e.apply(f.console,n)}}))}))}();break;case"dom":!function(){if(!("document"in f))return;var t=m.bind(null,"dom"),e=T(t,!0);f.document.addEventListener("click",e,!1),f.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach((function(e){var n=f[e]&&f[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,c.hl)(n,"addEventListener",(function(e){return function(n,r,i){if("click"===n||"keypress"==n)try{var o=this,a=o.__sentry_instrumentation_handlers__=o.__sentry_instrumentation_handlers__||{},s=a[n]=a[n]||{refCount:0};if(!s.handler){var u=T(t);s.handler=u,e.call(this,n,u,i)}s.refCount+=1}catch(c){}return e.call(this,n,r,i)}})),(0,c.hl)(n,"removeEventListener",(function(t){return function(e,n,r){if("click"===e||"keypress"==e)try{var i=this,o=i.__sentry_instrumentation_handlers__||{},a=o[e];a&&(a.refCount-=1,a.refCount<=0&&(t.call(this,e,a.handler,r),a.handler=void 0,delete o[e]),0===Object.keys(o).length&&delete i.__sentry_instrumentation_handlers__)}catch(s){}return t.call(this,e,n,r)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in f))return;var t=XMLHttpRequest.prototype;(0,c.hl)(t,"open",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this,i=e[1],o=r.__sentry_xhr__={method:(0,s.HD)(e[0])?e[0].toUpperCase():e[0],url:e[1]};(0,s.HD)(i)&&"POST"===o.method&&i.match(/sentry_key/)&&(r.__sentry_own_request__=!0);var a=function(){if(4===r.readyState){try{o.status_code=r.status}catch(t){}m("xhr",{args:e,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:r})}};return"onreadystatechange"in r&&"function"===typeof r.onreadystatechange?(0,c.hl)(r,"onreadystatechange",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return a(),t.apply(r,e)}})):r.addEventListener("readystatechange",a),t.apply(r,e)}})),(0,c.hl)(t,"send",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this.__sentry_xhr__&&void 0!==e[0]&&(this.__sentry_xhr__.body=e[0]),m("xhr",{args:e,startTimestamp:Date.now(),xhr:this}),t.apply(this,e)}}))}();break;case"fetch":!function(){if(!(0,h.t$)())return;(0,c.hl)(f,"fetch",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r={args:e,fetchData:{method:y(e),url:b(e)},startTimestamp:Date.now()};return m("fetch",(0,i.pi)({},r)),t.apply(f,e).then((function(t){return m("fetch",(0,i.pi)((0,i.pi)({},r),{endTimestamp:Date.now(),response:t})),t}),(function(t){throw m("fetch",(0,i.pi)((0,i.pi)({},r),{endTimestamp:Date.now(),error:t})),t}))}}))}();break;case"history":!function(){if(!(0,h.Bf)())return;var t=f.onpopstate;function e(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=e.length>2?e[2]:void 0;if(i){var o=r,a=String(i);r=a,m("history",{from:o,to:a})}return t.apply(this,e)}}f.onpopstate=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=f.location.href,o=r;if(r=i,m("history",{from:o,to:i}),t)try{return t.apply(this,e)}catch(a){}},(0,c.hl)(f.history,"pushState",e),(0,c.hl)(f.history,"replaceState",e)}();break;case"error":E=f.onerror,f.onerror=function(t,e,n,r,i){return m("error",{column:r,error:i,line:n,msg:t,url:e}),!!E&&E.apply(this,arguments)};break;case"unhandledrejection":I=f.onunhandledrejection,f.onunhandledrejection=function(t){return m("unhandledrejection",t),!I||I.apply(this,arguments)};break;default:return void(o.h&&u.kg.warn("unknown instrumentation type:",t))}}function v(t,e){p[t]=p[t]||[],p[t].push(e),g(t)}function m(t,e){var n,r;if(t&&p[t])try{for(var a=(0,i.XA)(p[t]||[]),s=a.next();!s.done;s=a.next()){var c=s.value;try{c(e)}catch(h){o.h&&u.kg.error("Error while triggering instrumentation handler.\nType: "+t+"\nName: "+(0,l.$P)(c)+"\nError:",h)}}}catch(f){n={error:f}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}function y(t){return void 0===t&&(t=[]),"Request"in f&&(0,s.V9)(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}function b(t){return void 0===t&&(t=[]),"string"===typeof t[0]?t[0]:"Request"in f&&(0,s.V9)(t[0],Request)?t[0].url:String(t[0])}var w,_;function T(t,e){return void 0===e&&(e=!1),function(n){if(n&&_!==n&&!function(t){if("keypress"!==t.type)return!1;try{var e=t.target;if(!e||!e.tagName)return!0;if("INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable)return!1}catch(n){}return!0}(n)){var r="keypress"===n.type?"input":n.type;(void 0===w||function(t,e){if(!t)return!0;if(t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch(n){}return!1}(_,n))&&(t({event:n,name:r,global:e}),_=n),clearTimeout(w),w=f.setTimeout((function(){w=void 0}),1e3)}}}var E=null;var I=null},1757:function(t,e,n){"use strict";n.d(e,{VZ:function(){return i},VW:function(){return a},TX:function(){return s},fm:function(){return u},HD:function(){return c},pt:function(){return l},PO:function(){return h},cO:function(){return f},kK:function(){return p},Kj:function(){return d},J8:function(){return g},Cy:function(){return v},i2:function(){return m},V9:function(){return y}});var r=Object.prototype.toString;function i(t){switch(r.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return y(t,Error)}}function o(t,e){return r.call(t)==="[object "+e+"]"}function a(t){return o(t,"ErrorEvent")}function s(t){return o(t,"DOMError")}function u(t){return o(t,"DOMException")}function c(t){return o(t,"String")}function l(t){return null===t||"object"!==typeof t&&"function"!==typeof t}function h(t){return o(t,"Object")}function f(t){return"undefined"!==typeof Event&&y(t,Event)}function p(t){return"undefined"!==typeof Element&&y(t,Element)}function d(t){return o(t,"RegExp")}function g(t){return Boolean(t&&t.then&&"function"===typeof t.then)}function v(t){return h(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function m(t){return"number"===typeof t&&t!==t}function y(t,e){try{return t instanceof e}catch(n){return!1}}},8536:function(t,e,n){"use strict";n.d(e,{RU:function(){return c},Cf:function(){return l},kg:function(){return r}});var r,i=n(5163),o=n(1923),a=n(5907),s=(0,a.R)(),u="Sentry Logger ",c=["debug","info","warn","error","log","assert"];function l(t){var e=(0,a.R)();if(!("console"in e))return t();var n=e.console,r={};c.forEach((function(t){var i=n[t]&&n[t].__sentry_original__;t in e.console&&i&&(r[t]=n[t],n[t]=i)}));try{return t()}finally{Object.keys(r).forEach((function(t){n[t]=r[t]}))}}function h(){var t=!1,e={enable:function(){t=!0},disable:function(){t=!1}};return o.h?c.forEach((function(n){e[n]=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t&&l((function(){var t;(t=s.console)[n].apply(t,(0,i.fl)([u+"["+n+"]:"],e))}))}})):c.forEach((function(t){e[t]=function(){}})),e}r=o.h?(0,a.Y)("logger",h):h()},3699:function(t,e,n){"use strict";n.d(e,{DM:function(){return a},en:function(){return s},jH:function(){return c},Db:function(){return l},EG:function(){return h},rt:function(){return f},YO:function(){return p}});var r=n(5163),i=n(5907),o=n(1995);function a(){var t=(0,i.R)(),e=t.crypto||t.msCrypto;if(void 0!==e&&e.getRandomValues){var n=new Uint16Array(8);e.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}function s(t){if(!t)return{};var e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+n+r}}function u(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function c(t){var e=t.message,n=t.event_id;if(e)return e;var r=u(t);return r?r.type&&r.value?r.type+": "+r.value:r.type||r.value||n||"<unknown>":n||"<unknown>"}function l(t,e,n){var r=t.exception=t.exception||{},i=r.values=r.values||[],o=i[0]=i[0]||{};o.value||(o.value=e||""),o.type||(o.type=n||"Error")}function h(t,e){var n=u(t);if(n){var i=n.mechanism;if(n.mechanism=(0,r.pi)((0,r.pi)((0,r.pi)({},{type:"generic",handled:!0}),i),e),e&&"data"in e){var o=(0,r.pi)((0,r.pi)({},i&&i.data),e.data);n.mechanism.data=o}}}function f(t){return t.split(/[\?#]/,1)[0]}function p(t){if(t&&t.__sentry_captured__)return!0;try{(0,o.xp)(t,"__sentry_captured__",!0)}catch(e){}return!1}},4266:function(t,e,n){"use strict";n.d(e,{l$:function(){return o},KV:function(){return i},$y:function(){return a}}),t=n.hmd(t);var r=n(4406);function i(){return!("undefined"!==typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call("undefined"!==typeof r?r:0)}function o(t,e){return t.require(e)}function a(e){var n;try{n=o(t,e)}catch(i){}try{var r=o(t,"process").cwd;n=o(t,r()+"/node_modules/"+e)}catch(i){}return n}},1995:function(t,e,n){"use strict";n.d(e,{hl:function(){return s},xp:function(){return u},$Q:function(){return c},HK:function(){return l},_j:function(){return h},Sh:function(){return f},zf:function(){return g},Jr:function(){return v}});var r=n(5163),i=n(4194),o=n(1757),a=n(9660);function s(t,e,n){if(e in t){var r=t[e],i=n(r);if("function"===typeof i)try{c(i,r)}catch(o){}t[e]=i}}function u(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}function c(t,e){var n=e.prototype||{};t.prototype=e.prototype=n,u(t,"__sentry_original__",e)}function l(t){return t.__sentry_original__}function h(t){return Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")}function f(t){var e=t;if((0,o.VZ)(t))e=(0,r.pi)({message:t.message,name:t.name,stack:t.stack},d(t));else if((0,o.cO)(t)){var n=t;e=(0,r.pi)({type:n.type,target:p(n.target),currentTarget:p(n.currentTarget)},d(n)),"undefined"!==typeof CustomEvent&&(0,o.V9)(t,CustomEvent)&&(e.detail=n.detail)}return e}function p(t){try{return(0,o.kK)(t)?(0,i.R)(t):Object.prototype.toString.call(t)}catch(e){return"<unknown>"}}function d(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function g(t,e){void 0===e&&(e=40);var n=Object.keys(f(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return(0,a.$G)(n[0],e);for(var r=n.length;r>0;r--){var i=n.slice(0,r).join(", ");if(!(i.length>e))return r===n.length?i:(0,a.$G)(i,e)}return""}function v(t){var e,n;if((0,o.PO)(t)){var i={};try{for(var a=(0,r.XA)(Object.keys(t)),s=a.next();!s.done;s=a.next()){var u=s.value;"undefined"!==typeof t[u]&&(i[u]=v(t[u]))}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return i}return Array.isArray(t)?t.map(v):t}},9038:function(t,e,n){"use strict";n.d(e,{pE:function(){return i},$P:function(){return s}});var r=n(5163);function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.sort((function(t,e){return t[0]-e[0]})).map((function(t){return t[1]}));return function(t,e){var i,a,s,u;void 0===e&&(e=0);var c=[];try{for(var l=(0,r.XA)(t.split("\n").slice(e)),h=l.next();!h.done;h=l.next()){var f=h.value;try{for(var p=(s=void 0,(0,r.XA)(n)),d=p.next();!d.done;d=p.next()){var g=(0,d.value)(f);if(g){c.push(g);break}}}catch(v){s={error:v}}finally{try{d&&!d.done&&(u=p.return)&&u.call(p)}finally{if(s)throw s.error}}}}catch(m){i={error:m}}finally{try{h&&!h.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}return o(c)}}function o(t){if(!t.length)return[];var e=t,n=e[0].function||"",i=e[e.length-1].function||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(e=e.slice(1)),-1!==i.indexOf("sentryWrapped")&&(e=e.slice(0,-1)),e.slice(0,50).map((function(t){return(0,r.pi)((0,r.pi)({},t),{filename:t.filename||e[0].filename,function:t.function||"?"})})).reverse()}var a="<anonymous>";function s(t){try{return t&&"function"===typeof t&&t.name||a}catch(e){return a}}},9660:function(t,e,n){"use strict";n.d(e,{$G:function(){return i},nK:function(){return o},zC:function(){return a}});var r=n(1757);function i(t,e){return void 0===e&&(e=0),"string"!==typeof t||0===e||t.length<=e?t:t.substr(0,e)+"..."}function o(t,e){if(!Array.isArray(t))return"";for(var n=[],r=0;r<t.length;r++){var i=t[r];try{n.push(String(i))}catch(o){n.push("[value cannot be serialized]")}}return n.join(e)}function a(t,e){return!!(0,r.HD)(t)&&((0,r.Kj)(e)?e.test(t):"string"===typeof e&&-1!==t.indexOf(e))}},9798:function(t,e,n){"use strict";n.d(e,{Ak:function(){return a},Du:function(){return s},t$:function(){return u},hv:function(){return c},Bf:function(){return l}});var r=n(1923),i=n(5907),o=n(8536);function a(){if(!("fetch"in(0,i.R)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function s(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function u(){if(!a())return!1;var t=(0,i.R)();if(s(t.fetch))return!0;var e=!1,n=t.document;if(n&&"function"===typeof n.createElement)try{var u=n.createElement("iframe");u.hidden=!0,n.head.appendChild(u),u.contentWindow&&u.contentWindow.fetch&&(e=s(u.contentWindow.fetch)),n.head.removeChild(u)}catch(c){r.h&&o.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",c)}return e}function c(){if(!a())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(t){return!1}}function l(){var t=(0,i.R)(),e=t.chrome,n=e&&e.app&&e.app.runtime,r="history"in t&&!!t.history.pushState&&!!t.history.replaceState;return!n&&r}},7946:function(t,e,n){"use strict";n.d(e,{WD:function(){return i},$2:function(){return o},cW:function(){return a}});var r=n(1757);function i(t){return new a((function(e){e(t)}))}function o(t){return new a((function(e,n){n(t)}))}var a=function(){function t(t){var e=this;this._state=0,this._handlers=[],this._resolve=function(t){e._setResult(1,t)},this._reject=function(t){e._setResult(2,t)},this._setResult=function(t,n){0===e._state&&((0,r.J8)(n)?n.then(e._resolve,e._reject):(e._state=t,e._value=n,e._executeHandlers()))},this._executeHandlers=function(){if(0!==e._state){var t=e._handlers.slice();e._handlers=[],t.forEach((function(t){t[0]||(1===e._state&&t[1](e._value),2===e._state&&t[2](e._value),t[0]=!0)}))}};try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}return t.prototype.then=function(e,n){var r=this;return new t((function(t,i){r._handlers.push([!1,function(n){if(e)try{t(e(n))}catch(r){i(r)}else t(n)},function(e){if(n)try{t(n(e))}catch(r){i(r)}else i(e)}]),r._executeHandlers()}))},t.prototype.catch=function(t){return this.then((function(t){return t}),t)},t.prototype.finally=function(e){var n=this;return new t((function(t,r){var i,o;return n.then((function(t){o=!1,i=t,e&&e()}),(function(t){o=!0,i=t,e&&e()})).then((function(){o?r(i):t(i)}))}))},t}()},7790:function(t,e,n){"use strict";n.d(e,{yW:function(){return u},ph:function(){return c},_I:function(){return l},Z1:function(){return h}});var r=n(5907),i=n(4266);t=n.hmd(t);var o={nowSeconds:function(){return Date.now()/1e3}};var a=(0,i.KV)()?function(){try{return(0,i.l$)(t,"perf_hooks").performance}catch(e){return}}():function(){var t=(0,r.R)().performance;if(t&&t.now)return{now:function(){return t.now()},timeOrigin:Date.now()-t.now()}}(),s=void 0===a?o:{nowSeconds:function(){return(a.timeOrigin+a.now())/1e3}},u=o.nowSeconds.bind(o),c=s.nowSeconds.bind(s),l=c,h=function(){var t=(0,r.R)().performance;if(t&&t.now){var e=36e5,n=t.now(),i=Date.now(),o=t.timeOrigin?Math.abs(t.timeOrigin+n-i):e,a=o<e,s=t.timing&&t.timing.navigationStart,u="number"===typeof s?Math.abs(s+n-i):e;return a||u<e?o<=u?("timeOrigin",t.timeOrigin):("navigationStart",s):("dateNow",i)}"none"}()},4961:function(t,e,n){("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{}).SENTRY_RELEASE={id:"CHIUDNxYnHVrp42S0_zSO"}},2779:function(t,e){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var o=typeof n;if("string"===o||"number"===o)t.push(n);else if(Array.isArray(n)&&n.length){var a=i.apply(null,n);a&&t.push(a)}else if("object"===o)for(var s in n)r.call(n,s)&&n[s]&&t.push(s)}}return t.join(" ")}t.exports?(i.default=i,t.exports=i):void 0===(n=function(){return i}.apply(e,[]))||(t.exports=n)}()},5532:function(t,e,n){"use strict";n.d(e,{Z:function(){return r.Z}});var r=n(2118),i="8.10.1";r.Z.registerVersion("firebase",i,"app"),r.Z.SDK_VERSION=i},9899:function(t,e,n){"use strict";n.r(e);var r=n(2118);(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var i=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,t];for(var e=0;e<t.length;++e){var r=t[e];if(r&&r.Math==Math)return r}return globalThis}(this);function o(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function a(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:o(t)}}!function(t,n){if(n){var r=i;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in r||(r[a]={}),r=r[a]}(n=n(o=r[t=t[t.length-1]]))!=o&&null!=n&&e(r,t,{configurable:!0,writable:!0,value:n})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var o=i.setTimeout;n.prototype.c=function(t){o(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new n;return e.prototype.s=function(t){var e=this.f();t.Ra(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Ra(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ra=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=a(t),o=i.next();!o.done;o=i.next())r(o.value).Ra(e,n)}))},e.all=function(t){var n=a(t),i=n.next();return i.done?r([]):new e((function(t,e){function o(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).Ra(o(a.length-1),e),i=n.next()}while(!i.done)}))},e}));var s=s||{},u=this||self,c=/^[\w+/_-]+[=]{0,2}$/,l=null;function h(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&c.test(t)?t:""}function f(){}function p(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function d(t){var e=p(t);return"array"==e||"object"==e&&"number"==typeof t.length}function g(t){return"function"==p(t)}function v(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function m(t){return Object.prototype.hasOwnProperty.call(t,y)&&t[y]||(t[y]=++b)}var y="closure_uid_"+(1e9*Math.random()>>>0),b=0;function w(t,e,n){return t.call.apply(t.bind,arguments)}function _(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function T(t,e,n){return(T=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:_).apply(null,arguments)}function E(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var I=Date.now;function S(t,e){function n(){}n.prototype=e.prototype,t.bb=e.prototype,t.prototype=new n,t.prototype.constructor=t}function k(t){return t}function A(t,e,n){this.code=O+t,this.message=e||N[t]||"",this.a=n||null}function C(t){var e=t&&t.code;return e?new A(e.substring(O.length),t.message,t.serverResponse):null}S(A,Error),A.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},A.prototype.toJSON=function(){return this.w()};var x,O="auth/",N={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},D={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function R(t){for(var e in D)if(D[e].id===t)return{firebaseEndpoint:(t=D[e]).Ua,secureTokenEndpoint:t.$a,identityPlatformEndpoint:t.Xa};return null}function P(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function L(t){if(Error.captureStackTrace)Error.captureStackTrace(this,L);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function F(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");L.call(this,n+t[r])}function M(t,e){throw new F("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function j(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function U(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function B(){this.b=this.a=null}x=R("__EID__")?"__EID__":void 0,S(L,Error),L.prototype.name="CustomError",S(F,L),F.prototype.name="AssertionError",j.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var V=new j((function(){return new G}),(function(t){t.reset()}));function q(){var t=we,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function G(){this.next=this.b=this.a=null}B.prototype.add=function(t,e){var n=V.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},G.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},G.prototype.reset=function(){this.next=this.b=this.a=null};var H=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},z=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var K=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"===typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},W=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"===typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},X=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function Y(t,e){return 0<=H(t,e)}function Q(t,e){var n;return(n=0<=(e=H(t,e)))&&Array.prototype.splice.call(t,e,1),n}function $(t,e){!function(t,e){for(var n="string"===typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function J(t){return Array.prototype.concat.apply([],arguments)}function Z(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var tt,et=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},nt=/&/g,rt=/</g,it=/>/g,ot=/"/g,at=/'/g,st=/\x00/g,ut=/[\x00&<>"']/;function ct(t,e){return-1!=t.indexOf(e)}function lt(t,e){return t<e?-1:t>e?1:0}t:{var ht=u.navigator;if(ht){var ft=ht.userAgent;if(ft){tt=ft;break t}}tt=""}function pt(t){return ct(tt,t)}function dt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function gt(t){for(var e in t)return!1;return!0}function vt(t){var e,n={};for(e in t)n[e]=t[e];return n}var mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<mt.length;o++)n=mt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function bt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break t}}catch(a){}i=null}if(i&&"undefined"!=typeof i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(v(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function wt(t,e){this.a=t===It&&e||"",this.b=Et}function _t(t){return t instanceof wt&&t.constructor===wt&&t.b===Et?t.a:(M("expected object of type Const, got '"+t+"'"),"type_error:Const")}wt.prototype.ta=!0,wt.prototype.sa=function(){return this.a},wt.prototype.toString=function(){return"Const{"+this.a+"}"};var Tt,Et={},It={};function St(){if(void 0===Tt){var t=null,e=u.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:k,createScript:k,createScriptURL:k})}catch(n){u.console&&u.console.error(n.message)}Tt=t}else Tt=t}return Tt}function kt(t,e){this.a=e===Nt?t:""}function At(t){return t instanceof kt&&t.constructor===kt?t.a:(M("expected object of type TrustedResourceUrl, got '"+t+"' of type "+p(t)),"type_error:TrustedResourceUrl")}function Ct(t,e){var n=_t(t);if(!Ot.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=St();return new kt(t=e?e.createScriptURL(t):t,Nt)}(t=n.replace(xt,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof wt?_t(t):encodeURIComponent(String(t))})))}kt.prototype.ta=!0,kt.prototype.sa=function(){return this.a.toString()},kt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var xt=/%{(\w+)}/g,Ot=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Nt={};function Dt(t,e){this.a=e===Ut?t:""}function Rt(t){return t instanceof Dt&&t.constructor===Dt?t.a:(M("expected object of type SafeUrl, got '"+t+"' of type "+p(t)),"type_error:SafeUrl")}Dt.prototype.ta=!0,Dt.prototype.sa=function(){return this.a.toString()},Dt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Pt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Lt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Ft=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Mt(t){if(t instanceof Dt)return t;if(t="object"==typeof t&&t.ta?t.sa():String(t),Ft.test(t))t=new Dt(t,Ut);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Lt);t=e&&Pt.test(e[1])?new Dt(t,Ut):null}return t}function jt(t){return t instanceof Dt?t:(t="object"==typeof t&&t.ta?t.sa():String(t),Ft.test(t)||(t="about:invalid#zClosurez"),new Dt(t,Ut))}var Ut={},Bt=new Dt("about:invalid#zClosurez",Ut);function Vt(t,e,n){this.a=n===qt?t:""}Vt.prototype.ta=!0,Vt.prototype.sa=function(){return this.a.toString()},Vt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var qt={};function Gt(t,e,n,r){return t=t instanceof Dt?t:jt(t),e=e||u,n=n instanceof wt?_t(n):n||"",e.open(Rt(t),n,r,void 0)}function Ht(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function zt(t){return ut.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(nt,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(rt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(it,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(ot,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(at,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(st,"&#0;"))),t}function Kt(t){return Kt[" "](t),t}Kt[" "]=f;var Wt,Xt=pt("Opera"),Yt=pt("Trident")||pt("MSIE"),Qt=pt("Edge"),$t=Qt||Yt,Jt=pt("Gecko")&&!(ct(tt.toLowerCase(),"webkit")&&!pt("Edge"))&&!(pt("Trident")||pt("MSIE"))&&!pt("Edge"),Zt=ct(tt.toLowerCase(),"webkit")&&!pt("Edge");function te(){var t=u.document;return t?t.documentMode:void 0}t:{var ee="",ne=function(){var t=tt;return Jt?/rv:([^\);]+)(\)|;)/.exec(t):Qt?/Edge\/([\d\.]+)/.exec(t):Yt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Zt?/WebKit\/(\S+)/.exec(t):Xt?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(ne&&(ee=ne?ne[1]:""),Yt){var re=te();if(null!=re&&re>parseFloat(ee)){Wt=String(re);break t}}Wt=ee}var ie,oe={};function ae(t){return function(t,e){var n=oe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=et(String(Wt)).split("."),r=et(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=lt(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||lt(0==a[2].length,0==s[2].length)||lt(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}if(u.document&&Yt){var se=te();ie=se||(parseInt(Wt,10)||void 0)}else ie=void 0;var ue=ie;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(fa){}var ce=!Yt||9<=Number(ue);function le(t){var e=document;return"string"===typeof t?e.getElementById(t):t}function he(t,e){dt(e,(function(e,n){e&&"object"==typeof e&&e.ta&&(e=e.sa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:de.hasOwnProperty(n)?t.setAttribute(de[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var fe,pe,de={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ge(t,e,n){function r(n){n&&e.appendChild("string"===typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!d(o)||v(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(v(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(g(o)){a="function"==typeof o.item;break t}}a=!1}z(a?Z(o):o,r)}}}function ve(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function me(t){u.setTimeout((function(){throw t}),0)}function ye(t,e){pe||function(){if(u.Promise&&u.Promise.resolve){var t=u.Promise.resolve(void 0);pe=function(){t.then(_e)}}else pe=function(){var t=_e;!g(u.setImmediate)||u.Window&&u.Window.prototype&&!pt("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(fe||(fe=function(){var t=u.MessageChannel;if("undefined"===typeof t&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!pt("Presto")&&(t=function(){var t=ve(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=T((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),"undefined"!==typeof t&&!pt("Trident")&&!pt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Hb;n.Hb=null,t()}},function(t){r.next={Hb:t},r=r.next,e.port2.postMessage(0)}}return function(t){u.setTimeout(t,0)}}()),fe(t)):u.setImmediate(t)}}(),be||(pe(),be=!0),we.add(t,e)}var be=!1,we=new B;function _e(){for(var t;t=q();){try{t.a.call(t.b)}catch(e){me(e)}U(V,t)}be=!1}function Te(t,e){if(this.a=Ee,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=f)try{var n=this;t.call(e,(function(t){Fe(n,Ie,t)}),(function(t){if(!(t instanceof Ge))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Fe(n,Se,t)}))}catch(r){Fe(this,Se,r)}}var Ee=0,Ie=2,Se=3;function ke(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}ke.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ae=new j((function(){return new ke}),(function(t){t.reset()}));function Ce(t,e,n){var r=Ae.get();return r.g=t,r.b=e,r.f=n,r}function xe(t){if(t instanceof Te)return t;var e=new Te(f);return Fe(e,Ie,t),e}function Oe(t){return new Te((function(e,n){n(t)}))}function Ne(t,e,n){Me(t,e,n,null)||ye(E(e,t))}function De(t){return new Te((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ne(t[o],E(i,o,!0),E(i,o,!1));else e(r)}))}function Re(t,e){if(t.a==Ee)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==Ee&&1==r?Re(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Ue(n),Be(n,i,Se,e)))}t.c=null}else Fe(t,Se,e)}function Pe(t,e){t.b||t.a!=Ie&&t.a!=Se||je(t),t.f?t.f.next=e:t.b=e,t.f=e}function Le(t,e,n,r){var i=Ce(null,null,null);return i.a=new Te((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(a){o(a)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Ge?o(e):t(i)}catch(a){o(a)}}:o})),i.a.c=t,Pe(t,i),i.a}function Fe(t,e,n){t.a==Ee&&(t===n&&(e=Se,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Me(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,je(t),e!=Se||n instanceof Ge||function(t,e){t.g=!0,ye((function(){t.g&&qe.call(null,e)}))}(t,n)))}function Me(t,e,n,r){if(t instanceof Te)return Pe(t,Ce(e||f,n||null,r)),!0;if(P(t))return t.then(e,n,r),!0;if(v(t))try{var i=t.then;if(g(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}function a(t){s||(s=!0,n.call(i,t))}var s=!1;try{e.call(t,a,o)}catch(u){o(u)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function je(t){t.h||(t.h=!0,ye(t.gc,t))}function Ue(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Be(t,e,n,r){if(n==Se&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ve(e,n,r);else try{e.c?e.g.call(e.f):Ve(e,n,r)}catch(i){qe.call(null,i)}U(Ae,e)}function Ve(t,e,n){e==Ie?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}Te.prototype.then=function(t,e,n){return Le(this,g(t)?t:null,g(e)?e:null,n)},Te.prototype.$goog_Thenable=!0,(t=Te.prototype).oa=function(t,e){return(t=Ce(t,t,e)).c=!0,Pe(this,t),this},t.o=function(t,e){return Le(this,null,t,e)},t.cancel=function(t){if(this.a==Ee){var e=new Ge(t);ye((function(){Re(this,e)}),this)}},t.$c=function(t){this.a=Ee,Fe(this,Ie,t)},t.ad=function(t){this.a=Ee,Fe(this,Se,t)},t.gc=function(){for(var t;t=Ue(this);)Be(this,t,this.a,this.i);this.h=!1};var qe=me;function Ge(t){L.call(this,t)}function He(){0!=ze&&(Ke[m(this)]=this),this.ya=this.ya,this.pa=this.pa}S(Ge,L),Ge.prototype.name="cancel";var ze=0,Ke={};function We(t){if(!t.ya&&(t.ya=!0,t.Da(),0!=ze)){var e=m(t);if(0!=ze&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ke[e]}}He.prototype.ya=!1,He.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Xe=Object.freeze||function(t){return t},Ye=!Yt||9<=Number(ue),Qe=Yt&&!ae("9"),$e=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",f,e),u.removeEventListener("test",f,e)}catch(n){}return t}();function Je(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ze(t,e){if(Je.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Jt){t:{try{Kt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:tn[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Je.prototype.preventDefault=function(){this.defaultPrevented=!0},S(Ze,Je);var tn=Xe({2:"touch",3:"pen",4:"mouse"});Ze.prototype.preventDefault=function(){Ze.bb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Qe)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Ze.prototype.g=function(){return this.a};var en="closure_listenable_"+(1e6*Math.random()|0),nn=0;function rn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Wa=i,this.key=++nn,this.wa=this.Qa=!1}function on(t){t.wa=!0,t.listener=null,t.proxy=null,t.src=null,t.Wa=null}function an(t){this.src=t,this.a={},this.b=0}function sn(t,e){var n=e.type;n in t.a&&Q(t.a[n],e)&&(on(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function un(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.wa&&o.listener==e&&o.capture==!!n&&o.Wa==r)return i}return-1}an.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=un(t,e,r,i);return-1<a?(e=t[a],n||(e.Qa=!1)):((e=new rn(e,this.src,o,!!r,i)).Qa=n,t.push(e)),e};var cn="closure_lm_"+(1e6*Math.random()|0),ln={};function hn(t,e,n,r,i){if(r&&r.once)pn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else n=Tn(n),t&&t[en]?In(t,e,n,v(r)?!!r.capture:!!r,i):fn(t,e,n,!1,r,i)}function fn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=v(i)?!!i.capture:!!i,s=wn(t);if(s||(t[cn]=s=new an(t)),!(n=s.add(e,n,r,a,o)).proxy){if(r=function(){var t=bn,e=Ye?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)$e||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(vn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}0}}function pn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)pn(t,e[o],n,r,i);else n=Tn(n),t&&t[en]?Sn(t,e,n,v(r)?!!r.capture:!!r,i):fn(t,e,n,!0,r,i)}function dn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)dn(t,e[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=Tn(n),t&&t[en]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=un(o=t.a[e],n,r,i))&&(on(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=wn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=un(e,n,r,i)),(n=-1<t?e[t]:null)&&gn(n))}function gn(t){if("number"!==typeof t&&t&&!t.wa){var e=t.src;if(e&&e[en])sn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(vn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=wn(e))?(sn(n,t),0==n.b&&(n.src=null,e[cn]=null)):on(t)}}}function vn(t){return t in ln?ln[t]:ln[t]="on"+t}function mn(t,e,n,r){var i=!0;if((t=wn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.wa&&(o=yn(o,r),i=i&&!1!==o)}return i}function yn(t,e){var n=t.listener,r=t.Wa||t.src;return t.Qa&&gn(t),n.call(r,e)}function bn(t,e){if(t.wa)return!0;if(!Ye){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Ze(r=e,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=mn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=mn(r[i],t,!1,e),n=n&&o}return n}return yn(t,new Ze(e,this))}function wn(t){return(t=t[cn])instanceof an?t:null}var _n="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tn(t){return g(t)?t:(t[_n]||(t[_n]=function(e){return t.handleEvent(e)}),t[_n])}function En(){He.call(this),this.v=new an(this),this.bc=this,this.hb=null}function In(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function Sn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function kn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,u=a.Wa||a.src;a.Qa&&sn(t.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function An(t,e,n){if(g(t))n&&(t=T(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=T(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function Cn(t){var e=null;return new Te((function(n,r){-1==(e=An((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw u.clearTimeout(e),t}))}function xn(t){if(t.X&&"function"==typeof t.X)return t.X();if("string"===typeof t)return t.split("");if(d(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function On(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.X||"function"!=typeof t.X){if(d(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Nn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Nn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Dn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Rn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Rn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Rn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}S(En,He),En.prototype[en]=!0,En.prototype.addEventListener=function(t,e,n,r){hn(this,t,e,n,r)},En.prototype.removeEventListener=function(t,e,n,r){dn(this,t,e,n,r)},En.prototype.dispatchEvent=function(t){var e,n=this.hb;if(n)for(e=[];n;n=n.hb)e.push(n);n=this.bc;var r=t.type||t;if("string"===typeof t)t=new Je(t,n);else if(t instanceof Je)t.target=t.target||n;else{var i=t;yt(t=new Je(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=kn(a,r,!0,t)&&i}if(i=kn(a=t.b=n,r,!0,t)&&i,i=kn(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=kn(a=t.b=e[o],r,!1,t)&&i;return i},En.prototype.Da=function(){if(En.bb.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)on(n[r]);delete e.a[t],e.b--}}this.hb=null},(t=Nn.prototype).X=function(){Dn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return Dn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Rn(this.b,t)?this.b[t]:e},t.set=function(t,e){Rn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Pn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ln(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Ln?(this.i=void 0!==e?e:t.i,Fn(this,t.c),this.l=t.l,this.a=t.a,Mn(this,t.g),this.f=t.f,jn(this,rr(t.b)),this.h=t.h):t&&(n=String(t).match(Pn))?(this.i=!!e,Fn(this,n[1]||"",!0),this.l=Gn(n[2]||""),this.a=Gn(n[3]||"",!0),Mn(this,n[4]),this.f=Gn(n[5]||"",!0),jn(this,n[6]||"",!0),this.h=Gn(n[7]||"")):(this.i=!!e,this.b=new $n(null,this.i))}function Fn(t,e,n){t.c=n?Gn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Mn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function jn(t,e,n){e instanceof $n?(t.b=e,function(t,e){e&&!t.f&&(Jn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(tr(this,e),nr(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=Hn(e,Yn)),t.b=new $n(e,t.i))}function Un(t,e,n){t.b.set(e,n)}function Bn(t,e){return t.b.get(e)}function Vn(t){return t instanceof Ln?new Ln(t):new Ln(t,void 0)}function qn(t,e,n,r){var i=new Ln(null,void 0);return t&&Fn(i,t),e&&(i.a=e),n&&Mn(i,n),r&&(i.f=r),i}function Gn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Hn(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,zn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function zn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ln.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Hn(e,Kn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Hn(e,Kn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Hn(n,"/"==n.charAt(0)?Xn:Wn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Hn(n,Qn)),t.join("")},Ln.prototype.resolve=function(t){var e=new Ln(this),n=!!t.c;n?Fn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Mn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ct(i,"./")||ct(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?jn(e,rr(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Kn=/[#\/\?@]/g,Wn=/[#\?:]/g,Xn=/[#\?]/g,Yn=/[#\?@]/g,Qn=/#/g;function $n(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Jn(t){t.a||(t.a=new Nn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Zn(t){var e=On(t);if("undefined"==typeof e)throw Error("Keys are undefined");var n=new $n(null,void 0);t=xn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?nr(n,i,o):n.add(i,o)}return n}function tr(t,e){Jn(t),e=ir(t,e),Rn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Rn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Dn(t)))}function er(t,e){return Jn(t),e=ir(t,e),Rn(t.a.b,e)}function nr(t,e,n){tr(t,e),0<n.length&&(t.c=null,t.a.set(ir(t,e),Z(n)),t.b+=n.length)}function rr(t){var e=new $n;return e.c=t.c,t.a&&(e.a=new Nn(t.a),e.b=t.b),e}function ir(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function or(t){var e=[];return sr(new ar,t,e),e.join("")}function ar(){}function sr(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),sr(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&("function"!=typeof(o=e[r])&&(n.push(i),lr(r,n),n.push(":"),sr(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":lr(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=$n.prototype).add=function(t,e){Jn(this),this.c=null,t=ir(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Jn(this),this.a.forEach((function(n,r){z(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Jn(this);for(var t=this.a.X(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.X=function(t){Jn(this);var e=[];if("string"===typeof t)er(this,t)&&(e=J(e,this.a.get(ir(this,t))));else{t=this.a.X();for(var n=0;n<t.length;n++)e=J(e,t[n])}return e},t.set=function(t,e){return Jn(this),this.c=null,er(this,t=ir(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.X(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var ur={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},cr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function lr(t,e){e.push('"',t.replace(cr,(function(t){var e=ur[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ur[t]=e),e})),'"')}function hr(){var t=Nr();return Yt&&!!ue&&11==ue||/Edge\/\d+/.test(t)}function fr(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function pr(t,e){e=e||u.window;var n="about:blank";t&&(n=Rt(Mt(t)||Bt)),e.location.href=n}function dr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<dr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function gr(t){return!!((t=(t||Nr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function vr(t){t=t||u.window;try{t.close()}catch(e){}}function mr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Nr().toLowerCase(),r&&(e.target=r,ct(n,"crios/")&&(e.target="_blank")),Cr(Nr())==kr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Dt?n:Mt("undefined"!=typeof n.href?n.href:String(n))||Bt,n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((pt("iPhone")&&!pt("iPod")&&!pt("iPad")||pt("iPad")||pt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(bt(a=ve(document,"A"),"HTMLAnchorElement"),e=e instanceof Dt?e:jt(e),a.href=Rt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=Gt("",r,n,a),t=Rt(e),a&&($t&&ct(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+zt(t)+'">',t=new Vt(t=(r=St())?r.createHTML(t):t,null,qt),r=a.document)&&(r.write(function(t){return t instanceof Vt&&t.constructor===Vt?t.a:(M("expected object of type SafeHtml, got '"+t+"' of type "+p(t)),"type_error:SafeHtml")}(t)),r.close())):(a=Gt(e,r,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var yr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,br=/^[^@]+@[^@]+$/;function wr(){var t=null;return new Te((function(e){"complete"==u.document.readyState?e():(t=function(){e()},pn(window,"load",t))})).o((function(e){throw dn(window,"load",t),e}))}function _r(t){return t=t||Nr(),!("file:"!==Fr()&&"ionic:"!==Fr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Tr(){var t=u.window;try{return!(!t||t==t.top)}catch(e){return!1}}function Er(){return"undefined"!==typeof u.WorkerGlobalScope&&"function"===typeof u.importScripts}function Ir(){return r.Z.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.Z.INTERNAL.hasOwnProperty("node")?"Node":Er()?"Worker":"Browser"}function Sr(){var t=Ir();return"ReactNative"===t||"Node"===t}var kr="Firefox",Ar="Chrome";function Cr(t){var e=t.toLowerCase();return ct(e,"opera/")||ct(e,"opr/")||ct(e,"opios/")?"Opera":ct(e,"iemobile")?"IEMobile":ct(e,"msie")||ct(e,"trident/")?"IE":ct(e,"edge/")?"Edge":ct(e,"firefox/")?kr:ct(e,"silk/")?"Silk":ct(e,"blackberry")?"Blackberry":ct(e,"webos")?"Webos":!ct(e,"safari/")||ct(e,"chrome/")||ct(e,"crios/")||ct(e,"android")?!ct(e,"chrome/")&&!ct(e,"crios/")||ct(e,"edge/")?ct(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Ar:"Safari"}var xr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Or(t,e){e=e||[];var n,r=[],i={};for(n in xr)i[xr[n]]=!0;for(n=0;n<e.length;n++)"undefined"!==typeof i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=Ir())?r=Cr(i=Nr()):"Worker"===r&&(r=Cr(i=Nr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Nr(){return u.navigator&&u.navigator.userAgent||""}function Dr(t,e){t=t.split("."),e=e||u;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Rr(){try{var t=u.localStorage,e=Vr();if(t)return t.setItem(e,"1"),t.removeItem(e),!hr()||!!u.indexedDB}catch(n){return Er()&&!!u.indexedDB}return!1}function Pr(){return(Lr()||"chrome-extension:"===Fr()||_r())&&!Sr()&&Rr()&&!Er()}function Lr(){return"http:"===Fr()||"https:"===Fr()}function Fr(){return u.location&&u.location.protocol||null}function Mr(t){return!gr(t=t||Nr())&&Cr(t)!=kr}function jr(t){return"undefined"===typeof t?null:or(t)}function Ur(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Br(t){if(null!==t)return JSON.parse(t)}function Vr(t){return t||Math.floor(1e9*Math.random()).toString()}function qr(t){return"Safari"!=Cr(t=t||Nr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Gr(){var t=u.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Hr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Nr(),e=Ir(),this.b=gr(t)||"ReactNative"===e}function zr(){var t=u.document;return!t||"undefined"===typeof t.visibilityState||"visible"==t.visibilityState}function Kr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Wr(){return!(!Dr("fireauth.oauthhelper",u)&&!Dr("fireauth.iframe",u))}Hr.prototype.get=function(){var t=u.navigator;return!t||"boolean"!==typeof t.onLine||!Lr()&&"chrome-extension:"!==Fr()&&"undefined"===typeof t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Xr,Yr={};function Qr(t){Yr[t]||(Yr[t]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(t))}try{var $r={};Object.defineProperty($r,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty($r,"abcd",{configurable:!0,enumerable:!0,value:2}),Xr=2==$r.abcd}catch(fa){Xr=!1}function Jr(t,e,n){Xr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Zr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Jr(t,n,e[n])}function ti(t){var e={};return Zr(e,t),e}function ei(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Jr(e,n,ei(t[n]));return e}function ni(t){var e=t&&(t[si]?"phone":null);if(!(e&&t&&t[ai]))throw new A("internal-error","Internal assert: invalid MultiFactorInfo object");Jr(this,"uid",t[ai]),Jr(this,"displayName",t[ii]||null);var n=null;t[oi]&&(n=new Date(t[oi]).toUTCString()),Jr(this,"enrollmentTime",n),Jr(this,"factorId",e)}function ri(t){try{var e=new ui(t)}catch(n){e=null}return e}ni.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ii="displayName",oi="enrolledAt",ai="mfaEnrollmentId",si="phoneInfo";function ui(t){ni.call(this,t),Jr(this,"phoneNumber",t[si])}function ci(t){var e={},n=t[pi],r=t[gi],i=t[vi];if(t=ri(t[di]),!i||i!=hi&&i!=fi&&!n||i==fi&&!r||i==li&&!t)throw Error("Invalid checkActionCode response!");i==fi?(e[yi]=n||null,e[wi]=n||null,e[mi]=r):(e[yi]=r||null,e[wi]=r||null,e[mi]=n||null),e[bi]=t||null,Jr(this,Ti,i),Jr(this,_i,ei(e))}S(ui,ni),ui.prototype.w=function(){var t=ui.bb.w.call(this);return t.phoneNumber=this.phoneNumber,t};var li="REVERT_SECOND_FACTOR_ADDITION",hi="EMAIL_SIGNIN",fi="VERIFY_AND_CHANGE_EMAIL",pi="email",di="mfaInfo",gi="newEmail",vi="requestType",mi="email",yi="fromEmail",bi="multiFactorInfo",wi="previousEmail",_i="data",Ti="operation";function Ei(t){var e=Bn(t=Vn(t),Ii)||null,n=Bn(t,Si)||null,r=Bn(t,Ci)||null;if(r=r&&Oi[r]||null,!e||!n||!r)throw new A("argument-error",Ii+", "+Si+"and "+Ci+" are required in a valid action code URL.");Zr(this,{apiKey:e,operation:r,code:n,continueUrl:Bn(t,ki)||null,languageCode:Bn(t,Ai)||null,tenantId:Bn(t,xi)||null})}var Ii="apiKey",Si="oobCode",ki="continueUrl",Ai="languageCode",Ci="mode",xi="tenantId",Oi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:li,signIn:hi,verifyAndChangeEmail:fi,verifyEmail:"VERIFY_EMAIL"};function Ni(t){try{return new Ei(t)}catch(e){return null}}function Di(t){var e=t[Mi];if("undefined"===typeof e)throw new A("missing-continue-uri");if("string"!==typeof e||"string"===typeof e&&!e.length)throw new A("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ri];if(n&&"object"===typeof n){e=n[Bi];var r=n[ji];if(n=n[Ui],"string"===typeof e&&e.length){if(this.a=e,"undefined"!==typeof r&&"boolean"!==typeof r)throw new A("argument-error",ji+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new A("argument-error",Ui+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof e)throw new A("argument-error",Bi+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new A("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new A("argument-error",Ri+" property must be a non null object when specified.");if(this.f=null,(e=t[Fi])&&"object"===typeof e){if("string"===typeof(e=e[Vi])&&e.length)this.f=e;else if("undefined"!==typeof e)throw new A("argument-error",Vi+" property must be a non empty string when specified.")}else if("undefined"!==typeof e)throw new A("argument-error",Fi+" property must be a non null object when specified.");if("undefined"!==typeof(e=t[Li])&&"boolean"!==typeof e)throw new A("argument-error",Li+" property must be a boolean when specified.");if(this.c=!!e,"undefined"!==typeof(t=t[Pi])&&("string"!==typeof t||"string"===typeof t&&!t.length))throw new A("argument-error",Pi+" property must be a non empty string when specified.");this.i=t||null}var Ri="android",Pi="dynamicLinkDomain",Li="handleCodeInApp",Fi="iOS",Mi="url",ji="installApp",Ui="minimumVersion",Bi="packageName",Vi="bundleId";function qi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Gi=null;function Hi(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Gi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Gi){Gi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Gi[o]&&(Gi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e.push(t)})),e}function zi(t){var e=Wi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Ki(t){try{return new zi(t)}catch(e){return null}}function Wi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=Hi(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var a=r[e++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else o=r[e++],a=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(t.join(""))}catch(u){}return null}zi.prototype.T=function(){return this.f},zi.prototype.l=function(){return this.c},zi.prototype.toString=function(){return this.h};var Xi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Yi=["client_id","response_type","scope","redirect_uri","state"],Qi={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Yi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Yi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Yi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Xi},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function $i(t){for(var e in Qi)if(Qi[e].fa==t)return Qi[e];return null}function Ji(t){var e={};e["facebook.com"]=ro,e["google.com"]=oo,e["github.com"]=io,e["twitter.com"]=ao;var n=t&&t[to];try{if(n)return e[n]?new e[n](t):new no(t);if("undefined"!==typeof t[Zi])return new eo(t)}catch(r){}return null}var Zi="idToken",to="providerId";function eo(t){var e=t[to];if(!e&&t[Zi]){var n=Ki(t[Zi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,"undefined"!==typeof t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Jr(this,"providerId",e),Jr(this,"isNewUser",n)}function no(t){eo.call(this,t),Jr(this,"profile",ei((t=Br(t.rawUserInfo||"{}"))||{}))}function ro(t){if(no.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function io(t){if(no.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Jr(this,"username",this.profile&&this.profile.login||null)}function oo(t){if(no.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ao(t){if(no.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Jr(this,"username",t.screenName||null)}function so(t){var e=Vn(t),n=Bn(e,"link"),r=Bn(Vn(n),"link");return e=Bn(e,"deep_link_id"),Bn(Vn(e),"link")||e||r||n||t}function uo(t,e){if(!t&&!e)throw new A("internal-error","Internal assert: no raw session string available");if(t&&e)throw new A("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?co:lo}S(no,eo),S(ro,no),S(io,no),S(oo,no),S(ao,no);var co="enroll",lo="signin";function ho(){}function fo(t,e){return t.then((function(t){if(t[ns]){var n=Ki(t[ns]);if(!n||e!=n.i)throw new A("user-mismatch");return t}throw new A("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==O+"user-not-found"?new A("user-mismatch"):t}))}function po(t,e){if(!e)throw new A("internal-error","failed to construct a credential");this.a=e,Jr(this,"providerId",t),Jr(this,"signInMethod",t)}function go(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function vo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new po(t.providerId,t.pendingToken)}catch(e){}return null}function mo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Jr(this,"idToken",e.idToken),e.accessToken&&Jr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Jr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new A("internal-error","failed to construct a credential");Jr(this,"accessToken",e.oauthToken),Jr(this,"secret",e.oauthTokenSecret)}Jr(this,"providerId",t),Jr(this,"signInMethod",n)}function yo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Zn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function bo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new mo(t.providerId,e,t.signInMethod)}catch(n){}}return null}function wo(t,e){this.Qc=e||[],Zr(this,{providerId:t,isOAuthProvider:!0}),this.Jb={},this.qb=($i(t)||{}).Ja||null,this.pb=null}function _o(t){if("string"!==typeof t||0!=t.indexOf("saml."))throw new A("argument-error",'SAML provider IDs must be prefixed with "saml."');wo.call(this,t,[])}function To(t){wo.call(this,t,Yi),this.a=[]}function Eo(){To.call(this,"facebook.com")}function Io(t){if(!t)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new Eo).credential({accessToken:e})}function So(){To.call(this,"github.com")}function ko(t){if(!t)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new So).credential({accessToken:e})}function Ao(){To.call(this,"google.com"),this.Ca("profile")}function Co(t,e){var n=t;return v(t)&&(n=t.idToken,e=t.accessToken),(new Ao).credential({idToken:n,accessToken:e})}function xo(){wo.call(this,"twitter.com",Xi)}function Oo(t,e){var n=t;if(v(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new A("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new mo("twitter.com",n,"twitter.com")}function No(t,e,n){this.a=t,this.f=e,Jr(this,"providerId","password"),Jr(this,"signInMethod",n===Ro.EMAIL_LINK_SIGN_IN_METHOD?Ro.EMAIL_LINK_SIGN_IN_METHOD:Ro.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Do(t){return t&&t.email&&t.password?new No(t.email,t.password,t.signInMethod):null}function Ro(){Zr(this,{providerId:"password",isOAuthProvider:!1})}function Po(t,e){if(!(e=Lo(e)))throw new A("argument-error","Invalid email link!");return new No(t,e.code,Ro.EMAIL_LINK_SIGN_IN_METHOD)}function Lo(t){return(t=Ni(t=so(t)))&&t.operation===hi?t:null}function Fo(t){if(!(t.fb&&t.eb||t.La&&t.ea))throw new A("internal-error");this.a=t,Jr(this,"providerId","phone"),this.fa="phone",Jr(this,"signInMethod","phone")}function Mo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return z(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Fo(e)}return null}function jo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.fb,code:t.a.eb}}function Uo(t){try{this.a=t||r.Z.auth()}catch(e){throw new A("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Zr(this,{providerId:"phone",isOAuthProvider:!1})}function Bo(t,e){if(!t)throw new A("missing-verification-id");if(!e)throw new A("missing-verification-code");return new Fo({fb:t,eb:e})}function Vo(t){if(t.temporaryProof&&t.phoneNumber)return new Fo({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return Co(o,n);case"facebook.com":return Io(n);case"github.com":return ko(n);case"twitter.com":return Oo(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new po(e,a):new mo(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new To(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function qo(t){if(!t.isOAuthProvider)throw new A("invalid-oauth-provider")}function Go(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new A("invalid-auth-event");if(this.g&&this.a)throw new A("invalid-auth-event");if(this.g&&!this.f)throw new A("invalid-auth-event")}function Ho(t){return(t=t||{}).type?new Go(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&C(t.error),t.postBody,t.tenantId):null}function zo(){this.b=null,this.a=[]}uo.prototype.Ha=function(){return this.a?xe(this.a):xe(this.b)},uo.prototype.w=function(){return this.type==co?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},ho.prototype.ka=function(){},ho.prototype.b=function(){},ho.prototype.c=function(){},ho.prototype.w=function(){},po.prototype.ka=function(t){return Is(t,go(this))},po.prototype.b=function(t,e){var n=go(this);return n.idToken=e,Ss(t,n)},po.prototype.c=function(t,e){return fo(ks(t,go(this)),e)},po.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},mo.prototype.ka=function(t){return Is(t,yo(this))},mo.prototype.b=function(t,e){var n=yo(this);return n.idToken=e,Ss(t,n)},mo.prototype.c=function(t,e){return fo(ks(t,yo(this)),e)},mo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},wo.prototype.Ka=function(t){return this.Jb=vt(t),this},S(_o,wo),S(To,wo),To.prototype.Ca=function(t){return Y(this.a,t)||this.a.push(t),this},To.prototype.Rb=function(){return Z(this.a)},To.prototype.credential=function(t,e){var n;if(!(n=v(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new A("argument-error","credential failed: must provide the ID token and/or the access token.");return new mo(this.providerId,n,this.providerId)},S(Eo,To),Jr(Eo,"PROVIDER_ID","facebook.com"),Jr(Eo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),S(So,To),Jr(So,"PROVIDER_ID","github.com"),Jr(So,"GITHUB_SIGN_IN_METHOD","github.com"),S(Ao,To),Jr(Ao,"PROVIDER_ID","google.com"),Jr(Ao,"GOOGLE_SIGN_IN_METHOD","google.com"),S(xo,wo),Jr(xo,"PROVIDER_ID","twitter.com"),Jr(xo,"TWITTER_SIGN_IN_METHOD","twitter.com"),No.prototype.ka=function(t){return this.signInMethod==Ro.EMAIL_LINK_SIGN_IN_METHOD?su(t,Ps,{email:this.a,oobCode:this.f}):su(t,nu,{email:this.a,password:this.f})},No.prototype.b=function(t,e){return this.signInMethod==Ro.EMAIL_LINK_SIGN_IN_METHOD?su(t,Ls,{idToken:e,email:this.a,oobCode:this.f}):su(t,Xs,{idToken:e,email:this.a,password:this.f})},No.prototype.c=function(t,e){return fo(this.ka(t),e)},No.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Zr(Ro,{PROVIDER_ID:"password"}),Zr(Ro,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Zr(Ro,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Fo.prototype.ka=function(t){return t.gb(jo(this))},Fo.prototype.b=function(t,e){var n=jo(this);return n.idToken=e,su(t,iu,n)},Fo.prototype.c=function(t,e){var n=jo(this);return n.operation="REAUTH",fo(t=su(t,ou,n),e)},Fo.prototype.w=function(){var t={providerId:"phone"};return this.a.fb&&(t.verificationId=this.a.fb),this.a.eb&&(t.verificationCode=this.a.eb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Uo.prototype.gb=function(t,e){var n=this.a.a;return xe(e.verify()).then((function(r){if("string"!==typeof r)throw new A("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=v(t)?t.session:null,o=v(t)?t.phoneNumber:t;return(i&&i.type==co?i.Ha().then((function(t){return function(t,e){return su(t,Qs,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==lo?i.Ha().then((function(e){return function(t,e){return su(t,$s,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return su(t,Ks,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"===typeof e.reset&&e.reset(),t}),(function(t){throw"function"===typeof e.reset&&e.reset(),t}));default:throw new A("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Zr(Uo,{PROVIDER_ID:"phone"}),Zr(Uo,{PHONE_SIGN_IN_METHOD:"phone"}),Go.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Go.prototype.T=function(){return this.h},Go.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Ko,Wo=null;function Xo(t){var e="unauthorized-domain",n=void 0,r=Vn(t);t=r.a,"chrome-extension"==(r=r.c)?n=Ht("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Ht("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",A.call(this,e,n)}function Yo(t,e,n){A.call(this,t,n),(t=e||{}).Kb&&Jr(this,"email",t.Kb),t.ea&&Jr(this,"phoneNumber",t.ea),t.credential&&Jr(this,"credential",t.credential),t.$b&&Jr(this,"tenantId",t.$b)}function Qo(t){if(t.code){var e=t.code||"";0==e.indexOf(O)&&(e=e.substring(O.length));var n={credential:Vo(t),$b:t.tenantId};if(t.email)n.Kb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new A(e,t.message||void 0);return new Yo(e,n,t.message)}return null}function $o(){}function Jo(t){return t.c||(t.c=t.b())}function Zo(){}function ta(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function ea(){}function na(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=T(this.qc,this),this.a.onerror=T(this.Tb,this),this.a.onprogress=T(this.rc,this),this.a.ontimeout=T(this.vc,this)}function ra(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ia(t,e,n){this.reset(t,e,n,void 0,void 0)}S(Xo,A),S(Yo,A),Yo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&yt(t,e),t},Yo.prototype.toJSON=function(){return this.w()},$o.prototype.c=null,S(Zo,$o),Zo.prototype.a=function(){var t=ta(this);return t?new ActiveXObject(t):new XMLHttpRequest},Zo.prototype.b=function(){var t={};return ta(this)&&(t[0]=!0,t[1]=!0),t},Ko=new Zo,S(ea,$o),ea.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new na;throw Error("Unsupported browser")},ea.prototype.b=function(){return{}},(t=na.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ra(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",ra(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,ra(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ia.prototype.a=null;function oa(t){this.f=t,this.b=this.c=this.a=null}function aa(t,e){this.name=t,this.value=e}ia.prototype.reset=function(t,e,n,r,i){"number"==typeof i||0,r||I(),delete this.a},aa.prototype.toString=function(){return this.name};var sa=new aa("SEVERE",1e3),ua=new aa("WARNING",900),ca=new aa("CONFIG",700),la=new aa("FINE",500);function ha(t){return t.c?t.c:t.a?ha(t.a):(M("Root logger has no level set."),null)}oa.prototype.log=function(t,e,n){if(t.value>=ha(this).value)for(g(e)&&(e=e()),t=new ia(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var fa,pa={},da=null;function ga(t){var e;if(da||(da=new oa(""),pa[""]=da,da.c=ca),!(e=pa[t])){e=new oa(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ga(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,pa[t]=e}return e}function va(t,e){t&&t.log(la,e,void 0)}function ma(t){this.f=t}function ya(t){En.call(this),this.u=t,this.h=void 0,this.readyState=ba,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ga("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}S(ma,$o),ma.prototype.a=function(){return new ya(this.f)},ma.prototype.b=(fa={},function(){return fa}),S(ya,En);var ba=0;function wa(t){t.c.read().then(t.pc.bind(t)).catch(t.Va.bind(t))}function _a(t){t.readyState=4,t.g=null,t.c=null,t.m=null,Ta(t)}function Ta(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Ea(t){En.call(this),this.headers=new Nn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Ia,this.u=this.S=!1}(t=ya.prototype).open=function(t,e){if(this.readyState!=ba)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,Ta(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,_a(this)),this.readyState=ba},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,Ta(this)),this.a&&(this.readyState=3,Ta(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):"undefined"!==typeof u.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,wa(this)):t.text().then(this.tc.bind(this),this.Va.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?_a(this):Ta(this),3==this.readyState&&wa(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,_a(this))},t.sc=function(t){this.a&&(this.response=t,_a(this))},t.Va=function(t){var e=this.i;e&&e.log(ua,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&_a(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(ua,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(ua,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ya.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),S(Ea,En);var Ia="";Ea.prototype.b=ga("goog.net.XhrIo");var Sa=/^https?$/i,ka=["POST","PUT"];function Aa(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Ko.a(),t.C=t.D?Jo(t.D):Jo(Ko),t.a.onreadystatechange=T(t.Wb,t);try{va(t.b,Fa(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(a){return va(t.b,Fa(t,"Error opening Xhr: "+a.message)),void xa(t,a)}e=r||"";var o=new Nn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(d(t)||"string"===typeof t)z(t,e,void 0);else for(var n=On(t),r=xn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=Ca,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}(o.Y()),r=u.FormData&&e instanceof u.FormData,!Y(ka,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Ra(t),0<t.g&&(t.u=function(t){return Yt&&ae(9)&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(t.a),va(t.b,Fa(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=T(t.Ma,t)):t.s=An(t.Ma,t.g,t)),va(t.b,Fa(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(a){va(t.b,Fa(t,"Send error: "+a.message)),xa(t,a)}}function Ca(t){return"content-type"==t.toLowerCase()}function xa(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Oa(t),Da(t)}function Oa(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Na(t){if(t.c&&"undefined"!=typeof s)if(t.C[1]&&4==Pa(t)&&2==La(t))va(t.b,Fa(t,"Local request error detected and ignored"));else if(t.i&&4==Pa(t))An(t.Wb,0,t);else if(t.dispatchEvent("readystatechange"),4==Pa(t)){va(t.b,Fa(t,"Request complete")),t.c=!1;try{var e,n=La(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Pn)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!Sa.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Pa(t)?t.a.statusText:""}catch(l){va(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+La(t)+"]",Oa(t)}}finally{Da(t)}}}function Da(t,e){if(t.a){Ra(t);var n=t.a,r=t.C[0]?f:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(sa,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Ra(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(u.clearTimeout(t.s),t.s=null)}function Pa(t){return t.a?t.a.readyState:0}function La(t){try{return 2<Pa(t)?t.a.status:-1}catch(e){return-1}}function Fa(t,e){return e+" ["+t.P+" "+t.l+" "+La(t)+"]"}function Ma(t){var e=Xa;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function ja(t,e,n){t.a=!0,t.c=n,t.f=!e,qa(t)}function Ua(t){if(t.a){if(!t.v)throw new Ga(t);t.v=!1}}function Ba(t,e,n,r){t.g.push([e,n,r]),t.a&&qa(t)}function Va(t){return X(t.g,(function(t){return g(t[1])}))}function qa(t){if(t.h&&t.a&&Va(t)){var e=t.h,n=Ka[e];n&&(u.clearTimeout(n.a),delete Ka[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var s=o.call(i||t.s,e);void 0!==s&&(t.f=t.f&&(s==e||s instanceof Error),t.c=e=s),(P(e)||"function"===typeof u.Promise&&e instanceof u.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,Va(t)||(n=!0)}}t.c=e,r&&(s=T(t.m,t,!0),r=T(t.m,t,!1),e instanceof Ma?(Ba(e,s,r),e.C=!0):e.then(s,r)),n&&(e=new za(e),Ka[e.a]=e,t.h=e.a)}function Ga(){L.call(this)}function Ha(){L.call(this)}function za(t){this.a=u.setTimeout(T(this.c,this),0),this.b=t}(t=Ea.prototype).Ma=function(){"undefined"!=typeof s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",va(this.b,Fa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(va(this.b,Fa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Da(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Da(this,!0)),Ea.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?Na(this):this.Jc())},t.Jc=function(){Na(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Ia:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(sa,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return va(this.b,"Can not get response: "+e.message),null}},Ma.prototype.cancel=function(t){if(this.a)this.c instanceof Ma&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Ha(this),Ua(this),ja(this,!1,t))}},Ma.prototype.m=function(t,e){this.i=!1,ja(this,t,e)},Ma.prototype.then=function(t,e,n){var r,i,o=new Te((function(t,e){r=t,i=e}));return Ba(this,r,(function(t){t instanceof Ha?o.cancel():i(t)})),o.then(t,e,n)},Ma.prototype.$goog_Thenable=!0,S(Ga,L),Ga.prototype.message="Deferred has already fired",Ga.prototype.name="AlreadyCalledError",S(Ha,L),Ha.prototype.message="Deferred was canceled",Ha.prototype.name="CanceledError",za.prototype.c=function(){throw delete Ka[this.a],this.b};var Ka={};function Wa(t){var e={},n=e.document||document,r=At(t).toString(),i=ve(document,"SCRIPT"),o={Xb:i,Ma:void 0},a=new Ma(o),s=null,c=null!=e.timeout?e.timeout:5e3;return 0<c&&(s=window.setTimeout((function(){Ya(i,!0);var t=new Ja($a,"Timeout reached for loading script "+r);Ua(a),ja(a,!1,t)}),c),o.Ma=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ya(i,e.xd||!1,s),Ua(a),ja(a,!0,null))},i.onerror=function(){Ya(i,!0,s);var t=new Ja(Qa,"Error while loading script "+r);Ua(a),ja(a,!1,t)},yt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),he(i,o),function(t,e){bt(t,"HTMLScriptElement"),t.src=At(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=u?e=h(e.document):(null===l&&(l=h(u.document)),e=l),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Xa(){if(this&&this.Xb){var t=this.Xb;t&&"SCRIPT"==t.tagName&&Ya(t,!0,this.Ma)}}function Ya(t,e,n){null!=n&&u.clearTimeout(n),t.onload=f,t.onerror=f,t.onreadystatechange=f,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Qa=0,$a=1;function Ja(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),L.call(this,n),this.code=t}function Za(t){this.f=t}function ts(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||rs,this.g=vt(t.secureTokenHeaders||is),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||os,this.a=vt(t.firebaseHeaders||as),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Ir(),!(n=u.XMLHttpRequest||n&&r.Z.INTERNAL.node&&r.Z.INTERNAL.node.XMLHttpRequest)&&!Er())throw new A("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Er()?this.f=new ma(self):Sr()?this.f=new Za(n):this.f=new ea,this.b=null}S(Ja,L),S(Za,$o),Za.prototype.a=function(){return new this.f},Za.prototype.b=function(){return{}};var es,ns="idToken",rs=new Hr(3e4,6e4),is={"Content-Type":"application/x-www-form-urlencoded"},os=new Hr(3e4,6e4),as={"Content-Type":"application/json"};function ss(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function us(t,e){e&&(t.l=cs("https://securetoken.googleapis.com/v1/token",e),t.h=cs("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=cs("https://identitytoolkit.googleapis.com/v2/",e))}function cs(t,e){return t=Vn(t),e=Vn(e.url),t.f=t.a+t.f,Fn(t,e.c),t.a=e.a,Mn(t,e.g),t.toString()}function ls(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function hs(t,e,n,r,i,o,a){(function(){var t=Nr();return!((t=Cr(t)!=Ar?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!Yt||!ue||9<ue)})()||Er()?t=T(t.u,t):(es||(es=new Te((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{u[ps]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ba(t,null,e,void 0)}(Wa(Ct(fs,{onload:ps})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=T(t.s,t)),t(e,n,r,i,o,a)}ts.prototype.T=function(){return this.b},ts.prototype.u=function(t,e,n,r,i,o){if(Er()&&("undefined"===typeof u.fetch||"undefined"===typeof u.Headers||"undefined"===typeof u.Request))throw new A("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Ea(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout((function(){a.dispatchEvent("timeout")}),o)}In(a,"complete",(function(){s&&clearTimeout(s);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return va(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),Sn(a,"ready",(function(){s&&clearTimeout(s),We(this)})),Sn(a,"timeout",(function(){s&&clearTimeout(s),We(this),e&&e(null)})),Aa(a,t,n,r,i)};var fs=new wt(It,"https://apis.google.com/js/client.js?onload=%{onload}"),ps="__fcb"+Math.floor(1e6*Math.random()).toString();function ds(t,e,n,r,i,o,a){var s=Vn(e+n);Un(s,"key",t.c),a&&Un(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Un(s,c,i[c]);return new Te((function(e,n){hs(t,s.toString(),(function(t){t?t.error?n(cu(t,o||{})):e(t):n(new A("network-request-failed"))}),r,u?void 0:or(Ur(i)),t.a,t.v.get())}))}function gs(t){if("string"!==typeof(t=t.email)||!br.test(t))throw new A("invalid-email")}function vs(t){"email"in t&&gs(t)}function ms(t){if(!t[ns]){if(t.mfaPendingCredential)throw new A("multi-factor-auth-required",null,vt(t));throw new A("internal-error")}}function ys(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new A("internal-error")}else{if(!t.sessionInfo)throw new A("missing-verification-id");if(!t.code)throw new A("missing-verification-code")}}ts.prototype.s=function(t,e,n,r,i){var o=this;es.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},ts.prototype.Ab=function(){return su(this,Ys,{})},ts.prototype.Cb=function(t,e){return su(this,Ws,{idToken:t,email:e})},ts.prototype.Db=function(t,e){return su(this,Xs,{idToken:t,password:e})};var bs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ws(t){if(!t.phoneVerificationInfo)throw new A("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new A("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new A("missing-verification-code")}function _s(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new A("internal-error")}function Ts(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(er(t=new $n(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function Es(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Qo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Qo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Qo(t)):t.errorMessage&&(e=uu(t.errorMessage)),e)throw e;ms(t)}function Is(t,e){return e.returnIdpCredential=!0,su(t,Js,e)}function Ss(t,e){return e.returnIdpCredential=!0,su(t,tu,e)}function ks(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,su(t,Zs,e)}function As(t){if(!t.oobCode)throw new A("invalid-action-code")}(t=ts.prototype).Eb=function(t,e){var n={idToken:t},r=[];return dt(bs,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),su(this,Ws,n)},t.wb=function(t,e){return yt(t={requestType:"PASSWORD_RESET",email:t},e),su(this,qs,t)},t.xb=function(t,e){return yt(t={requestType:"EMAIL_SIGNIN",email:t},e),su(this,Us,t)},t.vb=function(t,e){return yt(t={requestType:"VERIFY_EMAIL",idToken:t},e),su(this,Bs,t)},t.Fb=function(t,e,n){return yt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),su(this,Vs,t)},t.gb=function(t){return su(this,ru,t)},t.ob=function(t,e){return su(this,zs,{oobCode:t,newPassword:e})},t.Sa=function(t){return su(this,xs,{oobCode:t})},t.kb=function(t){return su(this,Cs,{oobCode:t})};var Cs={endpoint:"setAccountInfo",A:As,Z:"email",B:!0},xs={endpoint:"resetPassword",A:As,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new A("internal-error")},B:!0},Os={endpoint:"signupNewUser",A:function(t){if(gs(t),!t.password)throw new A("weak-password")},G:ms,V:!0,B:!0},Ns={endpoint:"createAuthUri",B:!0},Ds={endpoint:"deleteAccount",O:["idToken"]},Rs={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new A("internal-error")}},Ps={endpoint:"emailLinkSignin",O:["email","oobCode"],A:gs,G:ms,V:!0,B:!0},Ls={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:gs,G:ms,V:!0},Fs={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:ws,G:ms,B:!0,Na:!0},Ms={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:ws,G:ms,B:!0,Na:!0},js={endpoint:"getAccountInfo"},Us={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new A("internal-error");gs(t)},Z:"email",B:!0},Bs={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new A("internal-error")},Z:"email",B:!0},Vs={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new A("internal-error")},Z:"email",B:!0},qs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new A("internal-error");gs(t)},Z:"email",B:!0},Gs={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Hs={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new A("internal-error")}},zs={endpoint:"resetPassword",A:As,Z:"email",B:!0},Ks={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Ws={endpoint:"setAccountInfo",O:["idToken"],A:vs,V:!0},Xs={endpoint:"setAccountInfo",O:["idToken"],A:function(t){if(vs(t),!t.password)throw new A("weak-password")},G:ms,V:!0},Ys={endpoint:"signupNewUser",G:ms,V:!0,B:!0},Qs={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new A("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new A("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new A("internal-error")},B:!0,Na:!0},$s={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new A("internal-error")},B:!0,Na:!0},Js={endpoint:"verifyAssertion",A:_s,Za:Ts,G:Es,V:!0,B:!0},Zs={endpoint:"verifyAssertion",A:_s,Za:Ts,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new A("user-not-found");if(t.errorMessage)throw uu(t.errorMessage);ms(t)},V:!0,B:!0},tu={endpoint:"verifyAssertion",A:function(t){if(_s(t),!t.idToken)throw new A("internal-error")},Za:Ts,G:Es,V:!0},eu={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new A("invalid-custom-token")},G:ms,V:!0,B:!0},nu={endpoint:"verifyPassword",A:function(t){if(gs(t),!t.password)throw new A("wrong-password")},G:ms,V:!0,B:!0},ru={endpoint:"verifyPhoneNumber",A:ys,G:ms,B:!0},iu={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new A("internal-error");ys(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Qo(t);ms(t)}},ou={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ys,G:ms,B:!0},au={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[ns]^!!t.refreshToken)throw new A("internal-error")},B:!0,Na:!0};function su(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,e.O))return Oe(new A("internal-error"));var r,i=!!e.Na,o=e.Vb||"POST";return xe(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&"undefined"===typeof n.tenantId&&(n.tenantId=t.b),ds(t,i?t.i:t.h,e.endpoint,o,n,e.Ib,e.mb||!1)})).then((function(t){return r=t,e.Za?e.Za(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new A("internal-error");return r[e.Z]}))}function uu(t){return cu({error:{errors:[{message:t}],code:400,message:t}})}function cu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new A(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",yt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new A(r[i],e);return!e&&t&&(e=jr(t)),new A("internal-error",e)}function lu(t){this.b=t,this.a=null,this.sb=function(t){return(du||(du=new Te((function(t,e){function n(){Gr(),Dr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Gr(),e(Error("Network Error"))},timeout:fu.get()})}if(Dr("gapi.iframes.Iframe"))t();else if(Dr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){Dr("gapi.load")?n():e(Error("Network Error"))},xe(Wa(r=Ct(hu,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw du=null,t})))).then((function(){return new Te((function(e,n){Dr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),pu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var hu=new wt(It,"https://apis.google.com/js/api.js?onload=%{onload}"),fu=new Hr(3e4,6e4),pu=new Hr(5e3,15e3),du=null;function gu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?t=qn((t=Vn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):t=qn("https",this.l,null,"/__/auth/iframe"),this.a=t,Un(this.a,"apiKey",this.h),Un(this.a,"appName",this.i),this.b=null,this.c=[]}function vu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function mu(t){try{return r.Z.app(t).auth().Ga()}catch(e){return[]}}function yu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function bu(t){var e=fr();return function(t){return su(t,Gs,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Vn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Vn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:yr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Xo(fr())}))}function wu(t){return t.m||(t.m=wr().then((function(){if(!t.u){var e=t.c,n=t.i,r=mu(t.b),i=new gu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=Z(r||[]),t.u=i.toString()}t.v=new lu(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.sb.then((function(){t.a.register("authEvent",e,Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Ho(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",xe(n)}return n.status="ERROR",xe(n)}))}(t)}))),t.m}function _u(t){return t.l||(t.C=t.c?Or(t.c,mu(t.b)):null,t.l=new ts(t.g,R(t.i),t.C),t.f&&us(t.l,t.f)),t.l}function Tu(t,e,n,r,i,o,a,s,u,c,l,h){return(t=new vu(t,e,n,r,i,h)).l=o,t.g=a,t.i=s,t.b=vt(u||null),t.f=c,t.zb(l).toString()}function Eu(t){if(this.a=t||r.Z.INTERNAL.reactNative&&r.Z.INTERNAL.reactNative.AsyncStorage,!this.a)throw new A("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Iu(t){this.b=t,this.a={},this.f=T(this.c,this)}gu.prototype.toString=function(){return this.f?Un(this.a,"v",this.f):tr(this.a.b,"v"),this.b?Un(this.a,"eid",this.b):tr(this.a.b,"eid"),this.c.length?Un(this.a,"fw",this.c.join(",")):tr(this.a.b,"fw"),this.a.toString()},vu.prototype.zb=function(t){return this.h=t,this},vu.prototype.toString=function(){if(this.v){var t=Vn(this.v.url);t=qn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=qn("https",this.u,null,"/__/auth/handler");if(Un(t,"apiKey",this.s),Un(t,"appName",this.c),Un(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=r.Z.app(this.c).auth().la()}catch(u){n=null}for(var i in e.pb=n,Un(t,"providerId",this.a.providerId),e=Ur((n=this.a).Jb))e[i]=e[i].toString();i=n.Qc,e=vt(e);for(var o=0;o<i.length;o++){var a=i[o];a in e&&delete e[a]}n.qb&&n.pb&&!e[n.qb]&&(e[n.qb]=n.pb),gt(e)||Un(t,"customParameters",jr(e))}if("function"===typeof this.a.Rb&&((n=this.a.Rb()).length&&Un(t,"scopes",n.join(","))),this.l?Un(t,"redirectUrl",this.l):tr(t.b,"redirectUrl"),this.g?Un(t,"eventId",this.g):tr(t.b,"eventId"),this.i?Un(t,"v",this.i):tr(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Bn(t,s)&&Un(t,s,this.b[s]);return this.h?Un(t,"tid",this.h):tr(t.b,"tid"),this.f?Un(t,"eid",this.f):tr(t.b,"eid"),(s=mu(this.c)).length&&Un(t,"fw",s.join(",")),t.toString()},(t=yu.prototype).Pb=function(t,e,n){var r=new A("popup-closed-by-user"),i=new A("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return wu(t).then((function(){return function(t,e){return t.sb.then((function(){return new Te((function(n){t.a.send(e.type,e,n,Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&"undefined"!==typeof t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&vr(t),e(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(t){return new Te((function(e){return function n(){Cn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return Cn(n).then((function(){e(r)}))}))},t.Yb=function(){var t=Nr();return!Mr(t)&&!qr(t)},t.Ub=function(){return!1},t.Nb=function(t,e,n,r,i,o,a,s){if(!t)return Oe(new A("popup-blocked"));if(a&&!Mr())return this.ma().o((function(e){vr(t),i(e)})),r(),xe();this.a||(this.a=bu(_u(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw vr(t),i(e),e}));return r(),e})).then((function(){(qo(n),a)||pr(Tu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Ob=function(t,e,n,r){this.a||(this.a=bu(_u(this)));var i=this;return this.a.then((function(){qo(e),pr(Tu(i.s,i.g,i.b,t,e,fr(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ma=function(){var t=this;return wu(this).then((function(){return t.v.sb})).o((function(){throw t.a=null,new A("network-request-failed")}))},t.ac=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ta=function(t){$(this.h,(function(e){return e==t}))},(t=Eu.prototype).get=function(t){return xe(this.a.getItem(t)).then((function(t){return t&&Br(t)}))},t.set=function(t,e){return xe(this.a.setItem(t,jr(e)))},t.U=function(t){return xe(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var Su,ku=[];function Au(t,e,n){gt(t.a)&&t.b.addEventListener("message",t.f),"undefined"===typeof t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Cu(t){this.a=t}function xu(t){this.c=t,this.b=!1,this.a=[]}function Ou(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return Oe(Error("connection_unavailable"));var l=r?800:50,h="undefined"!==typeof MessageChannel?new MessageChannel:null;return new Te((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),"undefined"!==typeof t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return Nu(t,c),e})).o((function(e){throw Nu(t,c),e}))}function Nu(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),$(t.a,(function(t){return t==e}))}}function Du(){if(!Fu())throw new A("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=u.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;Er()&&self?(this.v=function(){var t=Er()?self:null;if(z(ku,(function(n){n.b==t&&(e=n)})),!e){var e=new Iu(t);ku.push(e)}return e}(),Au(this.v,"keyChanged",(function(e,n){return Vu(t).then((function(e){return 0<e.length&&z(t.a,(function(t){t(e)})),{keyProcessed:Y(e,n.key)}}))})),Au(this.v,"ping",(function(){return xe(["keyChanged"])}))):function(){var t=u.navigator;return t&&t.serviceWorker?xe().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):xe(null)}().then((function(e){(t.h=e)&&(t.g=new xu(new Cu(e)),Ou(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&Y(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Ru(t){return new Te((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new Te((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Ru(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Pu(t){return t.i||(t.i=Ru(t)),t.i}function Lu(t,e){var n=0;return new Te((function r(i,o){Pu(t).then(e).then(i).o((function(e){if(!(3<++n))return Pu(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function Fu(){try{return!!u.indexedDB}catch(fa){return!1}}function Mu(t){return t.objectStore("firebaseLocalStorage")}function ju(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Uu(t){return new Te((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Bu(t,e){return t.g&&t.h&&function(){var t=u.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Ou(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):xe()}function Vu(t){return Pu(t).then((function(t){var e=Mu(ju(t,!1));return e.getAll?Uu(e.getAll()):new Te((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=dr(t.c,n),t.c=n}return r}))}function qu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Gu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=xe().then((function(){if(Fu()){var t=Vr(),r="__sak"+t;return Su||(Su=new Du),(n=Su).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){z(e.a,(function(e){e(t)}))})),t}))}function Hu(){this.a={},this.type="inMemory"}function zu(){if(!function(){var t="Node"==Ir();if(!(t=Ku()||t&&r.Z.INTERNAL.node&&r.Z.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Ir())throw new A("internal-error","The LocalStorage compatibility library was not found.");throw new A("web-storage-unsupported")}this.a=Ku()||r.Z.INTERNAL.node.localStorage,this.type="localStorage"}function Ku(){try{var t=u.localStorage,e=Vr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Wu(){this.type="nullStorage"}function Xu(){if(!function(){var t="Node"==Ir();if(!(t=Yu()||t&&r.Z.INTERNAL.node&&r.Z.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Ir())throw new A("internal-error","The SessionStorage compatibility library was not found.");throw new A("web-storage-unsupported")}this.a=Yu()||r.Z.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Yu(){try{var t=u.sessionStorage,e=Vr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Qu(){var t={};t.Browser=Zu,t.Node=tc,t.ReactNative=ec,t.Worker=nc,this.a=t[Ir()]}Iu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];z(r,(function(e){i.push(xe().then((function(){return e(t.origin,t.data.data)})))})),De(i).then((function(r){var i=[];z(r,(function(t){i.push({fulfilled:t.Qb,value:t.value,reason:t.reason?t.reason.message:void 0})})),z(i,(function(t){for(var e in t)"undefined"===typeof t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Cu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},xu.prototype.close=function(){for(;0<this.a.length;)Nu(this,this.a[0]);this.b=!0},(t=Du.prototype).set=function(t,e){var n=this,r=!1;return Lu(this,(function(e){return Uu((e=Mu(ju(e,!0))).get(t))})).then((function(i){return Lu(n,(function(o){if(o=Mu(ju(o,!0)),i)return i.value=e,Uu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=t,a.value=e,Uu(o.add(a))}))})).then((function(){return n.c[t]=e,Bu(n,t)})).oa((function(){r&&n.b--}))},t.get=function(t){return Lu(this,(function(e){return Uu(Mu(ju(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return Lu(this,(function(r){return n=!0,e.b++,Uu(Mu(ju(r,!0)).delete(t))})).then((function(){return delete e.c[t],Bu(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){function e(){t.f=setTimeout((function(){t.l=Vu(t).then((function(e){0<e.length&&z(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}qu(t),e()}(this),this.a.push(t)},t.ia=function(t){$(this.a,(function(e){return e==t})),0==this.a.length&&qu(this)},(t=Gu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){$(this.a,(function(e){return e==t}))},(t=Hu.prototype).get=function(t){return xe(this.a[t])},t.set=function(t,e){return this.a[t]=e,xe()},t.U=function(t){return delete this.a[t],xe()},t.ca=function(){},t.ia=function(){},(t=zu.prototype).get=function(t){var e=this;return xe().then((function(){return Br(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return xe().then((function(){var r=jr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return xe().then((function(){e.a.removeItem(t)}))},t.ca=function(t){u.window&&hn(u.window,"storage",t)},t.ia=function(t){u.window&&dn(u.window,"storage",t)},(t=Wu.prototype).get=function(){return xe(null)},t.set=function(){return xe()},t.U=function(){return xe()},t.ca=function(){},t.ia=function(){},(t=Xu.prototype).get=function(t){var e=this;return xe().then((function(){return Br(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return xe().then((function(){var r=jr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return xe().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var $u,Ju,Zu={F:zu,cb:Xu},tc={F:zu,cb:Xu},ec={F:Eu,cb:Wu},nc={F:zu,cb:Wu},rc={rd:"local",NONE:"none",td:"session"};function ic(){var t=!(qr(Nr())||!Tr()),e=Mr(),n=Rr();this.m=t,this.h=e,this.l=n,this.a={},$u||($u=new Qu),t=$u;try{this.g=!hr()&&Wr()||!u.indexedDB?new t.a.F:new Gu(Er()?new Hu:new t.a.F)}catch(r){this.g=new Hu,this.h=!0}try{this.i=new t.a.cb}catch(r){this.i=new Hu}this.v=new Hu,this.f=T(this.Zb,this),this.b={}}function oc(){return Ju||(Ju=new ic),Ju}function ac(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function sc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function uc(t,e,n){return n=sc(e,n),"local"==e.F&&(t.b[n]=null),ac(t,e.F).U(n)}function cc(t){t.c&&(clearInterval(t.c),t.c=null)}function lc(t){this.a=t,this.b=oc()}(t=ic.prototype).get=function(t,e){return ac(this,t.F).get(sc(t,e))},t.set=function(t,e,n){var r=sc(t,n),i=this,o=ac(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=sc(t,e),this.l&&(this.b[t]=u.localStorage.getItem(t)),gt(this.a)&&(ac(this,"local").ca(this.f),this.h||(hr()||!Wr())&&u.indexedDB||!this.l||function(t){cc(t),t.c=setInterval((function(){for(var e in t.a){var n=u.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Ze({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Zb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=sc(t,e),this.a[t]&&($(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),gt(this.a)&&(ac(this,"local").ia(this.f),cc(this))},t.Zb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if("undefined"!==typeof t.a.a?ac(this,"local").ia(this.f):cc(this),this.m)if(n=u.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?u.localStorage.setItem(e,r):u.localStorage.removeItem(e);else if(this.b[e]===r&&"undefined"===typeof t.a.a)return;var o=this;n=function(){"undefined"===typeof t.a.a&&o.b[e]===u.localStorage.getItem(e)||(o.b[e]=u.localStorage.getItem(e),o.nb(e))},Yt&&ue&&10==ue&&u.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else z(t,T(this.nb,this))},t.nb=function(t){this.a[t]&&z(this.a[t],(function(t){t()}))};var hc,fc={name:"authEvent",F:"local"};function pc(){this.a=oc()}function dc(t,e){this.b=gc,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===hc&&(hc=u.Int32Array?new Int32Array(Tc):Tc),this.reset()}S(dc,(function(){this.b=-1}));for(var gc=64,vc=gc-1,mc=[],yc=0;yc<vc;yc++)mc[yc]=0;var bc=J(128,mc);function wc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|hc[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function _c(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"===typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(wc(t),i=0);else{if(!d(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(wc(t),i=0)}}t.c=i,t.g+=n}dc.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):Z(this.h)};var Tc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ec(){dc.call(this,8,Ic)}S(Ec,dc);var Ic=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Sc(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new pc,this.g=new lc(this.h),this.f=null,this.b=[],this.a=this.c=null}function kc(t){return new A("invalid-cordova-configuration",t)}function Ac(t){var e=new Ec;_c(e,t),t=[];var n=8*e.g;56>e.c?_c(e,bc,56-e.c):_c(e,bc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(wc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return W(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function Cc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function xc(t){return t.f||(t.f=t.ma().then((function(){return new Te((function(e){t.Ea((function n(r){return e(r),t.Ta(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),Oc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=so(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=Br(Bn(o=Vn(i),"firebaseError")||null))?C(o):null)?new Go(r.c,r.b,null,null,o,null,r.T()):new Go(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Cc(t,i)}))}var n=new Go("unknown",null,null,null,new A("no-auth-event")),r=!1,i=Cn(500).then((function(){return Oc(t).then((function(){r||Cc(t,n)}))})),o=u.handleOpenURL;u.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Dr("BuildInfo.packageName",u).toLowerCase()+"://")&&e({url:t}),"function"===typeof o)try{o(t)}catch(n){console.error(n)}},Wo||(Wo=new zo),function(t){var e=Wo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"===typeof(t=Dr("universalLinks.subscribe",u))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Oc(t){var e=null;return function(t){return t.b.get(fc,t.a).then((function(t){return Ho(t)}))}(t.g).then((function(n){return e=n,uc((n=t.g).b,fc,n.a)})).then((function(){return e}))}function Nc(t){this.a=t,this.b=oc()}(t=Sc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(_r(void 0)?wr().then((function(){return new Te((function(t,e){var n=u.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Oe(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof Dr("universalLinks.subscribe",u))throw kc("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Dr("BuildInfo.packageName",u))throw kc("cordova-plugin-buildinfo is not installed");if("function"!==typeof Dr("cordova.plugins.browsertab.openUrl",u))throw kc("cordova-plugin-browsertab is not installed");if("function"!==typeof Dr("cordova.InAppBrowser.open",u))throw kc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new A("cordova-not-ready")}))},t.Pb=function(t,e){return e(new A("operation-not-supported-in-this-environment")),xe()},t.Nb=function(){return Oe(new A("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(t,e,n,r){if(this.c)return Oe(new A("redirect-operation-pending"));var i=this,o=u.document,a=null,s=null,c=null,l=null;return this.c=xe().then((function(){return qo(e),xc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Go(e,r,null,o,new A("no-auth-event"),null,i),s=Dr("BuildInfo.packageName",u);if("string"!==typeof s)throw new A("invalid-cordova-configuration");var c=Dr("BuildInfo.displayName",u),l={};if(Nr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=s;else{if(!Nr().toLowerCase().match(/android/))return Oe(new A("operation-not-supported-in-this-environment"));l.apn=s}c&&(l.appDisplayName=c),o=Ac(o),l.sessionId=o;var h=Tu(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(fc,a.w(),e)})).then((function(){var e=Dr("cordova.plugins.browsertab.isAvailable",u);if("function"!==typeof e)throw new A("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!==typeof(n=Dr("cordova.plugins.browsertab.openUrl",u)))throw new A("invalid-cordova-configuration");n(h)}else{if("function"!==typeof(n=Dr("cordova.InAppBrowser.open",u)))throw new A("invalid-cordova-configuration");e=Nr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new Te((function(t,e){s=function(){var e=Dr("cordova.plugins.browsertab.close",u);return t(),"function"===typeof e&&e(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(s),c=function(){a||(a=Cn(2e3).then((function(){e(new A("redirect-cancelled-by-user"))})))},l=function(){zr()&&c()},o.addEventListener("resume",c,!1),Nr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(t){return Oc(i).then((function(){throw t}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),s&&i.Ta(s),i.c=null}))},t.Ea=function(t){this.b.push(t),xc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Go("unknown",null,null,null,new A("no-auth-event")),t(e))}))},t.Ta=function(t){$(this.b,(function(e){return e==t}))};var Dc={name:"pendingRedirect",F:"session"};function Rc(t){return uc(t.b,Dc,t.a)}function Pc(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=T(this.s,this),this.b=new Yc,this.C=new tl,this.g=new Nc(Wc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Lc(this.D,this.v,this.m,x,this.J)}function Lc(t,e,n,i,o){var a=r.Z.SDK_VERSION||null;return _r()?new Sc(t,e,n,a,i,o):new yu(t,e,n,a,i,o)}function Fc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function Mc(t){t.a.Yb()&&Fc(t).o((function(e){var n=new Go("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));Gc(e)&&t.s(n)})),t.a.Ub()||Qc(t.b)}function jc(t,e){Y(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Dc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Rc(t.g).then((function(){Fc(t).o((function(e){var n=new Go("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));Gc(e)&&t.s(n)}))})):Mc(t)})).o((function(){Mc(t)}))}function Uc(t,e){$(t.h,(function(t){return t==e}))}Pc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Lc(this.D,this.v,this.m,null,this.J),this.i={}},Pc.prototype.s=function(t){if(!t)throw new A("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Qc(this.b),e};var Bc=new Hr(2e3,1e4),Vc=new Hr(3e4,6e4);function qc(t,e,n,r,i,o,a){return t.a.Nb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,a)}function Gc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Hc(t,e,n,r,i){var o;return function(t){return t.b.set(Dc,"pending",t.a)}(t.g).then((function(){return t.a.Ob(e,n,r,i).o((function(e){if(Gc(e))throw new A("operation-not-supported-in-this-environment");return o=e,Rc(t.g).then((function(){throw o}))})).then((function(){return t.a.ac()?new Te((function(){})):Rc(t.g).then((function(){return t.ra()})).then((function(){})).o((function(){}))}))}))}function zc(t,e,n,r,i){return t.a.Pb(r,(function(t){e.na(n,null,t,i)}),Bc.get())}Pc.prototype.ra=function(){return this.b.ra()};var Kc={};function Wc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Xc(t,e,n,r){var i=Wc(e,n,r);return Kc[i]||(Kc[i]=new Pc(t,e,n,r)),Kc[i]}function Yc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Qc(t){t.g||(t.g=!0,Zc(t,!1,null,null))}function $c(t){t.g&&!t.i&&Zc(t,!1,null,null)}function Jc(t,e){if(t.b=function(){return xe(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Zc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Oe(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Jc(t,n):Jc(t,{user:null}),t.f=[],t.c=[]}function tl(){}function el(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(t){this.jb=t},enumerable:!1})}function nl(t,e){this.a=e,Jr(this,"verificationId",t)}function rl(t,e,n,r){return new Uo(t).gb(e,n).then((function(t){return new nl(t,r)}))}function il(t){var e=Wi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new A("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Zr(this,{token:t,expirationTime:Kr(1e3*e.exp),authTime:Kr(1e3*e.auth_time),issuedAtTime:Kr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function ol(t,e,n){var r=e&&e[sl];if(!r)throw new A("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=vt(e),this.g=n,this.c=new uo(null,r),this.b=[];var i=this;z(e[al]||[],(function(t){(t=ri(t))&&i.b.push(t)})),Jr(this,"auth",this.a),Jr(this,"session",this.c),Jr(this,"hints",this.b)}Yc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Yc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Zc(this,!0,null,t.a),xe()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.T(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){Zc(t,s,e,null)})).o((function(e){Zc(t,s,null,e)}))}(this,t,e):Oe(new A("invalid-auth-event")):(Zc(this,!1,null,null),xe())}else Oe(new A("invalid-auth-event"))},Yc.prototype.ra=function(){var t=this;return new Te((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new A("timeout");t.a&&t.a.cancel(),t.a=Cn(Vc.get()).then((function(){t.b||(t.g=!0,Zc(t,!0,null,e))}))}(t))}))},tl.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),xe()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}(t,e):Oe(new A("invalid-auth-event"))}else Oe(new A("invalid-auth-event"))},nl.prototype.confirm=function(t){return t=Bo(this.verificationId,t),this.a(t)};var al="mfaInfo",sl="mfaPendingCredential";function ul(t,e,n,r){A.call(this,"multi-factor-auth-required",r,e),this.b=new ol(t,e,n),Jr(this,"resolver",this.b)}function cl(t,e,n){if(t&&v(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new ul(e,t.serverResponse,n,t.message)}catch(r){}return null}function ll(){}function hl(t){Jr(this,"factorId",t.fa),this.a=t}function fl(t){if(hl.call(this,t),this.a.fa!=Uo.PROVIDER_ID)throw new A("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function pl(t,e){for(var n in Je.call(this,t),e)this[n]=e[n]}function dl(t,e){this.a=t,this.b=[],this.c=T(this.yc,this),hn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&z(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ai]=t.uid),t.displayName&&(r[ii]=t.displayName),t.enrollmentTime&&(r[oi]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[si]=t.phoneNumber);try{e=new ui(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),gl(this,n)}function gl(t,e){t.b=e,Jr(t,"enrolledFactors",e)}function vl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function ml(t,e){t.stop(),t.b=Cn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=u.document,e=null;return zr()||!t?xe():new Te((function(n){e=function(){zr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.h()})).then((function(){ml(t,!0)})).o((function(e){t.i(e)&&ml(t,!1)}))}function yl(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function bl(t,e){"undefined"===typeof e&&(t.b?e=(e=t.b).a-e.g:e=0),t.c=Date.now()+1e3*e}function wl(t,e){t.b=Ki(e[ns]||""),t.a=e.refreshToken,bl(t,"undefined"!==typeof(e=e.expiresIn)?Number(e):void 0)}function _l(t,e){return function(t,e){return new Te((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?hs(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(cu(t)):t.access_token&&t.refresh_token?n(t):r(new A("internal-error")):r(new A("network-request-failed"))}),"POST",Zn(e).toString(),t.g,t.m.get()):r(new A("internal-error"))}))}(t.f,e).then((function(e){return t.b=Ki(e.access_token),t.a=e.refresh_token,bl(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function Tl(t,e){this.a=t||null,this.b=e||null,Zr(this,{lastSignInTime:Kr(e||null),creationTime:Kr(t||null)})}function El(t,e,n,r,i,o){Zr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function Il(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var i=r.Z.SDK_VERSION?Or(r.Z.SDK_VERSION):null;this.a=new ts(this.l,R(x),i),(this.u=t.emulatorConfig||null)&&us(this.a,this.u),this.h=new yl(this.a),Rl(this,e[ns]),wl(this.h,e),Jr(this,"refreshToken",this.h.a),Fl(this,n||{}),En.call(this),this.P=!1,this.s&&Pr()&&(this.b=Xc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(t){return new vl((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.h.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.ba=T(this.ib,this);var o=this;this.za=null,this.Pa=function(t){o.xa(t.h)},this.qa=null,this.Ba=function(t){Sl(o,t.c)},this.$=null,this.aa=[],this.Oa=function(t){Cl(o,t.f)},this.ja=null,this.S=new dl(this,n),Jr(this,"multiFactor",this.S)}function Sl(t,e){t.u=e,us(t.a,e),t.b&&(e=t.b,t.b=Xc(t.s,t.l,t.m,t.u),t.P&&(Uc(e,t),jc(t.b,t)))}function kl(t,e){t.qa&&dn(t.qa,"languageCodeChanged",t.Pa),(t.qa=e)&&hn(e,"languageCodeChanged",t.Pa)}function Al(t,e){t.$&&dn(t.$,"emulatorConfigChanged",t.Ba),(t.$=e)&&hn(e,"emulatorConfigChanged",t.Ba)}function Cl(t,e){t.aa=e,ls(t.a,r.Z.SDK_VERSION?Or(r.Z.SDK_VERSION,t.aa):null)}function xl(t,e){t.ja&&dn(t.ja,"frameworkChanged",t.Oa),(t.ja=e)&&hn(e,"frameworkChanged",t.Oa)}function Ol(t){try{return r.Z.app(t.m).auth()}catch(e){throw new A("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Nl(t){t.J||t.D.b||(t.D.start(),dn(t,"tokenChanged",t.ba),hn(t,"tokenChanged",t.ba))}function Dl(t){dn(t,"tokenChanged",t.ba),t.D.stop()}function Rl(t,e){t.Aa=e,Jr(t,"_lat",e)}function Pl(t){for(var e=[],n=0;n<t.W.length;n++)e.push(t.W[n](t));return De(e).then((function(){return t}))}function Ll(t){t.b&&!t.P&&(t.P=!0,jc(t.b,t))}function Fl(t,e){Zr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new Tl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Ml(){}function jl(t){return xe().then((function(){if(t.J)throw new A("app-deleted")}))}function Ul(t){return W(t.providerData,(function(t){return t.providerId}))}function Bl(t,e){e&&(Vl(t,e.providerId),t.providerData.push(e))}function Vl(t,e){$(t.providerData,(function(t){return t.providerId==e}))}function ql(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Jr(t,e,n)}function Gl(t,e){t!=e&&(Zr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Jr(t,"metadata",function(t){return new Tl(t.a,t.b)}(e.metadata)):Jr(t,"metadata",new Tl),z(e.providerData,(function(e){Bl(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),Jr(t,"refreshToken",t.h.a),gl(t.S,e.S.b))}function Hl(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return su(t.a,js,{idToken:e}).then(T(t.Kc,t))}(t,e).then((function(){return n||ql(t,"isAnonymous",!1),e}))}))}function zl(t,e){e[ns]&&t.Aa!=e[ns]&&(wl(t.h,e),t.dispatchEvent(new pl("tokenChanged")),Rl(t,e[ns]),ql(t,"refreshToken",t.h.a))}function Kl(t,e){return Hl(t).then((function(){if(Y(Ul(t),e))return Pl(t).then((function(){throw new A("provider-already-linked")}))}))}function Wl(t,e,n){return ti({user:t,credential:Vo(e),additionalUserInfo:e=Ji(e),operationType:n})}function Xl(t,e){return zl(t,e),t.reload().then((function(){return t}))}function Yl(t,e,n,i,o){if(!Pr())return Oe(new A("operation-not-supported-in-this-environment"));if(t.i&&!o)return Oe(t.i);var a=$i(n.providerId),s=Vr(t.uid+":::"),u=null;(!Mr()||Tr())&&t.s&&n.isOAuthProvider&&(u=Tu(t.s,t.l,t.m,e,n,null,s,r.Z.SDK_VERSION||null,null,null,t.tenantId,t.u));var c=mr(u,a&&a.va,a&&a.ua);return i=i().then((function(){if($l(t),!o)return t.I().then((function(){}))})).then((function(){return qc(t.b,c,e,n,s,!!u,t.tenantId)})).then((function(){return new Te((function(n,r){t.na(e,null,new A("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=s,t.c=zc(t.b,t,e,c,s)}))})).then((function(t){return c&&vr(c),t?ti(t):null})).o((function(t){throw c&&vr(c),t})),Jl(t,i,o)}function Ql(t,e,n,r,i){if(!Pr())return Oe(new A("operation-not-supported-in-this-environment"));if(t.i&&!i)return Oe(t.i);var o=null,a=Vr(t.uid+":::");return r=r().then((function(){if($l(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=a,Pl(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(eh,t.w(),e.a)),e})).then((function(){return Hc(t.b,e,n,a,t.tenantId)})).o((function(e){if(o=e,t.ha)return nh(t.ha);throw o})).then((function(){if(o)throw o})),Jl(t,r,i)}function $l(t){if(!t.b||!t.P){if(t.b&&!t.P)throw new A("internal-error");throw new A("auth-domain-config-required")}}function Jl(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),Oe(t.i)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new pl("userInvalidated")),t.i=e),e}))}(t,e,n);return t.N.push(r),r.oa((function(){Q(t.N,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=cl(e.w(),Ol(t),T(t.jc,t))),n||e}))}function Zl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[ns]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new Il(e,n,t);return t.providerData&&z(t.providerData,(function(t){t&&Bl(i,ti(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function th(t){this.a=t,this.b=oc()}ol.prototype.Rc=function(t){var e=this;return t.tb(this.a.a,this.c).then((function(t){var n=vt(e.f);return delete n[al],delete n[sl],yt(n,t),e.g(n)}))},S(ul,A),ll.prototype.tb=function(t,e,n){return e.type==co?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),yt(n,{phoneVerificationInfo:jo(t.a)}),su(e,Fs,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return yt(n={mfaPendingCredential:n},{phoneVerificationInfo:jo(t.a)}),su(e,Ms,n)}))}(this,t,e)},S(hl,ll),S(fl,hl),S(pl,Je),(t=dl.prototype).yc=function(t){gl(this,function(t){var e=[];return z(t.mfaInfo||[],(function(t){(t=ri(t))&&e.push(t)})),e}(t.hd))},t.Sb=function(){return this.a.I().then((function(t){return new uo(t,null)}))},t.fc=function(t,e){var n=this,r=this.a.a;return this.Sb().then((function(n){return t.tb(r,n,e)})).then((function(t){return zl(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"===typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return su(r,au,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=K(e.b,(function(t){return t.uid!=n}));return gl(e,r),zl(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:W(this.b,(function(t){return t.w()}))}}},vl.prototype.start=function(){this.a=this.c,ml(this,!0)},vl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},yl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},yl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Oe(new A("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?_l(this,{grant_type:"refresh_token",refresh_token:this.a}):xe(null):xe({accessToken:this.b.toString(),refreshToken:this.a})},Tl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},S(Il,En),Il.prototype.xa=function(t){this.za=t,ss(this.a,t)},Il.prototype.la=function(){return this.za},Il.prototype.Ga=function(){return Z(this.aa)},Il.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Jr(Il.prototype,"providerId","firebase"),(t=Il.prototype).reload=function(){var t=this;return Jl(this,jl(this).then((function(){return Hl(t).then((function(){return Pl(t)})).then(Ml)})))},t.oc=function(t){return this.I(t).then((function(t){return new il(t)}))},t.I=function(t){var e=this;return Jl(this,jl(this).then((function(){return e.h.getToken(t)})).then((function(t){if(!t)throw new A("internal-error");return t.accessToken!=e.Aa&&(Rl(e,t.accessToken),e.dispatchEvent(new pl("tokenChanged"))),ql(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new A("internal-error");Fl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?W(t,(function(t){return new El(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Bl(this,e[n]);ql(this,"isAnonymous",!(this.email&&t.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new pl("userReloaded",{hd:t}))},t.Lc=function(t){return Qr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(t)},t.ub=function(t){var e=this,n=null;return Jl(this,t.c(this.a,this.uid).then((function(t){return zl(e,t),n=Wl(e,t,"reauthenticate"),e.i=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return Qr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(t)},t.rb=function(t){var e=this,n=null;return Jl(this,Kl(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Wl(e,t,"link"),Xl(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return Jl(this,Kl(this,"phone").then((function(){return rl(Ol(n),t,e,T(n.rb,n))})))},t.Mc=function(t,e){var n=this;return Jl(this,xe().then((function(){return rl(Ol(n),t,e,T(n.ub,n))})),!0)},t.Cb=function(t){var e=this;return Jl(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return zl(e,t),e.reload()})))},t.ed=function(t){var e=this;return Jl(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return zl(e,t),e.reload()})))},t.Db=function(t){var e=this;return Jl(this,this.I().then((function(n){return e.a.Db(n,t)})).then((function(t){return zl(e,t),e.reload()})))},t.Eb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return jl(this);var e=this;return Jl(this,this.I().then((function(n){return e.a.Eb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return zl(e,t),ql(e,"displayName",t.displayName||null),ql(e,"photoURL",t.photoUrl||null),z(e.providerData,(function(t){"password"===t.providerId&&(Jr(t,"displayName",e.displayName),Jr(t,"photoURL",e.photoURL))})),Pl(e)})).then(Ml))},t.cd=function(t){var e=this;return Jl(this,Hl(this).then((function(n){return Y(Ul(e),t)?function(t,e,n){return su(t,Rs,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return z(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),z(Ul(e),(function(t){n[t]||Vl(e,t)})),n[Uo.PROVIDER_ID]||Jr(e,"phoneNumber",null),Pl(e)})):Pl(e).then((function(){throw new A("no-such-provider")}))})))},t.delete=function(){var t=this;return Jl(this,this.I().then((function(e){return su(t.a,Ds,{idToken:e})})).then((function(){t.dispatchEvent(new pl("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");kl(t,null),Al(t,null),xl(t,null),t.N=[],t.J=!0,Dl(t),Jr(t,"refreshToken",null),t.b&&Uc(t.b,t)}))},t.Gb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?T(this.Lb,this):"reauthViaPopup"==t&&e==(this.g||null)?T(this.Mb,this):"linkViaRedirect"==t&&(this.ga||null)==e?T(this.Lb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?T(this.Mb,this):null},t.Ec=function(t){var e=this;return Yl(this,"linkViaPopup",t,(function(){return Kl(e,t.providerId).then((function(){return Pl(e)}))}),!1)},t.Nc=function(t){return Yl(this,"reauthViaPopup",t,(function(){return xe()}),!0)},t.Fc=function(t){var e=this;return Ql(this,"linkViaRedirect",t,(function(){return Kl(e,t.providerId)}),!1)},t.Oc=function(t){return Ql(this,"reauthViaRedirect",t,(function(){return xe()}),!0)},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Jl(this,this.I().then((function(n){return Ss(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Wl(i,t,"link"),Xl(i,t)})).then((function(){return o})))},t.Mb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Jl(this,xe().then((function(){return fo(ks(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Wl(i,t,"reauthenticate"),zl(i,t),i.i=null,i.reload()})).then((function(){return o})),!0)},t.vb=function(t){var e=this,n=null;return Jl(this,this.I().then((function(e){return n=e,"undefined"===typeof t||gt(t)?{}:qi(new Di(t))})).then((function(t){return e.a.vb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Fb=function(t,e){var n=this,r=null;return Jl(this,this.I().then((function(t){return r=t,"undefined"===typeof e||gt(e)?{}:qi(new Di(e))})).then((function(e){return n.a.Fb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return Jl(this,t=fo(xe(t),n.uid).then((function(t){return e=Wl(n,t,"reauthenticate"),zl(n,t),n.i=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&yt(t,this.metadata.w()),z(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),yt(t,this.S.w()),t};var eh={name:"redirectUser",F:"session"};function nh(t){return uc(t.b,eh,t.a)}function rh(t){this.a=t,this.b=oc(),this.c=null,this.f=function(t){var e=ah("local"),n=ah("session"),r=ah("none");return function(t,e,n){var r=sc(e,n),i=ac(t,e.F);return t.get(e,n).then((function(o){var a=null;try{a=Br(u.localStorage.getItem(r))}catch(s){}if(a&&!o)return u.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(oh,t.a).then((function(t){return t?ah(t):e}))}))}))})).then((function(e){return t.c=e,ih(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(ah("local"),this.a,T(this.g,this))}function ih(t,e){var n,r=[];for(n in rc)rc[n]!==e&&r.push(uc(t.b,ah(rc[n]),t.a));return r.push(uc(t.b,oh,t.a)),function(t){return new Te((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)Ne(t[s],E(o,s),a);else e(i)}))}(r)}rh.prototype.g=function(){var t=this,e=ah("local");lh(this,(function(){return xe().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return ih(t,"local").then((function(){t.c=e}))}))}))};var oh={name:"persistence",F:"session"};function ah(t){return{name:"authUser",F:t}}function sh(t,e){return lh(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function uh(t){return lh(t,(function(){return uc(t.b,t.c,t.a)}))}function ch(t,e,n){return lh(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Zl(t||{})}))}))}function lh(t,e){return t.f=t.f.then(e,e),t.f}function hh(t){if(this.l=!1,Jr(this,"settings",new el),Jr(this,"app",t),!wh(this).options||!wh(this).options.apiKey)throw new A("invalid-api-key");t=r.Z.SDK_VERSION?Or(r.Z.SDK_VERSION):null,this.a=new ts(wh(this).options&&wh(this).options.apiKey,R(x),t),this.P=[],this.s=[],this.N=[],this.Pa=r.Z.INTERNAL.createSubscribe(T(this.zc,this)),this.W=void 0,this.ib=r.Z.INTERNAL.createSubscribe(T(this.Ac,this)),yh(this,null),this.i=new rh(wh(this).options.apiKey+":"+wh(this).name),this.D=new th(wh(this).options.apiKey+":"+wh(this).name),this.$=Ih(this,function(t){var e=wh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(eh,t.a).then((function(t){return t&&e&&(t.authDomain=e),Zl(t||{})}))}(t.D,wh(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),nh(t.D)}));return Ih(t,e)}(t).then((function(){return ch(t.i,e,t.R)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return sh(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:uh(t.i)}))):null})).then((function(e){yh(t,e||null)}));return Ih(t,n)}(this)),this.h=Ih(this,function(t){return t.$.then((function(){return vh(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(ah("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=T(this.Zc,this),this.Ba=T(this.da,this),this.qa=T(this.mc,this),this.za=T(this.wc,this),this.Aa=T(this.xc,this),this.b=null,function(t){var e=wh(t).options.authDomain,n=wh(t).options.apiKey;e&&Pr()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=Xc(e,n,wh(t).name,t.R),jc(t.b,t),_h(t)&&Ll(_h(t)),t.m){Ll(t.m);var r=t.m;r.xa(t.la()),kl(r,t),Cl(r=t.m,t.J),xl(r,t),Sl(r=t.m,t.R),Al(r,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=T(this.delete,this),this.INTERNAL.logFramework=T(this.Gc,this),this.u=0,En.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.xa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.zb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.R){var t=Vn(this.R.url);t=ti({protocol:t.c,host:t.a,port:t.g,options:ti({disableWarnings:this.R.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.R=null}function fh(t){Je.call(this,"languageCodeChanged"),this.h=t}function ph(t){Je.call(this,"emulatorConfigChanged"),this.c=t}function dh(t){Je.call(this,"frameworkChanged"),this.f=t}function gh(t){return t.Oa||Oe(new A("auth-domain-config-required"))}function vh(t){if(!Pr())return Oe(new A("operation-not-supported-in-this-environment"));var e=gh(t).then((function(){return t.b.ra()})).then((function(t){return t?ti(t):null}));return Ih(t,e)}function mh(t,e){var n={};return n.apiKey=wh(t).options.apiKey,n.authDomain=wh(t).options.authDomain,n.appName=wh(t).name,t.R&&(n.emulatorConfig=t.R),t.$.then((function(){return function(t,e,n,r){var i=new Il(t,e);return n&&(i.ha=n),r&&Cl(i,r),i.reload().then((function(){return i}))}(n,e,t.D,t.Ga())})).then((function(e){return _h(t)&&e.uid==_h(t).uid?(Gl(_h(t),e),t.da(e)):(yh(t,e),Ll(e),t.da(e))})).then((function(){Eh(t)}))}function yh(t,e){_h(t)&&(function(t,e){$(t.W,(function(t){return t==e}))}(_h(t),t.Ba),dn(_h(t),"tokenChanged",t.qa),dn(_h(t),"userDeleted",t.za),dn(_h(t),"userInvalidated",t.Aa),Dl(_h(t))),e&&(e.W.push(t.Ba),hn(e,"tokenChanged",t.qa),hn(e,"userDeleted",t.za),hn(e,"userInvalidated",t.Aa),0<t.u&&Nl(e)),Jr(t,"currentUser",e),e&&(e.xa(t.la()),kl(e,t),Cl(e,t.J),xl(e,t),Sl(e,t.R),Al(e,t))}function bh(t,e){var n=null,r=null;return Ih(t,e.then((function(e){return n=Vo(e),r=Ji(e),mh(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=cl(e.w(),t,T(t.kc,t))),n||e})).then((function(){return ti({user:_h(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function wh(t){return t.app}function _h(t){return t.currentUser}function Th(t){return _h(t)&&_h(t)._lat||null}function Eh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](Th(t));if(t.W!==t.getUid()&&t.N.length)for(t.W=t.getUid(),e=0;e<t.N.length;e++)t.N[e]&&t.N[e](Th(t))}}function Ih(t,e){return t.P.push(e),e.oa((function(){Q(t.P,e)})),e}function Sh(){}function kh(){this.a={},this.b=1e12}rh.prototype.yb=function(t){var e=null,n=this;return function(t){var e=new A("invalid-persistence-type"),n=new A("unsupported-persistence-type");t:{for(r in rc)if(rc[r]==t){var r=!0;break t}r=!1}if(!r||"string"!==typeof t)throw e;switch(Ir()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Fu()&&"none"!==t)throw n;break;default:if(!Rr()&&"none"!==t)throw n}}(t),lh(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,ih(n,t)})).then((function(){if(n.c=ah(t),e)return n.b.set(n.c,e,n.a)})):xe()}))},S(hh,En),S(fh,Je),S(ph,Je),S(dh,Je),(t=hh.prototype).yb=function(t){return Ih(this,t=this.i.yb(t))},t.xa=function(t){this.aa===t||this.l||(this.aa=t,ss(this.a,this.aa),this.dispatchEvent(new fh(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=u.navigator;this.xa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.R){if(!/^https?:\/\//.test(t))throw new A("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&!t&&wr().then((function(){var t=u.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),u.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.R={url:t,ec:e},this.settings.jb=!0,us(this.a,this.R),this.dispatchEvent(new ph(this.R))}},t.Gc=function(t){this.J.push(t),ls(this.a,r.Z.SDK_VERSION?Or(r.Z.SDK_VERSION,this.J):null),this.dispatchEvent(new dh(this.J))},t.Ga=function(){return Z(this.J)},t.zb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:wh(this).options.apiKey,authDomain:wh(this).options.authDomain,appName:wh(this).name,currentUser:_h(this)&&_h(this).w()}},t.Gb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?T(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return bh(i,Is(i.a,o))}))},t.Xc=function(t){if(!Pr())return Oe(new A("operation-not-supported-in-this-environment"));var e=this,n=$i(t.providerId),i=Vr(),o=null;(!Mr()||Tr())&&wh(this).options.authDomain&&t.isOAuthProvider&&(o=Tu(wh(this).options.authDomain,wh(this).options.apiKey,wh(this).name,"signInViaPopup",t,null,i,r.Z.SDK_VERSION||null,null,null,this.T(),this.R));var a=mr(o,n&&n.va,n&&n.ua);return Ih(this,n=gh(this).then((function(n){return qc(n,a,"signInViaPopup",t,i,!!o,e.T())})).then((function(){return new Te((function(t,n){e.na("signInViaPopup",null,new A("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=i,e.c=zc(e.b,e,"signInViaPopup",a,i)}))})).then((function(t){return a&&vr(a),t?ti(t):null})).o((function(t){throw a&&vr(a),t})))},t.Yc=function(t){if(!Pr())return Oe(new A("operation-not-supported-in-this-environment"));var e=this;return Ih(this,gh(this).then((function(){return function(t){return lh(t,(function(){return t.b.set(oh,t.c.F,t.a)}))}(e.i)})).then((function(){return Hc(e.b,"signInViaRedirect",t,void 0,e.T())})))},t.ra=function(){var t=this;return vh(this).then((function(e){return t.b&&$c(t.b.b),e})).o((function(e){throw t.b&&$c(t.b.b),e}))},t.dd=function(t){if(!t)return Oe(new A("null-user"));if(this.S!=t.tenantId)return Oe(new A("tenant-id-mismatch"));var e=this,n={};n.apiKey=wh(this).options.apiKey,n.authDomain=wh(this).options.authDomain,n.appName=wh(this).name;var r=function(t,e,n,r){var i=t.h,o={};return o[ns]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new Il(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&Cl(e,r),Gl(e,t),e}(t,n,e.D,e.Ga());return Ih(this,this.h.then((function(){if(wh(e).options.apiKey!=t.l)return r.reload()})).then((function(){return _h(e)&&t.uid==_h(e).uid?(Gl(_h(e),t),e.da(t)):(yh(e,r),Ll(r),e.da(r))})).then((function(){Eh(e)})))},t.Bb=function(){var t=this;return Ih(this,this.h.then((function(){return t.b&&$c(t.b.b),_h(t)?(yh(t,null),uh(t.i).then((function(){Eh(t)}))):xe()})))},t.Zc=function(){var t=this;return ch(this.i,wh(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=_h(t)&&e){n=_h(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Gl(_h(t),e),_h(t).I();(_h(t)||e)&&(yh(t,e),e&&(Ll(e),e.ha=t.D),t.b&&jc(t.b,t),Eh(t))}}))},t.da=function(t){return sh(this.i,t)},t.mc=function(){Eh(this),this.da(_h(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()},t.kc=function(t){var e=this;return this.h.then((function(){return bh(e,xe(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(_h(e))}))},t.Ac=function(t){var e=this;!function(t,e){t.N.push(e),Ih(t,t.h.then((function(){!t.l&&Y(t.N,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(Th(t)))})))}(this,(function(){t.next(_h(e))}))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof t?t(_h(r)):"function"===typeof t.next&&t.next(_h(r))})),this.Pa(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"===typeof t?t(_h(r)):"function"===typeof t.next&&t.next(_h(r))})),this.ib(t,e,n)},t.nc=function(t){var e=this;return Ih(this,this.h.then((function(){return _h(e)?_h(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Tc=function(t){var e=this;return this.h.then((function(){return bh(e,su(e.a,eu,{token:t}))})).then((function(t){var n=t.user;return ql(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return bh(n,su(n.a,nu,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return bh(n,su(n.a,Os,{email:t,password:e}))}))},t.ab=function(t){var e=this;return this.h.then((function(){return bh(e,t.ka(e.a))}))},t.Sc=function(t){return Qr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(t)},t.Ab=function(){var t=this;return this.h.then((function(){var e=_h(t);if(e&&e.isAnonymous){var n=ti({providerId:null,isNewUser:!1});return ti({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return bh(t,t.a.Ab()).then((function(e){var n=e.user;return ql(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return _h(this)&&_h(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&_h(this)&&Nl(_h(this))},t.Pc=function(t){var e=this;z(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&_h(this)&&Dl(_h(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),Ih(this,this.h.then((function(){e.l||Y(e.s,t)&&t(Th(e))})))},t.removeAuthTokenListener=function(t){$(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(ah("local"),t.a,this.ja),this.b&&(Uc(this.b,this),$c(this.b.b)),Promise.resolve()},t.hc=function(t){return Ih(this,function(t,e){return su(t,Ns,{identifier:e,continueUri:Lr()?fr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Bc=function(t){return!!Lo(t)},t.xb=function(t,e){var n=this;return Ih(this,xe().then((function(){var t=new Di(e);if(!t.c)throw new A("argument-error",Li+" must be true when sending sign in link to email");return qi(t)})).then((function(e){return n.a.xb(t,e)})).then((function(){})))},t.jd=function(t){return this.Sa(t).then((function(t){return t.data.email}))},t.ob=function(t,e){return Ih(this,this.a.ob(t,e).then((function(){})))},t.Sa=function(t){return Ih(this,this.a.Sa(t).then((function(t){return new ci(t)})))},t.kb=function(t){return Ih(this,this.a.kb(t).then((function(){})))},t.wb=function(t,e){var n=this;return Ih(this,xe().then((function(){return"undefined"===typeof e||gt(e)?{}:qi(new Di(e))})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.Wc=function(t,e){return Ih(this,rl(this,t,e,T(this.ab,this)))},t.Vc=function(t,e){var n=this;return Ih(this,xe().then((function(){var r=e||fr(),i=Po(t,r);if(!(r=Lo(r)))throw new A("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new A("tenant-id-mismatch");return n.ab(i)})))},Sh.prototype.render=function(){},Sh.prototype.reset=function(){},Sh.prototype.getResponse=function(){},Sh.prototype.execute=function(){};var Ah=null;function Ch(t,e){return(e=xh(e))&&t.a[e]||null}function xh(t){return(t="undefined"===typeof t?1e12:t)?t.toString():null}function Oh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=le(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():hn(this.f,"click",this.i)}function Nh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Dh(){}function Rh(){}kh.prototype.render=function(t,e){return this.a[this.b.toString()]=new Oh(t,e),this.b++},kh.prototype.reset=function(t){var e=Ch(this,t);t=xh(t),e&&t&&(e.delete(),delete this.a[t])},kh.prototype.getResponse=function(t){return(t=Ch(this,t))?t.getResponse():null},kh.prototype.execute=function(t){(t=Ch(this,t))&&t.execute()},Oh.prototype.getResponse=function(){return Nh(this),this.b},Oh.prototype.execute=function(){Nh(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},Oh.prototype.delete=function(){Nh(this),this.g=!0,clearTimeout(this.a),this.a=null,dn(this.f,"click",this.i)},Jr(Dh,"FACTOR_ID","phone"),Rh.prototype.g=function(){return Ah||(Ah=new kh),xe(Ah)},Rh.prototype.c=function(){};var Ph=null;function Lh(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Fh=new wt(It,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Mh=new Hr(3e4,6e4);Lh.prototype.g=function(t){var e=this;return new Te((function(n,r){var i=setTimeout((function(){r(new A("network-request-failed"))}),Mh.get());!u.grecaptcha||t!==e.f&&!e.b?(u[e.a]=function(){if(u.grecaptcha){e.f=t;var o=u.grecaptcha.render;u.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new A("internal-error"));delete u[e.a]},xe(Wa(Ct(Fh,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new A("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(u.grecaptcha))}))},Lh.prototype.c=function(){this.b--};var jh=null;function Uh(t,e,n,r,i,o,a){if(Jr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=e,this.g=null,a?(Ph||(Ph=new Rh),a=Ph):(jh||(jh=new Lh),a=jh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[qh])throw new A("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Gh],!u.document)throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!le(e)||!this.i&&le(e).hasChildNodes())throw new A("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new ts(t,o||null,i||null),this.u=r||function(){return null};var s=this;this.l=[];var c=this.a[Bh];this.a[Bh]=function(t){if(Hh(s,t),"function"===typeof c)c(t);else if("string"===typeof c){var e=Dr(c,u);"function"===typeof e&&e(t)}};var l=this.a[Vh];this.a[Vh]=function(){if(Hh(s,null),"function"===typeof l)l();else if("string"===typeof l){var t=Dr(l,u);"function"===typeof t&&t()}}}var Bh="callback",Vh="expired-callback",qh="sitekey",Gh="size";function Hh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function zh(t,e){return t.h.push(e),e.oa((function(){Q(t.h,e)})),e}function Kh(t){if(t.J)throw new A("internal-error","RecaptchaVerifier instance has been destroyed.")}function Wh(t,e,n){var i=!1;try{this.b=n||r.Z.app()}catch(s){throw new A("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new A("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ga()}catch(s){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}a=r.Z.SDK_VERSION?Or(r.Z.SDK_VERSION,a):null,Uh.call(this,n,t,e,(function(){try{var t=o.b.auth().la()}catch(e){t=null}return t}),a,R(x),i)}function Xh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new A("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Yh.length)throw new A("internal-error","Argument validator received an unsupported number of arguments.");n=Yh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new A("argument-error",t+" failed: "+r)}(t=Uh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=zh(this,xe().then((function(){if(Lr()&&!Er())return wr();throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,su(t.s,Hs,{})})).then((function(e){t.a[qh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){Kh(this);var t=this;return zh(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=le(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ce&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',zt(a.name),'"'),a.type){o.push(' type="',zt(a.type),'"');var s={};yt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=ve(i,o),a&&("string"===typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):he(o,a)),2<r.length&&ge(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Kh(this);var t=this;return zh(this,this.render().then((function(e){return new Te((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){$(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Kh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Kh(this),this.J=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=le(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},S(Wh,Uh);var Yh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Qh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"===typeof t}}}function $h(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"===typeof t}}}function Jh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:v}}function Zh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"===typeof t}}}function tf(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function ef(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function nf(t,e){return v(t)&&"string"===typeof t.type&&t.type===e&&"function"===typeof t.Ha}function rf(t){return v(t)&&"string"===typeof t.uid}function of(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function af(t,e){for(var n in e){var r=e[n].name;t[r]=cf(r,t[n],e[n].j)}}function sf(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:E((function(t){return this[t]}),n),set:E((function(t,e,n,r){Xh(t,[n],[r],!0),this[e]=r}),r,n,e[n].lb),enumerable:!0})}}function uf(t,e,n,r){t[e]=cf(e,n,r)}function cf(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Xh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}af(hh.prototype,{kb:{name:"applyActionCode",j:[Qh("code")]},Sa:{name:"checkActionCode",j:[Qh("code")]},ob:{name:"confirmPasswordReset",j:[Qh("code"),Qh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Qh("email"),Qh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Qh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Qh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[of(Jh(),Zh(),"nextOrObserver"),Zh("opt_error",!0),Zh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[of(Jh(),Zh(),"nextOrObserver"),Zh("opt_error",!0),Zh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Qh("email"),of(Jh("opt_actionCodeSettings",!0),tf(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Qh("email"),Jh("actionCodeSettings")]},yb:{name:"setPersistence",j:[Qh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[ef()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[ef()]},Tc:{name:"signInWithCustomToken",j:[Qh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Qh("email"),Qh("password")]},Vc:{name:"signInWithEmailLink",j:[Qh("email"),Qh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Qh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[of({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof Il)}},tf(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Qh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Qh("url"),Jh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Qh("code")]}}),sf(hh.prototype,{lc:{name:"languageCode",lb:of(Qh(),tf(),"languageCode")},ti:{name:"tenantId",lb:of(Qh(),tf(),"tenantId")}}),hh.Persistence=rc,hh.Persistence.LOCAL="local",hh.Persistence.SESSION="session",hh.Persistence.NONE="none",af(Il.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[$h("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[$h("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[ef()]},rb:{name:"linkWithCredential",j:[ef()]},Dc:{name:"linkWithPhoneNumber",j:[Qh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[ef()]},ub:{name:"reauthenticateWithCredential",j:[ef()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Qh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[of(Jh("opt_actionCodeSettings",!0),tf(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Qh(null,!0)]},cd:{name:"unlink",j:[Qh("provider")]},Cb:{name:"updateEmail",j:[Qh("email")]},Db:{name:"updatePassword",j:[Qh("password")]},ed:{name:"updatePhoneNumber",j:[ef("phone")]},Eb:{name:"updateProfile",j:[Jh("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Qh("email"),of(Jh("opt_actionCodeSettings",!0),tf(null,!0),"opt_actionCodeSettings",!0)]}}),af(kh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),af(Sh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),af(Te.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),sf(el.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:$h("appVerificationDisabledForTesting")}}),af(nl.prototype,{confirm:{name:"confirm",j:[Qh("verificationCode")]}}),uf(ho,"fromJSON",(function(t){t="string"===typeof t?JSON.parse(t):t;for(var e,n=[bo,Do,Mo,vo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[of(Qh(),Jh(),"json")]),uf(Ro,"credential",(function(t,e){return new No(t,e)}),[Qh("email"),Qh("password")]),af(No.prototype,{w:{name:"toJSON",j:[Qh(null,!0)]}}),af(Eo.prototype,{Ca:{name:"addScope",j:[Qh("scope")]},Ka:{name:"setCustomParameters",j:[Jh("customOAuthParameters")]}}),uf(Eo,"credential",Io,[of(Qh(),Jh(),"token")]),uf(Ro,"credentialWithLink",Po,[Qh("email"),Qh("emailLink")]),af(So.prototype,{Ca:{name:"addScope",j:[Qh("scope")]},Ka:{name:"setCustomParameters",j:[Jh("customOAuthParameters")]}}),uf(So,"credential",ko,[of(Qh(),Jh(),"token")]),af(Ao.prototype,{Ca:{name:"addScope",j:[Qh("scope")]},Ka:{name:"setCustomParameters",j:[Jh("customOAuthParameters")]}}),uf(Ao,"credential",Co,[of(Qh(),of(Jh(),tf()),"idToken"),of(Qh(),tf(),"accessToken",!0)]),af(xo.prototype,{Ka:{name:"setCustomParameters",j:[Jh("customOAuthParameters")]}}),uf(xo,"credential",Oo,[of(Qh(),Jh(),"token"),Qh("secret",!0)]),af(To.prototype,{Ca:{name:"addScope",j:[Qh("scope")]},credential:{name:"credential",j:[of(Qh(),of(Jh(),tf()),"optionsOrIdToken"),of(Qh(),tf(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Jh("customOAuthParameters")]}}),af(mo.prototype,{w:{name:"toJSON",j:[Qh(null,!0)]}}),af(po.prototype,{w:{name:"toJSON",j:[Qh(null,!0)]}}),uf(Uo,"credential",Bo,[Qh("verificationId"),Qh("verificationCode")]),af(Uo.prototype,{gb:{name:"verifyPhoneNumber",j:[of(Qh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?nf(t.session,co)&&"string"===typeof t.phoneNumber:t.session&&t.multiFactorHint?nf(t.session,lo)&&rf(t.multiFactorHint):t.session&&t.multiFactorUid?nf(t.session,lo)&&"string"===typeof t.multiFactorUid:!!t.phoneNumber&&"string"===typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]}}),af(Fo.prototype,{w:{name:"toJSON",j:[Qh(null,!0)]}}),af(A.prototype,{toJSON:{name:"toJSON",j:[Qh(null,!0)]}}),af(Yo.prototype,{toJSON:{name:"toJSON",j:[Qh(null,!0)]}}),af(Xo.prototype,{toJSON:{name:"toJSON",j:[Qh(null,!0)]}}),af(ul.prototype,{toJSON:{name:"toJSON",j:[Qh(null,!0)]}}),af(ol.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}}]}}),af(dl.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}},Qh("displayName",!0)]},bd:{name:"unenroll",j:[of({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:rf},Qh(),"multiFactorInfoIdentifier")]}}),af(Wh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),uf(Ei,"parseLink",Ni,[Qh("link")]),uf(Dh,"assertion",(function(t){return new fl(t)}),[ef("phone")]),function(){if("undefined"===typeof r.Z||!r.Z.INTERNAL||!r.Z.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:hi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:li,VERIFY_AND_CHANGE_EMAIL:fi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:hh,AuthCredential:ho,Error:A};uf(t,"EmailAuthProvider",Ro,[]),uf(t,"FacebookAuthProvider",Eo,[]),uf(t,"GithubAuthProvider",So,[]),uf(t,"GoogleAuthProvider",Ao,[]),uf(t,"TwitterAuthProvider",xo,[]),uf(t,"OAuthProvider",To,[Qh("providerId")]),uf(t,"SAMLAuthProvider",_o,[Qh("providerId")]),uf(t,"PhoneAuthProvider",Uo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof hh)}}]),uf(t,"RecaptchaVerifier",Wh,[of(Qh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Jh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof r.Z.app.App)}}]),uf(t,"ActionCodeURL",Ei,[]),uf(t,"PhoneMultiFactorGenerator",Dh,[]),r.Z.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new hh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(t){t.getProvider("auth-internal").initialize()}}),r.Z.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:T((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:T(t.nc,t),addAuthTokenListener:T(t.cc,t),removeAuthTokenListener:T(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.Z.registerVersion("@firebase/auth","0.16.8"),r.Z.INTERNAL.extendNamespace({User:Il})}()}).apply("undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},1011:function(t,e,n){"use strict";n.r(e);var r=n(2118),i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function a(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(Up){o(Up)}}function s(t){try{u(r.throw(t))}catch(Up){o(Up)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function s(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(Up){o=[6,Up],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function u(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create;var c=n(51),l=n(3936),h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function f(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var p,d="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},g=g||{},v=d||self;function m(){}function y(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function b(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var w="closure_uid_"+(1e9*Math.random()>>>0),_=0;function T(t,e,n){return t.call.apply(t.bind,arguments)}function E(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function I(t,e,n){return(I=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?T:E).apply(null,arguments)}function S(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function k(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function A(){this.s=this.s,this.o=this.o}var C={};A.prototype.s=!1,A.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,w)&&t[w]||(t[w]=++_)}(this);delete C[t]}},A.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var x=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},O=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function N(t){return Array.prototype.concat.apply([],arguments)}function D(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function R(t){return/^[\s\xa0]*$/.test(t)}var P,L=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function F(t,e){return-1!=t.indexOf(e)}function M(t,e){return t<e?-1:t>e?1:0}t:{var j=v.navigator;if(j){var U=j.userAgent;if(U){P=U;break t}}P=""}function B(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function V(t){var e={};for(var n in t)e[n]=t[n];return e}var q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<q.length;o++)n=q[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function H(t){return H[" "](t),t}H[" "]=m;var z,K=F(P,"Opera"),W=F(P,"Trident")||F(P,"MSIE"),X=F(P,"Edge"),Y=X||W,Q=F(P,"Gecko")&&!(F(P.toLowerCase(),"webkit")&&!F(P,"Edge"))&&!(F(P,"Trident")||F(P,"MSIE"))&&!F(P,"Edge"),$=F(P.toLowerCase(),"webkit")&&!F(P,"Edge");function J(){var t=v.document;return t?t.documentMode:void 0}t:{var Z="",tt=function(){var t=P;return Q?/rv:([^\);]+)(\)|;)/.exec(t):X?/Edge\/([\d\.]+)/.exec(t):W?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):$?/WebKit\/(\S+)/.exec(t):K?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(tt&&(Z=tt?tt[1]:""),W){var et=J();if(null!=et&&et>parseFloat(Z)){z=String(et);break t}}z=Z}var nt,rt={};function it(){return function(t){var e=rt;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}((function(){for(var t=0,e=L(String(z)).split("."),n=L("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;t=M(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||M(0==o[2].length,0==a[2].length)||M(o[2],a[2]),o=o[3],a=a[3]}while(0==t)}return 0<=t}))}if(v.document&&W){var ot=J();nt=ot||(parseInt(z,10)||void 0)}else nt=void 0;var at=nt,st=function(){if(!v.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{v.addEventListener("test",m,e),v.removeEventListener("test",m,e)}catch(n){}return t}();function ut(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function ct(t,e){if(ut.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Q){t:{try{H(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:lt[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ct.Z.h.call(this)}}ut.prototype.h=function(){this.defaultPrevented=!0},k(ct,ut);var lt={2:"touch",3:"pen",4:"mouse"};ct.prototype.h=function(){ct.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ht="closure_listenable_"+(1e6*Math.random()|0),ft=0;function pt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++ft,this.ca=this.fa=!1}function dt(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function gt(t){this.src=t,this.g={},this.h=0}function vt(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=x(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(dt(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function mt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}gt.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var a=mt(t,e,r,i);return-1<a?(e=t[a],n||(e.fa=!1)):((e=new pt(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var yt="closure_lm_"+(1e6*Math.random()|0),bt={};function wt(t,e,n,r,i){if(r&&r.once)return Tt(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)wt(t,e[o],n,r,i);return null}return n=xt(n),t&&t[ht]?t.N(e,n,b(r)?!!r.capture:!!r,i):_t(t,e,n,!1,r,i)}function _t(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=b(i)?!!i.capture:!!i,s=At(t);if(s||(t[yt]=s=new gt(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){function t(n){return e.call(t.src,t.listener,n)}var e=kt;return t}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)st||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(St(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Tt(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Tt(t,e[o],n,r,i);return null}return n=xt(n),t&&t[ht]?t.O(e,n,b(r)?!!r.capture:!!r,i):_t(t,e,n,!0,r,i)}function Et(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Et(t,e[o],n,r,i);else r=b(r)?!!r.capture:!!r,n=xt(n),t&&t[ht]?(t=t.i,(e=String(e).toString())in t.g&&(-1<(n=mt(o=t.g[e],n,r,i))&&(dt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--)))):t&&(t=At(t))&&(e=t.g[e.toString()],t=-1,e&&(t=mt(e,n,r,i)),(n=-1<t?e[t]:null)&&It(n))}function It(t){if("number"!==typeof t&&t&&!t.ca){var e=t.src;if(e&&e[ht])vt(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(St(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=At(e))?(vt(n,t),0==n.h&&(n.src=null,e[yt]=null)):dt(t)}}}function St(t){return t in bt?bt[t]:bt[t]="on"+t}function kt(t,e){if(t.ca)t=!0;else{e=new ct(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&It(t),t=n.call(r,e)}return t}function At(t){return(t=t[yt])instanceof gt?t:null}var Ct="__closure_events_fn_"+(1e9*Math.random()>>>0);function xt(t){return"function"===typeof t?t:(t[Ct]||(t[Ct]=function(e){return t.handleEvent(e)}),t[Ct])}function Ot(){A.call(this),this.i=new gt(this),this.P=this,this.I=null}function Nt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"===typeof e)e=new ut(e,t);else if(e instanceof ut)e.target=e.target||t;else{var i=e;G(e=new ut(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];i=Dt(a,r,!0,e)&&i}if(i=Dt(a=e.g=t,r,!0,e)&&i,i=Dt(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Dt(a=e.g=n[o],r,!1,e)&&i}function Dt(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&vt(t.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}k(Ot,A),Ot.prototype[ht]=!0,Ot.prototype.removeEventListener=function(t,e,n,r){Et(this,t,e,n,r)},Ot.prototype.M=function(){if(Ot.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)dt(n[r]);delete e.g[t],e.h--}}this.I=null},Ot.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Ot.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Rt=v.JSON.stringify;function Pt(){var t=qt,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Lt,Ft=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=Mt.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),Mt=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},t}())((function(){return new jt}),(function(t){return t.reset()})),jt=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function Ut(t){v.setTimeout((function(){throw t}),0)}function Bt(t,e){Lt||function(){var t=v.Promise.resolve(void 0);Lt=function(){t.then(Gt)}}(),Vt||(Lt(),Vt=!0),qt.add(t,e)}var Vt=!1,qt=new Ft;function Gt(){for(var t;t=Pt();){try{t.h.call(t.g)}catch(n){Ut(n)}var e=Mt;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Vt=!1}function Ht(t,e){Ot.call(this),this.h=t||1,this.g=e||v,this.j=I(this.kb,this),this.l=Date.now()}function zt(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Kt(t,e,n){if("function"===typeof t)n&&(t=I(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=I(t.handleEvent,t)}return 2147483647<Number(e)?-1:v.setTimeout(t,e||0)}function Wt(t){t.g=Kt((function(){t.g=null,t.i&&(t.i=!1,Wt(t))}),t.j);var e=t.h;t.h=null,t.m.apply(null,e)}k(Ht,Ot),(p=Ht.prototype).da=!1,p.S=null,p.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Nt(this,"tick"),this.da&&(zt(this),this.start()))}},p.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},p.M=function(){Ht.Z.M.call(this),zt(this),delete this.g};var Xt=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:Wt(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(v.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(A);function Yt(t){A.call(this),this.h=t,this.g={}}k(Yt,A);var Qt=[];function $t(t,e,n,r){Array.isArray(n)||(n&&(Qt[0]=n.toString()),n=Qt);for(var i=0;i<n.length;i++){var o=wt(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function Jt(t){B(t.g,(function(t,e){this.g.hasOwnProperty(e)&&It(t)}),t),t.g={}}function Zt(){this.g=!0}function te(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Rt(n)}catch(s){return e}}(t,n)+(r?" "+r:"")}))}Yt.prototype.M=function(){Yt.Z.M.call(this),Jt(this)},Yt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Zt.prototype.Aa=function(){this.g=!1},Zt.prototype.info=function(){};var ee={},ne=null;function re(){return ne=ne||new Ot}function ie(t){ut.call(this,ee.Ma,t)}function oe(t){var e=re();Nt(e,new ie(e,t))}function ae(t,e){ut.call(this,ee.STAT_EVENT,t),this.stat=e}function se(t){var e=re();Nt(e,new ae(e,t))}function ue(t,e){ut.call(this,ee.Na,t),this.size=e}function ce(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return v.setTimeout((function(){t()}),e)}ee.Ma="serverreachability",k(ie,ut),ee.STAT_EVENT="statevent",k(ae,ut),ee.Na="timingevent",k(ue,ut);var le={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},he={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function fe(){}function pe(t){return t.h||(t.h=t.i())}function de(){}fe.prototype.h=null;var ge,ve={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function me(){ut.call(this,"d")}function ye(){ut.call(this,"c")}function be(){}function we(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Yt(this),this.P=Te,t=Y?125:void 0,this.W=new Ht(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new _e}function _e(){this.i=null,this.g="",this.h=!1}k(me,ut),k(ye,ut),k(be,fe),be.prototype.g=function(){return new XMLHttpRequest},be.prototype.i=function(){return{}},ge=new be;var Te=45e3,Ee={},Ie={};function Se(t,e,n){t.K=1,t.v=Xe(qe(e)),t.s=n,t.U=!0,ke(t,null)}function ke(t,e){t.F=Date.now(),Oe(t),t.A=qe(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),un(n.h,"t",r),t.C=0,n=t.l.H,t.h=new _e,t.g=lr(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Xt(I(t.Ia,t,t.g),t.O)),$t(t.V,t.g,"readystatechange",t.gb),e=t.H?V(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),oe(1),function(t,e,n,r,i,o){t.info((function(){if(t.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.j,t.u,t.A,t.m,t.X,t.s)}function Ae(t){return!!t.g&&("GET"==t.u&&2!=t.K&&t.l.Ba)}function Ce(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=xe(t,n))==Ie){4==e&&(t.o=4,se(14),i=!1),te(t.j,t.m,null,"[Incomplete Response]");break}if(r==Ee){t.o=4,se(15),te(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}te(t.j,t.m,r,null),Le(t,r)}Ae(t)&&r!=Ie&&r!=Ee&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,se(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),nr(e),e.L=!0,se(11))):(te(t.j,t.m,n,"[Invalid Chunked Response]"),Pe(t),Re(t))}function xe(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Ie:(n=Number(e.substring(n,r)),isNaN(n)?Ee:(r+=1)+n>e.length?Ie:(e=e.substr(r,n),t.C=r+n,e))}function Oe(t){t.Y=Date.now()+t.P,Ne(t,t.P)}function Ne(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=ce(I(t.eb,t),e)}function De(t){t.B&&(v.clearTimeout(t.B),t.B=null)}function Re(t){0==t.l.G||t.I||or(t.l,t)}function Pe(t){De(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,zt(t.W),Jt(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Le(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||vn(n.i,t)))if(n.I=t.N,!t.J&&vn(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;ir(n),Wn(n)}er(n),se(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ce(I(n.ab,n),6e3));if(1>=gn(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else sr(n,11)}else if((t.J||n.g==t)&&ir(n),!R(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(F(l,"spdy")||F(l,"quic")||F(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(mn(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,We(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var p=t;if((r=n).oa=cr(r,r.H?r.la:null,r.W),p.J){yn(r.i,p);var d=p,g=r.K;g&&d.setTimeout(g),d.B&&(De(d),Oe(d)),r.g=p}else tr(r);0<n.l.length&&Qn(n)}else"stop"!=o[0]&&"close"!=o[0]||sr(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?sr(n,7):Kn(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}oe(4)}catch(o){}}function Fe(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(y(t)||"string"===typeof t)O(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(y(t)||"string"===typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"===typeof t)return t.split("");if(y(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Me(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Me)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function je(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Ue(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Ue(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Ue(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(p=we.prototype).setTimeout=function(t){this.P=t},p.gb=function(t){t=t.target;var e=this.L;e&&3==Vn(t)?e.l():this.Ia(t)},p.Ia=function(t){try{if(t==this.g)t:{var e=Vn(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||Y||this.g&&(this.h.h||this.g.ga()||qn(this.g)))){this.I||4!=e||7==n||oe(8==n||0>=r?3:2),De(this);var i=this.g.ba();this.N=i;e:if(Ae(this)){var o=qn(this.g);t="";var a=o.length,s=4==Vn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Pe(this),Re(this);var u="";break e}this.h.i=new v.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(c)){var h=c;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,se(12),Pe(this),Re(this);break t}te(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Le(this,i)}this.U?(Ce(this,e,u),Y&&this.i&&3==e&&($t(this.V,this.W,"tick",this.fb),this.W.start())):(te(this.j,this.m,u,null),Le(this,u)),4==e&&Pe(this),this.i&&!this.I&&(4==e?or(this.l,this):(this.i=!1,Oe(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,se(12)):(this.o=0,se(13)),Pe(this),Re(this)}}}catch(e){}},p.fb=function(){if(this.g){var t=Vn(this.g),e=this.g.ga();this.C<e.length&&(De(this),Ce(this,t,e),this.i&&4!=t&&Oe(this))}},p.cancel=function(){this.I=!0,Pe(this)},p.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.K&&(oe(3),se(17)),Pe(this),this.o=2,Re(this)):Ne(this,this.Y-t)},(p=Me.prototype).R=function(){je(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},p.T=function(){return je(this),this.g.concat()},p.get=function(t,e){return Ue(this.h,t)?this.h[t]:e},p.set=function(t,e){Ue(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},p.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Be=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ve(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Ve){this.g=void 0!==e?e:t.g,Ge(this,t.j),this.s=t.s,He(this,t.i),ze(this,t.m),this.l=t.l,e=t.h;var n=new rn;n.i=e.i,e.g&&(n.g=new Me(e.g),n.h=e.h),Ke(this,n),this.o=t.o}else t&&(n=String(t).match(Be))?(this.g=!!e,Ge(this,n[1]||"",!0),this.s=Ye(n[2]||""),He(this,n[3]||"",!0),ze(this,n[4]),this.l=Ye(n[5]||"",!0),Ke(this,n[6]||"",!0),this.o=Ye(n[7]||"")):(this.g=!!e,this.h=new rn(null,this.g))}function qe(t){return new Ve(t)}function Ge(t,e,n){t.j=n?Ye(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function He(t,e,n){t.i=n?Ye(e,!0):e}function ze(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Ke(t,e,n){e instanceof rn?(t.h=e,function(t,e){e&&!t.j&&(on(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(an(this,e),un(this,n,t))}),t)),t.j=e}(t.h,t.g)):(n||(e=Qe(e,en)),t.h=new rn(e,t.g))}function We(t,e,n){t.h.set(e,n)}function Xe(t){return We(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ye(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Qe(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,$e),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function $e(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ve.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Qe(e,Je,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Qe(e,Je,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Qe(n,"/"==n.charAt(0)?tn:Ze,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Qe(n,nn)),t.join("")};var Je=/[#\/\?@]/g,Ze=/[#\?:]/g,tn=/[#\?]/g,en=/[#\?@]/g,nn=/#/g;function rn(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function on(t){t.g||(t.g=new Me,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function an(t,e){on(t),e=cn(t,e),Ue(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Ue((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&je(t)))}function sn(t,e){return on(t),e=cn(t,e),Ue(t.g.h,e)}function un(t,e,n){an(t,e),0<n.length&&(t.i=null,t.g.set(cn(t,e),D(n)),t.h+=n.length)}function cn(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(p=rn.prototype).add=function(t,e){on(this),this.i=null,t=cn(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},p.forEach=function(t,e){on(this),this.g.forEach((function(n,r){O(n,(function(n){t.call(e,n,r,this)}),this)}),this)},p.T=function(){on(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},p.R=function(t){on(this);var e=[];if("string"===typeof t)sn(this,t)&&(e=N(e,this.g.get(cn(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=N(e,t[n])}return e},p.set=function(t,e){return on(this),this.i=null,sn(this,t=cn(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},p.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},p.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.i=t.join("&")};var ln=function(t,e){this.h=t,this.g=e};function hn(t){this.l=t||pn,v.PerformanceNavigationTiming?t=0<(t=v.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(v.g&&v.g.Ea&&v.g.Ea()&&v.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var fn,pn=10;function dn(t){return!!t.h||!!t.g&&t.g.size>=t.j}function gn(t){return t.h?1:t.g?t.g.size:0}function vn(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function mn(t,e){t.g?t.g.add(e):t.h=e}function yn(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function bn(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=f(t.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return D(t.i)}function wn(){}function _n(){this.g=new wn}function Tn(t,e,n){var r=n||"";try{Fe(t,(function(t,n){var i=t;b(t)&&(i=Rt(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(Up){throw e.push(r+"type="+encodeURIComponent("_badmap")),Up}}function En(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function In(t){this.l=t.$b||null,this.j=t.ib||!1}function Sn(t,e){Ot.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=kn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}hn.prototype.cancel=function(){var t,e;if(this.i=bn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=f(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},wn.prototype.stringify=function(t){return v.JSON.stringify(t,void 0)},wn.prototype.parse=function(t){return v.JSON.parse(t,void 0)},k(In,fe),In.prototype.g=function(){return new Sn(this.l,this.j)},In.prototype.i=(fn={},function(){return fn}),k(Sn,Ot);var kn=0;function An(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Cn(t){t.readyState=4,t.l=null,t.j=null,t.A=null,xn(t)}function xn(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(p=Sn.prototype).open=function(t,e){if(this.readyState!=kn)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,xn(this)},p.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||v).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},p.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Cn(this)),this.readyState=kn},p.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,xn(this)),this.g&&(this.readyState=3,xn(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof v.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;An(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},p.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Cn(this):xn(this),3==this.readyState&&An(this)}},p.Ua=function(t){this.g&&(this.response=this.responseText=t,Cn(this))},p.Ta=function(t){this.g&&(this.response=t,Cn(this))},p.ha=function(){this.g&&Cn(this)},p.setRequestHeader=function(t,e){this.v.append(t,e)},p.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},p.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Sn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var On=v.JSON.parse;function Nn(t){Ot.call(this),this.headers=new Me,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Dn,this.K=this.L=!1}k(Nn,Ot);var Dn="",Rn=/^https?$/i,Pn=["POST","PUT"];function Ln(t){return"content-type"==t.toLowerCase()}function Fn(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Mn(t),Un(t)}function Mn(t){t.D||(t.D=!0,Nt(t,"complete"),Nt(t,"error"))}function jn(t){if(t.h&&"undefined"!=typeof g&&(!t.C[1]||4!=Vn(t)||2!=t.ba()))if(t.v&&4==Vn(t))Kt(t.Fa,0,t);else if(Nt(t,"readystatechange"),4==Vn(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(Be)[1]||null;if(!o&&v.self&&v.self.location){var a=v.self.location.protocol;o=a.substr(0,a.length-1)}i=!Rn.test(o?o.toLowerCase():"")}e=i}if(e)Nt(t,"complete"),Nt(t,"success");else{t.m=6;try{var s=2<Vn(t)?t.g.statusText:""}catch(u){s=""}t.j=s+" ["+t.ba()+"]",Mn(t)}}finally{Un(t)}}}function Un(t,e){if(t.g){Bn(t);var n=t.g,r=t.C[0]?m:null;t.g=null,t.C=null,e||Nt(t,"ready");try{n.onreadystatechange=r}catch(Up){}}}function Bn(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(v.clearTimeout(t.A),t.A=null)}function Vn(t){return t.g?t.g.readyState:0}function qn(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Dn:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Gn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return B(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):We(t,e,n))}function Hn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function zn(t){this.za=0,this.l=[],this.h=new Zt,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Hn("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Hn("baseRetryDelayMs",5e3,t),this.$a=Hn("retryDelaySeedMs",1e4,t),this.Ya=Hn("forwardChannelMaxRetries",2,t),this.ra=Hn("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new hn(t&&t.concurrentRequestLimit),this.Ca=new _n,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Kn(t){if(Xn(t),3==t.G){var e=t.V++,n=qe(t.F);We(n,"SID",t.J),We(n,"RID",e),We(n,"TYPE","terminate"),Jn(t,n),(e=new we(t,t.h,e,void 0)).K=2,e.v=Xe(qe(n)),n=!1,v.navigator&&v.navigator.sendBeacon&&(n=v.navigator.sendBeacon(e.v.toString(),"")),!n&&v.Image&&((new Image).src=e.v,n=!0),n||(e.g=lr(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Oe(e)}ur(t)}function Wn(t){t.g&&(nr(t),t.g.cancel(),t.g=null)}function Xn(t){Wn(t),t.u&&(v.clearTimeout(t.u),t.u=null),ir(t),t.i.cancel(),t.m&&("number"===typeof t.m&&v.clearTimeout(t.m),t.m=null)}function Yn(t,e){t.l.push(new ln(t.Za++,e)),3==t.G&&Qn(t)}function Qn(t){dn(t.i)||t.m||(t.m=!0,Bt(t.Ha,t),t.C=0)}function $n(t,e){var n;n=e?e.m:t.V++;var r=qe(t.F);We(r,"SID",t.J),We(r,"RID",n),We(r,"AID",t.U),Jn(t,r),t.o&&t.s&&Gn(r,t.o,t.s),n=new we(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Zn(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),mn(t.i,n),Se(n,r,e)}function Jn(t,e){t.j&&Fe({},(function(t,n){We(e,n,t)}))}function Zn(t,e,n){n=Math.min(t.l.length,n);var r=t.j?I(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{Tn(l,a,"req"+c+"_")}catch(Kr){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function tr(t){t.g||t.u||(t.Y=1,Bt(t.Ga,t),t.A=0)}function er(t){return!(t.g||t.u||3<=t.A)&&(t.Y++,t.u=ce(I(t.Ga,t),ar(t,t.A)),t.A++,!0)}function nr(t){null!=t.B&&(v.clearTimeout(t.B),t.B=null)}function rr(t){t.g=new we(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=qe(t.oa);We(e,"RID","rpc"),We(e,"SID",t.J),We(e,"CI",t.N?"0":"1"),We(e,"AID",t.U),Jn(t,e),We(e,"TYPE","xmlhttp"),t.o&&t.s&&Gn(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Xe(qe(e)),n.s=null,n.U=!0,ke(n,t)}function ir(t){null!=t.v&&(v.clearTimeout(t.v),t.v=null)}function or(t,e){var n=null;if(t.g==e){ir(t),nr(t),t.g=null;var r=2}else{if(!vn(t.i,e))return;n=e.D,yn(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Nt(r=re(),new ue(r,n,e,i)),Qn(t)}else tr(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(gn(t.i)>=t.i.j-(t.m?1:0))&&(t.m?(t.l=e.D.concat(t.l),!0):!(1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya))&&(t.m=ce(I(t.Ha,t,e),ar(t,t.C)),t.C++,!0))}(t,e)||2==r&&er(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:sr(t,5);break;case 4:sr(t,10);break;case 3:sr(t,6);break;default:sr(t,2)}}function ar(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function sr(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=I(t.jb,t);n||(n=new Ve("//www.google.com/images/cleardot.gif"),v.location&&"http"==v.location.protocol||Ge(n,"https"),Xe(n)),function(t,e){var n=new Zt;if(v.Image){var r=new Image;r.onload=S(En,n,r,"TestLoadImage: loaded",!0,e),r.onerror=S(En,n,r,"TestLoadImage: error",!1,e),r.onabort=S(En,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=S(En,n,r,"TestLoadImage: timeout",!1,e),v.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else se(2);t.G=0,t.j&&t.j.va(e),ur(t),Xn(t)}function ur(t){t.G=0,t.I=-1,t.j&&(0==bn(t.i).length&&0==t.l.length||(t.i.i.length=0,D(t.l),t.l.length=0),t.j.ua())}function cr(t,e,n){var r=function(t){return t instanceof Ve?qe(t):new Ve(t,void 0)}(n);if(""!=r.i)e&&He(r,e+"."+r.i),ze(r,r.m);else{var i=v.location;r=function(t,e,n,r){var i=new Ve(null,void 0);return t&&Ge(i,t),e&&He(i,e),n&&ze(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&B(t.aa,(function(t,e){We(r,e,t)})),e=t.D,n=t.sa,e&&n&&We(r,e,n),We(r,"VER",t.ma),Jn(t,r),r}function lr(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=n&&t.Ba&&!t.qa?new Nn(new In({ib:!0})):new Nn(t.qa)).L=t.H,e}function hr(){}function fr(){if(W&&!(10<=Number(at)))throw Error("Environmental error: no available transport.")}function pr(t,e){Ot.call(this),this.g=new zn(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!R(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!R(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new vr(this)}function dr(t){me.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function gr(){ye.call(this),this.status=1}function vr(t){this.g=t}(p=Nn.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ge.g(),this.C=this.u?pe(this.u):pe(ge),this.g.onreadystatechange=I(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void Fn(this,o)}t=n||"";var i=new Me(this.headers);r&&Fe(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Ln,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}(i.T()),n=v.FormData&&t instanceof v.FormData,!(0<=x(Pn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.g.setRequestHeader(e,t)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Bn(this),0<this.B&&((this.K=function(t){return W&&it()&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=I(this.pa,this)):this.A=Kt(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Fn(this,o)}},p.pa=function(){"undefined"!=typeof g&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Nt(this,"timeout"),this.abort(8))},p.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Nt(this,"complete"),Nt(this,"abort"),Un(this))},p.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Un(this,!0)),Nn.Z.M.call(this)},p.Fa=function(){this.s||(this.F||this.v||this.l?jn(this):this.cb())},p.cb=function(){jn(this)},p.ba=function(){try{return 2<Vn(this)?this.g.status:-1}catch(fn){return-1}},p.ga=function(){try{return this.g?this.g.responseText:""}catch(fn){return""}},p.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),On(e)}},p.Da=function(){return this.m},p.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(p=zn.prototype).ma=8,p.G=1,p.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},p.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new we(this,this.h,t,void 0),n=this.s;if(this.P&&(n?G(n=V(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"===typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=Zn(this,e,r),We(i=qe(this.F),"RID",t),We(i,"CVER",22),this.D&&We(i,"X-HTTP-Session-Id",this.D),Jn(this,i),this.o&&n&&Gn(i,this.o,n),mn(this.i,e),this.Ra&&We(i,"TYPE","init"),this.ja?(We(i,"$req",r),We(i,"SID","null"),e.$=!0,Se(e,i,null)):Se(e,i,r),this.G=2}}else 3==this.G&&(t?$n(this,t):0==this.l.length||dn(this.i)||$n(this))},p.Ga=function(){if(this.u=null,rr(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=ce(I(this.bb,this),t)}},p.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,se(10),Wn(this),rr(this))},p.ab=function(){null!=this.v&&(this.v=null,Wn(this),er(this),se(19))},p.jb=function(t){t?(this.h.info("Successfully pinged google.com"),se(2)):(this.h.info("Failed to ping google.com"),se(1))},(p=hr.prototype).xa=function(){},p.wa=function(){},p.va=function(){},p.ua=function(){},p.Oa=function(){},fr.prototype.g=function(t,e){return new pr(t,e)},k(pr,Ot),pr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Bt(I(t.hb,t,e))),se(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=cr(t,null,t.W),Qn(t)},pr.prototype.close=function(){Kn(this.g)},pr.prototype.u=function(t){if("string"===typeof t){var e={};e.__data__=t,Yn(this.g,e)}else this.v?((e={}).__data__=Rt(t),Yn(this.g,e)):Yn(this.g,t)},pr.prototype.M=function(){this.g.j=null,delete this.j,Kn(this.g),delete this.g,pr.Z.M.call(this)},k(dr,me),k(gr,ye),k(vr,hr),vr.prototype.xa=function(){Nt(this.g,"a")},vr.prototype.wa=function(t){Nt(this.g,new dr(t))},vr.prototype.va=function(t){Nt(this.g,new gr(t))},vr.prototype.ua=function(){Nt(this.g,"b")},fr.prototype.createWebChannel=fr.prototype.g,pr.prototype.send=pr.prototype.u,pr.prototype.open=pr.prototype.m,pr.prototype.close=pr.prototype.close,le.NO_ERROR=0,le.TIMEOUT=8,le.HTTP_ERROR=6,he.COMPLETE="complete",de.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",Ot.prototype.listen=Ot.prototype.N,Nn.prototype.listenOnce=Nn.prototype.O,Nn.prototype.getLastError=Nn.prototype.La,Nn.prototype.getLastErrorCode=Nn.prototype.Da,Nn.prototype.getStatus=Nn.prototype.ba,Nn.prototype.getResponseJson=Nn.prototype.Qa,Nn.prototype.getResponseText=Nn.prototype.ga,Nn.prototype.send=Nn.prototype.ea;var mr=function(){return new fr},yr=function(){return re()},br=le,wr=he,_r=ee,Tr={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Er=In,Ir=de,Sr=Nn,kr=n(4406),Ar=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Ar.o=-1;var Cr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},xr=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return o(e,t),e}(Error),Or=new l.Yd("@firebase/firestore");function Nr(){return Or.logLevel}function Dr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Or.logLevel<=l.in.DEBUG){var r=e.map(Lr);Or.debug.apply(Or,u(["Firestore (8.10.1): "+t],r))}}function Rr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Or.logLevel<=l.in.ERROR){var r=e.map(Lr);Or.error.apply(Or,u(["Firestore (8.10.1): "+t],r))}}function Pr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Or.logLevel<=l.in.WARN){var r=e.map(Lr);Or.warn.apply(Or,u(["Firestore (8.10.1): "+t],r))}}function Lr(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function Fr(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+t;throw Rr(e),new Error(e)}function Mr(t,e){t||Fr()}function jr(t,e){return t}function Ur(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Br=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Ur(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Vr(t,e){return t<e?-1:t>e?1:0}function qr(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Gr(t){return t+"\0"}var Hr=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new xr(Cr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new xr(Cr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new xr(Cr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new xr(Cr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Vr(this.nanoseconds,t.nanoseconds):Vr(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),zr=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Hr(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Kr(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wr(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Xr(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Yr=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Fr(),void 0===n?n=t.length-e:n>t.length-e&&Fr(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Qr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new xr(Cr.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Yr),$r=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Jr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return $r.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new xr(Cr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new xr(Cr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new xr(Cr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new xr(Cr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Yr),Zr=function(){function t(t){this.fields=t,t.sort(Jr.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return qr(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),ti=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Vr(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();ti.EMPTY_BYTE_STRING=new ti("");var ei=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ni(t){if(Mr(!!t),"string"==typeof t){var e=0,n=ei.exec(t);if(Mr(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ri(t.seconds),nanos:ri(t.nanos)}}function ri(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ii(t){return"string"==typeof t?ti.fromBase64String(t):ti.fromUint8Array(t)}function oi(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ai(t){var e=t.mapValue.fields.__previous_value__;return oi(e)?ai(e):e}function si(t){var e=ni(t.mapValue.fields.__local_write_time__.timestampValue);return new Hr(e.seconds,e.nanos)}function ui(t){return null==t}function ci(t){return 0===t&&1/t==-1/0}function li(t){return"number"==typeof t&&Number.isInteger(t)&&!ci(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var hi=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Qr.fromString(e))},t.fromName=function(e){return new t(Qr.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Qr.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Qr.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Qr(e.slice()))},t}();function fi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?oi(t)?4:10:Fr()}function pi(t,e){var n=fi(t);if(n!==fi(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return si(t).isEqual(si(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=ni(t.timestampValue),r=ni(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ii(t.bytesValue).isEqual(ii(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ri(t.geoPointValue.latitude)===ri(e.geoPointValue.latitude)&&ri(t.geoPointValue.longitude)===ri(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ri(t.integerValue)===ri(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=ri(t.doubleValue),r=ri(e.doubleValue);return n===r?ci(n)===ci(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return qr(t.arrayValue.values||[],e.arrayValue.values||[],pi);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Kr(n)!==Kr(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!pi(n[i],r[i])))return!1;return!0}(t,e);default:return Fr()}}function di(t,e){return void 0!==(t.values||[]).find((function(t){return pi(t,e)}))}function gi(t,e){var n=fi(t),r=fi(e);if(n!==r)return Vr(n,r);switch(n){case 0:return 0;case 1:return Vr(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=ri(t.integerValue||t.doubleValue),r=ri(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return vi(t.timestampValue,e.timestampValue);case 4:return vi(si(t),si(e));case 5:return Vr(t.stringValue,e.stringValue);case 6:return function(t,e){var n=ii(t),r=ii(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Vr(n[i],r[i]);if(0!==o)return o}return Vr(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Vr(ri(t.latitude),ri(e.latitude));return 0!==n?n:Vr(ri(t.longitude),ri(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=gi(n[i],r[i]);if(o)return o}return Vr(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Vr(r[a],o[a]);if(0!==s)return s;var u=gi(n[r[a]],i[o[a]]);if(0!==u)return u}return Vr(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Fr()}}function vi(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Vr(t,e);var n=ni(t),r=ni(e),i=Vr(n.seconds,r.seconds);return 0!==i?i:Vr(n.nanos,r.nanos)}function mi(t){return yi(t)}function yi(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=ni(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ii(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,hi.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=yi(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+yi(t.fields[o])}return e+"}"}(t.mapValue):Fr();var e,n}function bi(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function wi(t){return!!t&&"integerValue"in t}function _i(t){return!!t&&"arrayValue"in t}function Ti(t){return!!t&&"nullValue"in t}function Ei(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ii(t){return!!t&&"mapValue"in t}function Si(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return Wr(t.mapValue.fields,(function(t,n){return e.mapValue.fields[t]=Si(n)})),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Si(t.arrayValue.values[r]);return n}return Object.assign({},t)}var ki=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!Ii(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Si(e)},t.prototype.setAll=function(t){var e=this,n=Jr.emptyPath(),r={},i=[];t.forEach((function(t,o){if(!n.isImmediateParentOf(o)){var a=e.getFieldsMap(n);e.applyChanges(a,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=Si(t):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());Ii(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return pi(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];Ii(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){Wr(e,(function(e,n){return t[e]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete t[o]}},t.prototype.clone=function(){return new t(Si(this.value))},t}();function Ai(t){var e=[];return Wr(t.fields,(function(t,n){var r=new Jr([t]);if(Ii(n)){var i=Ai(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];e.push(r.child(s))}}else e.push(r)})),new Zr(e)}var Ci=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,zr.min(),ki.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,ki.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,ki.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=ki.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=ki.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),xi=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function Oi(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new xi(t,e,n,r,i,o,a)}function Ni(t){var e=jr(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+mi(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),ui(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Hi(e.startAt)),e.endAt&&(n+="|ub:",n+=Hi(e.endAt)),e.h=n}return e.h}function Di(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Ki(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!pi(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Xi(t.startAt,e.startAt)&&Xi(t.endAt,e.endAt)}function Ri(t){return hi.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Pi=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return o(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Li(t,n,r):"array-contains"===n?new Ui(t,r):"in"===n?new Bi(t,r):"not-in"===n?new Vi(t,r):"array-contains-any"===n?new qi(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Fi(t,n):new Mi(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(gi(e,this.value)):null!==e&&fi(this.value)===fi(e)&&this.m(gi(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Fr()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Li=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=hi.fromName(r.referenceValue),i}return o(e,t),e.prototype.matches=function(t){var e=hi.comparator(t.key,this.key);return this.m(e)},e}(Pi),Fi=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=ji("in",n),r}return o(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Pi),Mi=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=ji("not-in",n),r}return o(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Pi);function ji(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return hi.fromName(t.referenceValue)}))}var Ui=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return o(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return _i(e)&&di(e.arrayValue,this.value)},e}(Pi),Bi=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return o(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&di(this.value.arrayValue,e)},e}(Pi),Vi=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return o(e,t),e.prototype.matches=function(t){if(di(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!di(this.value.arrayValue,e)},e}(Pi),qi=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return o(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!_i(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return di(e.value.arrayValue,t)}))},e}(Pi),Gi=function(t,e){this.position=t,this.before=e};function Hi(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return mi(t)})).join(",")}var zi=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Ki(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Wi(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?hi.comparator(hi.fromName(a.referenceValue),n.key):gi(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Xi(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!pi(t.position[n],e.position[n]))return!1;return!0}var Yi=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function Qi(t,e,n,r,i,o,a,s){return new Yi(t,e,n,r,i,o,a,s)}function $i(t){return new Yi(t)}function Ji(t){return!ui(t.limit)&&"F"===t.limitType}function Zi(t){return!ui(t.limit)&&"L"===t.limitType}function to(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function eo(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function no(t){return null!==t.collectionGroup}function ro(t){var e=jr(t);if(null===e.p){e.p=[];var n=eo(e),r=to(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new zi(n)),e.p.push(new zi(Jr.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var s=a[o];e.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new zi(Jr.keyField(),u))}}}return e.p}function io(t){var e=jr(t);if(!e.T)if("F"===e.limitType)e.T=Oi(e.path,e.collectionGroup,ro(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=ro(e);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new zi(o.field,a))}var s=e.endAt?new Gi(e.endAt.position,!e.endAt.before):null,u=e.startAt?new Gi(e.startAt.position,!e.startAt.before):null;e.T=Oi(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.T}function oo(t,e,n){return new Yi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ao(t,e){return Di(io(t),io(e))&&t.limitType===e.limitType}function so(t){return Ni(io(t))+"|lt:"+t.limitType}function uo(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+mi(e.value);var e})).join(", ")+"]"),ui(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Hi(t.startAt)),t.endAt&&(e+=", endAt: "+Hi(t.endAt)),"Target("+e+")"}(io(t))+"; limitType="+t.limitType+")"}function co(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):hi.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Wi(t.startAt,ro(t),e))&&(!t.endAt||!Wi(t.endAt,ro(t),e))}(t,e)}function lo(t){return function(e,n){for(var r=!1,i=0,o=ro(t);i<o.length;i++){var a=o[i],s=ho(a,e,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function ho(t,e,n){var r=t.field.isKeyField()?hi.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?gi(r,i):Fr()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Fr()}}function fo(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ci(e)?"-0":e}}function po(t){return{integerValue:""+t}}function go(t,e){return li(e)?po(e):fo(t,e)}var vo=function(){this._=void 0};function mo(t,e,n){return t instanceof wo?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof _o?To(t,e):t instanceof Eo?Io(t,e):function(t,e){var n=bo(t,e),r=ko(n)+ko(t.A);return wi(n)&&wi(t.A)?po(r):fo(t.R,r)}(t,e)}function yo(t,e,n){return t instanceof _o?To(t,e):t instanceof Eo?Io(t,e):n}function bo(t,e){return t instanceof So?wi(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var wo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(vo),_o=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return o(e,t),e}(vo);function To(t,e){for(var n=Ao(e),r=function(t){n.some((function(e){return pi(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Eo=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return o(e,t),e}(vo);function Io(t,e){for(var n=Ao(e),r=function(t){n=n.filter((function(e){return!pi(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var So=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return o(e,t),e}(vo);function ko(t){return ri(t.integerValue||t.doubleValue)}function Ao(t){return _i(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Co=function(t,e){this.field=t,this.transform=e},xo=function(t,e){this.version=t,this.transformResults=e},Oo=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function No(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Do=function(){};function Ro(t,e,n){t instanceof jo?function(t,e,n){var r=t.value.clone(),i=Vo(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Uo?function(t,e,n){if(No(t.precondition,e)){var r=Vo(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Bo(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Po(t,e,n){t instanceof jo?function(t,e,n){if(No(t.precondition,e)){var r=t.value.clone(),i=qo(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Mo(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Uo?function(t,e,n){if(No(t.precondition,e)){var r=qo(t.fieldTransforms,n,e),i=e.data;i.setAll(Bo(t)),i.setAll(r),e.convertToFoundDocument(Mo(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){No(t.precondition,e)&&e.convertToNoDocument(zr.min())}(t,e)}function Lo(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),s=bo(o.transform,a||null);null!=s&&(null==n&&(n=ki.empty()),n.set(o.field,s))}return n||null}function Fo(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&qr(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof _o&&e instanceof _o||t instanceof Eo&&e instanceof Eo?qr(t.elements,e.elements,pi):t instanceof So&&e instanceof So?pi(t.A,e.A):t instanceof wo&&e instanceof wo}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Mo(t){return t.isFoundDocument()?t.version:zr.min()}var jo=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return o(e,t),e}(Do),Uo=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return o(e,t),e}(Do);function Bo(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function Vo(t,e,n){var r=new Map;Mr(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,yo(a,s,n[i]))}return r}function qo(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,mo(s,u,e))}return r}var Go,Ho,zo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return o(e,t),e}(Do),Ko=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return o(e,t),e}(Do),Wo=function(t){this.count=t};function Xo(t){switch(t){case Cr.OK:return Fr();case Cr.CANCELLED:case Cr.UNKNOWN:case Cr.DEADLINE_EXCEEDED:case Cr.RESOURCE_EXHAUSTED:case Cr.INTERNAL:case Cr.UNAVAILABLE:case Cr.UNAUTHENTICATED:return!1;case Cr.INVALID_ARGUMENT:case Cr.NOT_FOUND:case Cr.ALREADY_EXISTS:case Cr.PERMISSION_DENIED:case Cr.FAILED_PRECONDITION:case Cr.ABORTED:case Cr.OUT_OF_RANGE:case Cr.UNIMPLEMENTED:case Cr.DATA_LOSS:return!0;default:return Fr()}}function Yo(t){if(void 0===t)return Rr("GRPC error has no .code"),Cr.UNKNOWN;switch(t){case Go.OK:return Cr.OK;case Go.CANCELLED:return Cr.CANCELLED;case Go.UNKNOWN:return Cr.UNKNOWN;case Go.DEADLINE_EXCEEDED:return Cr.DEADLINE_EXCEEDED;case Go.RESOURCE_EXHAUSTED:return Cr.RESOURCE_EXHAUSTED;case Go.INTERNAL:return Cr.INTERNAL;case Go.UNAVAILABLE:return Cr.UNAVAILABLE;case Go.UNAUTHENTICATED:return Cr.UNAUTHENTICATED;case Go.INVALID_ARGUMENT:return Cr.INVALID_ARGUMENT;case Go.NOT_FOUND:return Cr.NOT_FOUND;case Go.ALREADY_EXISTS:return Cr.ALREADY_EXISTS;case Go.PERMISSION_DENIED:return Cr.PERMISSION_DENIED;case Go.FAILED_PRECONDITION:return Cr.FAILED_PRECONDITION;case Go.ABORTED:return Cr.ABORTED;case Go.OUT_OF_RANGE:return Cr.OUT_OF_RANGE;case Go.UNIMPLEMENTED:return Cr.UNIMPLEMENTED;case Go.DATA_LOSS:return Cr.DATA_LOSS;default:return Fr()}}(Ho=Go||(Go={}))[Ho.OK=0]="OK",Ho[Ho.CANCELLED=1]="CANCELLED",Ho[Ho.UNKNOWN=2]="UNKNOWN",Ho[Ho.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ho[Ho.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ho[Ho.NOT_FOUND=5]="NOT_FOUND",Ho[Ho.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ho[Ho.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ho[Ho.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ho[Ho.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ho[Ho.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ho[Ho.ABORTED=10]="ABORTED",Ho[Ho.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ho[Ho.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ho[Ho.INTERNAL=13]="INTERNAL",Ho[Ho.UNAVAILABLE=14]="UNAVAILABLE",Ho[Ho.DATA_LOSS=15]="DATA_LOSS";var Qo=function(){function t(t,e){this.comparator=t,this.root=e||Jo.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jo.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jo.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new $o(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new $o(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new $o(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new $o(this.root,t,this.comparator,!0)},t}(),$o=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Jo=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Fr();if(this.right.isRed())throw Fr();var t=this.left.check();if(t!==this.right.check())throw Fr();return t+(this.isRed()?0:1)},t}();Jo.EMPTY=null,Jo.RED=!0,Jo.BLACK=!1,Jo.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Fr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Fr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Fr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Fr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Fr()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Jo(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Zo=function(){function t(t){this.comparator=t,this.data=new Qo(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new ta(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new ta(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),ta=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),ea=new Qo(hi.comparator);function na(){return ea}var ra=new Qo(hi.comparator);function ia(){return ra}var oa=new Qo(hi.comparator);function aa(){return oa}var sa=new Zo(hi.comparator);function ua(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=sa,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var ca=new Zo(Vr);function la(){return ca}var ha=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,fa.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(zr.min(),r,la(),na(),ua())},t}(),fa=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(ti.EMPTY_BYTE_STRING,n,ua(),ua(),ua())},t}(),pa=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},da=function(t,e){this.targetId=t,this.V=e},ga=function(t,e,n,r){void 0===n&&(n=ti.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},va=function(){function t(){this.S=0,this.D=ba(),this.C=ti.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},t.prototype.M=function(){var t=ua(),e=ua(),n=ua();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Fr()}})),new fa(this.C,this.N,t,e,n)},t.prototype.L=function(){this.k=!1,this.D=ba()},t.prototype.B=function(t,e){this.k=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),ma=function(){function t(t){this.W=t,this.G=new Map,this.H=na(),this.J=ya(),this.Y=new Zo(Vr)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.F||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:Fr()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Ri(i))if(0===n){var o=new hi(i.path);this.tt(e,o,Ci.newNoDocument(o,zr.min()))}else Mr(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&Ri(o.target)){var a=new hi(o.target.path);null!==e.H.get(a)||e.at(i,a)||e.tt(i,a,Ci.newNoDocument(a,t))}r.$&&(n.set(i,r.M()),r.L())}}));var r=ua();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new ha(t,n,this.Y,this.H,r);return this.H=na(),this.J=ya(),this.Y=new Zo(Vr),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new va,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Zo(Vr),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Dr("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.F?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new va),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function ya(){return new Qo(hi.comparator)}function ba(){return new Qo(hi.comparator)}var wa={asc:"ASCENDING",desc:"DESCENDING"},_a={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ta=function(t,e){this.databaseId=t,this.I=e};function Ea(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ia(t,e){return t.I?e.toBase64():e.toUint8Array()}function Sa(t,e){return Ea(t,e.toTimestamp())}function ka(t){return Mr(!!t),zr.fromTimestamp(function(t){var e=ni(t);return new Hr(e.seconds,e.nanos)}(t))}function Aa(t,e){return function(t){return new Qr(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Ca(t){var e=Qr.fromString(t);return Mr(Ja(e)),e}function xa(t,e){return Aa(t.databaseId,e.path)}function Oa(t,e){var n=Ca(e);if(n.get(1)!==t.databaseId.projectId)throw new xr(Cr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new xr(Cr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new hi(Pa(n))}function Na(t,e){return Aa(t.databaseId,e)}function Da(t){var e=Ca(t);return 4===e.length?Qr.emptyPath():Pa(e)}function Ra(t){return new Qr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Pa(t){return Mr(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function La(t,e,n){return{name:xa(t,e),fields:n.value.mapValue.fields}}function Fa(t,e,n){var r=Oa(t,e.name),i=ka(e.updateTime),o=new ki({mapValue:{fields:e.fields}}),a=Ci.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Ma(t,e){var n;if(e instanceof jo)n={update:La(t,e.key,e.value)};else if(e instanceof zo)n={delete:xa(t,e.key)};else if(e instanceof Uo)n={update:La(t,e.key,e.data),updateMask:$a(e.fieldMask)};else{if(!(e instanceof Ko))return Fr();n={verify:xa(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof wo)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof _o)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Eo)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof So)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Fr()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Sa(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Fr()}(t,e.precondition)),n}function ja(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Oo.updateTime(ka(t.updateTime)):void 0!==t.exists?Oo.exists(t.exists):Oo.none()}(e.currentDocument):Oo.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)Mr("REQUEST_TIME"===e.setToServerValue),n=new wo;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new _o(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new Eo(i)}else"increment"in e?n=new So(t,e.increment):Fr();var o=Jr.fromServerFormat(e.fieldPath);return new Co(o,n)}(t,e)})):[];if(e.update){e.update.name;var i=Oa(t,e.update.name),o=new ki({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){var e=t.fieldPaths||[];return new Zr(e.map((function(t){return Jr.fromServerFormat(t)})))}(e.updateMask);return new Uo(i,o,a,n,r)}return new jo(i,o,n,r)}if(e.delete){var s=Oa(t,e.delete);return new zo(s,n)}if(e.verify){var u=Oa(t,e.verify);return new Ko(u,n)}return Fr()}function Ua(t,e){return{documents:[Na(t,e.path)]}}function Ba(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Na(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Na(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Ei(t.value))return{unaryFilter:{field:Wa(t.field),op:"IS_NAN"}};if(Ti(t.value))return{unaryFilter:{field:Wa(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ei(t.value))return{unaryFilter:{field:Wa(t.field),op:"IS_NOT_NAN"}};if(Ti(t.value))return{unaryFilter:{field:Wa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(t.field),op:Ka(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Wa(t.field),direction:za(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.I||ui(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=Ga(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Ga(e.endAt)),n}function Va(t){var e=Da(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Mr(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=qa(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new zi(Xa(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return ui(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Ha(n.startAt));var l=null;return n.endAt&&(l=Ha(n.endAt)),Qi(e,i,s,a,u,"F",c,l)}function qa(t){return t?void 0!==t.unaryFilter?[Qa(t)]:void 0!==t.fieldFilter?[Ya(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return qa(t)})).reduce((function(t,e){return t.concat(e)})):Fr():[]}function Ga(t){return{before:t.before,values:t.position}}function Ha(t){var e=!!t.before,n=t.values||[];return new Gi(n,e)}function za(t){return wa[t]}function Ka(t){return _a[t]}function Wa(t){return{fieldPath:t.canonicalString()}}function Xa(t){return Jr.fromServerFormat(t.fieldPath)}function Ya(t){return Pi.create(Xa(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Fr()}}(t.fieldFilter.op),t.fieldFilter.value)}function Qa(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Xa(t.unaryFilter.field);return Pi.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Xa(t.unaryFilter.field);return Pi.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Xa(t.unaryFilter.field);return Pi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Xa(t.unaryFilter.field);return Pi.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Fr()}}function $a(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function Ja(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Za(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=es(e)),e=ts(t.get(n),e);return es(e)}function ts(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function es(t){return t+"\x01\x01"}function ns(t){var e=t.length;if(Mr(e>=2),2===e)return Mr("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Qr.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&Fr(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:Fr()}o=a+2}return new Qr(r)}var rs=function(t,e){this.seconds=t,this.nanoseconds=e},is=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};is.store="owner",is.key="owner";var os=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};os.store="mutationQueues",os.keyPath="userId";var as=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};as.store="mutations",as.keyPath="batchId",as.userMutationsIndex="userMutationsIndex",as.userMutationsKeyPath=["userId","batchId"];var ss=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Za(e)]},t.key=function(t,e,n){return[t,Za(e),n]},t}();ss.store="documentMutations",ss.PLACEHOLDER=new ss;var us=function(t,e){this.path=t,this.readTime=e},cs=function(t,e){this.path=t,this.version=e},ls=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};ls.store="remoteDocuments",ls.readTimeIndex="readTimeIndex",ls.readTimeIndexPath="readTime",ls.collectionReadTimeIndex="collectionReadTimeIndex",ls.collectionReadTimeIndexPath=["parentPath","readTime"];var hs=function(t){this.byteSize=t};hs.store="remoteDocumentGlobal",hs.key="remoteDocumentGlobalKey";var fs=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};fs.store="targets",fs.keyPath="targetId",fs.queryTargetsIndexName="queryTargetsIndex",fs.queryTargetsKeyPath=["canonicalId","targetId"];var ps=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};ps.store="targetDocuments",ps.keyPath=["targetId","path"],ps.documentTargetsIndex="documentTargetsIndex",ps.documentTargetsKeyPath=["path","targetId"];var ds=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};ds.key="targetGlobalKey",ds.store="targetGlobal";var gs=function(t,e){this.collectionId=t,this.parent=e};gs.store="collectionParents",gs.keyPath=["collectionId","parent"];var vs=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};vs.store="clientMetadata",vs.keyPath="clientId";var ms=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};ms.store="bundles",ms.keyPath="bundleId";var ys=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};ys.store="namedQueries",ys.keyPath="name";var bs=u(u([],u(u([],u(u([],u(u([],[os.store,as.store,ss.store,ls.store,fs.store,is.store,ds.store,ps.store]),[vs.store])),[hs.store])),[gs.store])),[ms.store,ys.store]),ws="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",_s=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),Ts=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Es=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Fr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),Is=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Ts,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new As(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Ds(e.target.error);n.ft.reject(new As(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new As(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Dr("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new xs(e)},t}(),Ss=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t((0,c.z$)())&&Rr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Dr("SimpleDb","Removing database:",t),Os(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=(0,c.z$)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof kr&&"YES"===(null===(t=kr.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return a(this,void 0,void 0,(function(){var e,n=this;return s(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Dr("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new As(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new xr(Cr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new As(t,n))},i.onupgradeneeded=function(t){Dr("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.wt.Rt(e,i.transaction,t.oldVersion,n.version).next((function(){Dr("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return a(this,void 0,void 0,(function(){var i,o,a,u,c;return s(this,(function(l){switch(l.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,c,l,h;return s(this,(function(s){switch(s.label){case 0:++o,s.label=1;case 1:return s.trys.push([1,4,,5]),[4,u.At(t)];case 2:return u.db=s.sent(),e=Is.open(u.db,t,i?"readonly":"readwrite",n),a=r(e).catch((function(t){return e.abort(t),Es.reject(t)})).toPromise(),c={},a.catch((function(){})),[4,e.dt];case 3:return[2,(c.value=(s.sent(),a),c)];case 4:return l=s.sent(),h="FirebaseError"!==l.name&&o<3,Dr("SimpleDb","Transaction failed with error:",l.message,"Retrying:",h),u.close(),h?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},u=this,l.label=1;case 1:return[5,a()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),ks=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Os(this.Pt.delete())},t}(),As=function(t){function e(e,n){var r=this;return(r=t.call(this,Cr.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return o(e,t),e}(xr);function Cs(t){return"IndexedDbTransactionError"===t.name}var xs=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Dr("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Dr("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Os(n)},t.prototype.add=function(t){return Dr("SimpleDb","ADD",this.store.name,t,t),Os(this.store.add(t))},t.prototype.get=function(t){var e=this;return Os(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Dr("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Dr("SimpleDb","DELETE",this.store.name,t),Os(this.store.delete(t))},t.prototype.count=function(){return Dr("SimpleDb","COUNT",this.store.name),Os(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.kt=function(t,e){Dr("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Ft=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new Es((function(n,r){e.onerror=function(t){var e=Ds(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new Es((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new ks(i),a=e(i.primaryKey,i.value,o);if(a instanceof Es){var s=a.catch((function(t){return o.done(),Es.reject(t)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return Es.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ft?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Os(t){return new Es((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=Ds(t.target.error);n(e)}}))}var Ns=!1;function Ds(t){var e=Ss._t((0,c.z$)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new xr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Ns||(Ns=!0,setTimeout((function(){throw r}),0)),r}}return t}var Rs=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return o(e,t),e}(_s);function Ps(t,e){var n=jr(t);return Ss.It(n.Mt,e)}var Ls=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Ro(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Po(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&Po(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(zr.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),ua())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&qr(this.mutations,t.mutations,(function(t,e){return Fo(t,e)}))&&qr(this.baseMutations,t.baseMutations,(function(t,e){return Fo(t,e)}))},t}(),Fs=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Mr(e.mutations.length===r.length);for(var i=aa(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),Ms=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=zr.min()),void 0===o&&(o=zr.min()),void 0===a&&(a=ti.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),js=function(t){this.Lt=t};function Us(t,e){if(e.document)return Fa(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=hi.fromSegments(e.noDocument.path),r=Hs(e.noDocument.readTime),i=Ci.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=hi.fromSegments(e.unknownDocument.path);return r=Hs(e.unknownDocument.version),Ci.newUnknownDocument(o,r)}return Fr()}function Bs(t,e,n){var r=Vs(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:xa(t,e.key),fields:e.data.value.mapValue.fields,updateTime:Ea(t,e.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new ls(null,null,o,a,r,i)}if(e.isNoDocument()){var s=e.key.path.toArray(),u=Gs(e.version);return a=e.hasCommittedMutations,new ls(null,new us(s,u),null,a,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Gs(e.version);return new ls(new cs(c,l),null,null,!0,r,i)}return Fr()}function Vs(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function qs(t){var e=new Hr(t[0],t[1]);return zr.fromTimestamp(e)}function Gs(t){var e=t.toTimestamp();return new rs(e.seconds,e.nanoseconds)}function Hs(t){var e=new Hr(t.seconds,t.nanoseconds);return zr.fromTimestamp(e)}function zs(t,e){for(var n=(e.baseMutations||[]).map((function(e){return ja(t.Lt,e)})),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var a=e.mutations.map((function(e){return ja(t.Lt,e)})),s=Hr.fromMillis(e.localWriteTimeMs);return new Ls(e.batchId,s,n,a)}function Ks(t){var e,n,r=Hs(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Hs(t.lastLimboFreeSnapshotVersion):zr.min();return void 0!==t.query.documents?(Mr(1===(n=t.query).documents.length),e=io($i(Da(n.documents[0])))):e=function(t){return io(Va(t))}(t.query),new Ms(e,t.targetId,0,t.lastListenSequenceNumber,r,i,ti.fromBase64String(t.resumeToken))}function Ws(t,e){var n,r=Gs(e.snapshotVersion),i=Gs(e.lastLimboFreeSnapshotVersion);n=Ri(e.target)?Ua(t.Lt,e.target):Ba(t.Lt,e.target);var o=e.resumeToken.toBase64();return new fs(e.targetId,Ni(e.target),r,o,e.sequenceNumber,i,n)}function Xs(t){var e=Va({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?oo(e,e.limit,"L"):e}var Ys=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Qs(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Hs(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return Qs(t).put({bundleId:(n=e).id,createTime:Gs(ka(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return $s(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Xs(e.bundledQuery),readTime:Hs(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return $s(t).put(function(t){return{name:t.name,readTime:Gs(ka(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Qs(t){return Ps(t,ms.store)}function $s(t){return Ps(t,ys.store)}var Js=function(){function t(){this.Bt=new Zs}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Es.resolve()},t.prototype.getCollectionParents=function(t,e){return Es.resolve(this.Bt.getEntries(e))},t}(),Zs=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Zo(Qr.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Zo(Qr.comparator)).toArray()},t}(),tu=function(){function t(){this.qt=new Zs}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:Za(i)};return eu(t).put(o)}return Es.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Gr(e),""],!1,!0);return eu(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(ns(o.parent))}return n}))},t}();function eu(t){return Ps(t,gs.store)}var nu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ru=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function iu(t,e,n){var r=t.store(as.store),i=t.store(ss.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){Mr(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],p=ss.key(e,f.key.path,n.batchId);o.push(i.delete(p)),c.push(f.key)}return Es.waitFor(o).next((function(){return c}))}function ou(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Fr();e=t.noDocument}return JSON.stringify(e).length}ru.DEFAULT_COLLECTION_PERCENTILE=10,ru.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ru.DEFAULT=new ru(41943040,ru.DEFAULT_COLLECTION_PERCENTILE,ru.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ru.DISABLED=new ru(-1,0,0);var au=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return Mr(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return uu(t).$t({index:as.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=cu(t),a=uu(t);return a.add({}).next((function(s){Mr("number"==typeof s);for(var u=new Ls(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Ma(t.Lt,e)})),i=n.mutations.map((function(e){return Ma(t.Lt,e)}));return new as(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Zo((function(t,e){return Vr(t.canonicalString(),e.canonicalString())})),f=0,p=r;f<p.length;f++){var d=p[f],g=ss.key(i.userId,d.key.path,s);h=h.add(d.key.path.popLast()),l.push(a.put(c)),l.push(o.put(g,ss.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Kt[s]=u.keys()})),Es.waitFor(l).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return uu(t).get(e).next((function(t){return t?(Mr(t.userId===n.userId),zs(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?Es.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return uu(t).$t({index:as.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Mr(e.batchId>=r),o=zs(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return uu(t).$t({index:as.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return uu(t).Nt(as.userMutationsIndex,n).next((function(t){return t.map((function(t){return zs(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=ss.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return cu(t).$t({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=ns(u);if(s===n.userId&&e.path.isEqual(l))return uu(t).get(c).next((function(t){if(!t)throw Fr();Mr(t.userId===n.userId),o.push(zs(n.R,t))}));a.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Zo(Vr),i=[];return e.forEach((function(e){var o=ss.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=cu(t).$t({range:a},(function(t,i,o){var a=t[0],s=t[1],u=t[2],c=ns(s);a===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),Es.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=ss.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Zo(Vr);return cu(t).$t({range:a},(function(t,e,o){var a=t[0],u=t[1],c=t[2],l=ns(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(t,s)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(uu(t).get(e).next((function(t){if(null===t)throw Fr();Mr(t.userId===n.userId),r.push(zs(n.R,t))})))})),Es.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return iu(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),Es.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return Es.resolve();var r=IDBKeyRange.lowerBound(ss.prefixForUser(e.userId)),i=[];return cu(t).$t({range:r},(function(t,n,r){if(t[0]===e.userId){var o=ns(t[1]);i.push(o)}else r.done()})).next((function(){Mr(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return su(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return lu(t).get(this.userId).next((function(t){return t||new os(e.userId,-1,"")}))},t}();function su(t,e,n){var r=ss.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return cu(t).$t({range:o,Ft:!0},(function(t,n,r){var o=t[0],s=t[1];t[2],o===e&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function uu(t){return Ps(t,as.store)}function cu(t){return Ps(t,ss.store)}function lu(t){return Ps(t,os.store)}var hu=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),fu=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new hu(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return zr.fromTimestamp(new Hr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return pu(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return Mr(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return pu(t).$t((function(a,s){var u=Ks(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return Es.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return pu(t).$t((function(t,n){var r=Ks(n);e(r)}))},t.prototype.Xt=function(t){return du(t).get(ds.key).next((function(t){return Mr(null!==t),t}))},t.prototype.Zt=function(t,e){return du(t).put(ds.key,e)},t.prototype.te=function(t,e){return pu(t).put(Ws(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=Ni(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return pu(t).$t({range:r,index:fs.queryTargetsIndexName},(function(t,n,r){var o=Ks(n);Di(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=gu(t);return e.forEach((function(e){var a=Za(e.path);i.push(o.put(new ps(n,a))),i.push(r.referenceDelegate.addReference(t,n,e))})),Es.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=gu(t);return Es.forEach(e,(function(e){var o=Za(e.path);return Es.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=gu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=gu(t),i=ua();return r.$t({range:n,Ft:!0},(function(t,e,n){var r=ns(t[1]),o=new hi(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=Za(e.path),r=IDBKeyRange.bound([n],[Gr(n)],!1,!0),i=0;return gu(t).$t({index:ps.documentTargetsIndex,Ft:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return pu(t).get(e).next((function(t){return t?Ks(t):null}))},t}();function pu(t){return Ps(t,fs.store)}function du(t){return Ps(t,ds.store)}function gu(t){return Ps(t,ps.store)}function vu(t){return a(this,void 0,void 0,(function(){return s(this,(function(e){if(t.code!==Cr.FAILED_PRECONDITION||t.message!==ws)throw t;return Dr("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function mu(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=Vr(n,i);return 0===a?Vr(r,o):a}var yu=function(){function t(t){this.ne=t,this.buffer=new Zo(mu),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();mu(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),bu=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Dr("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return a(e,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Cs(e=n.sent())?(Dr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,vu(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),wu=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Es.resolve(Ar.o);var r=new yu(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Dr("LruGarbageCollector","Garbage collection skipped; disabled"),Es.resolve(nu)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Dr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),nu):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,a,s,u,c=this,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>c.params.maximumSequenceNumbersToCollect?(Dr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(t,n,e)})).next((function(e){return i=e,s=Date.now(),c.removeOrphanedDocuments(t,n)})).next((function(t){return u=Date.now(),Nr()<=l.in.DEBUG&&Dr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-h)+"ms"),Es.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),_u=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new wu(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return Tu(t,n)},t.prototype.removeReference=function(t,e,n){return Tu(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Tu(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return lu(t).Ot((function(r){return su(t,r,e).next((function(t){return t&&(n=!0),Es.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(a,s){if(s<=e){var u=n._e(t,a).next((function(e){if(!e)return o++,r.getEntry(t,a).next((function(){return r.removeEntry(a),gu(t).delete([0,Za(a.path)])}))}));i.push(u)}})).next((function(){return Es.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Tu(t,e)},t.prototype.we=function(t,e){var n,r=gu(t),i=Ar.o;return r.$t({index:ps.documentTargetsIndex},(function(t,r){var o=t[0];t[1];var a=r.path,s=r.sequenceNumber;0===o?(i!==Ar.o&&e(new hi(ns(n)),i),i=s,n=a):i=Ar.o})).next((function(){i!==Ar.o&&e(new hi(ns(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Tu(t,e){return gu(t).put(function(t,e){return new ps(0,Za(t.path),e)}(e,t.currentSequenceNumber))}var Eu=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Wr(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}}))},t.prototype.isEmpty=function(){return Xr(this.inner)},t}(),Iu=function(){function t(){this.changes=new Eu((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:zr.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Ci.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Es.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Su=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Cu(t).put(xu(e),n)},t.prototype.removeEntry=function(t,e){var n=Cu(t),r=xu(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return Cu(t).get(xu(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return Cu(t).get(xu(e)).next((function(t){return{document:n.ye(e,t),size:ou(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=na();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=na(),i=new Qo(hi.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,ou(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Es.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Cu(t).$t({range:r},(function(t,e,r){for(var a=hi.fromSegments(t);o&&hi.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=na(),o=e.path.length+1,a={};if(n.isEqual(zr.min())){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.toArray(),c=Vs(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=ls.collectionReadTimeIndex}return Cu(t).$t(a,(function(t,n,a){if(t.length===o){var s=Us(r.R,n);e.path.isPrefixOf(s.key.path)?co(e,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new ku(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Au(t).get(hs.key).next((function(t){return Mr(!!t),t}))},t.prototype.me=function(t,e){return Au(t).put(hs.key,e)},t.prototype.ye=function(t,e){if(e){var n=Us(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(zr.min()))return n}return Ci.newInvalidDocument(t)},t}(),ku=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Eu((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return o(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Zo((function(t,e){return Vr(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,a){var s=e.Ae.get(o);if(a.document.isValidDocument()){var u=Bs(e.Ie.R,a.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=ou(u);r+=c-s,n.push(e.Ie.addEntry(t,o,u))}else if(r-=s,e.trackRemovals){var l=Bs(e.Ie.R,Ci.newNoDocument(o,zr.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),Es.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(Iu);function Au(t){return Ps(t,hs.store)}function Cu(t){return Ps(t,ls.store)}function xu(t){return t.path.toArray()}var Ou=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Mr(n<r&&n>=0&&r<=11);var o=new Is("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(is.store)}(t),function(t){t.createObjectStore(os.store,{keyPath:os.keyPath}),t.createObjectStore(as.store,{keyPath:as.keyPath,autoIncrement:!0}).createIndex(as.userMutationsIndex,as.userMutationsKeyPath,{unique:!0}),t.createObjectStore(ss.store)}(t),Nu(t),function(t){t.createObjectStore(ls.store)}(t));var a=Es.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(ps.store),t.deleteObjectStore(fs.store),t.deleteObjectStore(ds.store)}(t),Nu(t)),a=a.next((function(){return function(t){var e=t.store(ds.store),n=new ds(0,0,zr.min().toTimestamp(),0);return e.put(ds.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(as.store).Nt().next((function(n){t.deleteObjectStore(as.store),t.createObjectStore(as.store,{keyPath:as.keyPath,autoIncrement:!0}).createIndex(as.userMutationsIndex,as.userMutationsKeyPath,{unique:!0});var r=e.store(as.store),i=n.map((function(t){return r.put(t)}));return Es.waitFor(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(vs.store,{keyPath:vs.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(hs.store)}(t),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(ls.store);e.createIndex(ls.readTimeIndex,ls.readTimeIndexPath,{unique:!1}),e.createIndex(ls.collectionReadTimeIndex,ls.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(t){t.createObjectStore(ms.store,{keyPath:ms.keyPath})}(t),function(t){t.createObjectStore(ys.store,{keyPath:ys.keyPath})}(t)}))),a},t.prototype.be=function(t){var e=0;return t.store(ls.store).$t((function(t,n){e+=ou(n)})).next((function(){var n=new hs(e);return t.store(hs.store).put(hs.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(os.store),r=t.store(as.store);return n.Nt().next((function(n){return Es.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(as.userMutationsIndex,i).next((function(r){return Es.forEach(r,(function(r){Mr(r.userId===n.userId);var i=zs(e.R,r);return iu(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(ps.store),n=t.store(ls.store);return t.store(ds.store).get(ds.key).next((function(t){var r=[];return n.$t((function(n,i){var o=new Qr(n),a=function(t){return[0,Za(t)]}(o);r.push(e.get(a).next((function(n){return n?Es.resolve():function(n){return e.put(new ps(0,Za(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return Es.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(gs.store,{keyPath:gs.keyPath});var n=e.store(gs.store),r=new Zs,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Za(i)})}};return e.store(ls.store).$t({Ft:!0},(function(t,e){var n=new Qr(t);return i(n.popLast())})).next((function(){return e.store(ss.store).$t({Ft:!0},(function(t,e){t[0];var n=t[1];t[2];var r=ns(n);return i(r.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(fs.store);return n.$t((function(t,r){var i=Ks(r),o=Ws(e.R,i);return n.put(o)}))},t}();function Nu(t){t.createObjectStore(ps.store,{keyPath:ps.keyPath}).createIndex(ps.documentTargetsIndex,ps.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(fs.store,{keyPath:fs.keyPath}).createIndex(fs.queryTargetsIndexName,fs.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(ds.store)}var Du="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Ru=function(){function t(e,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new xr(Cr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new _u(this,i),this.Le=n+"main",this.R=new js(u),this.Be=new Ss(this.Le,11,new Ou(this.R)),this.qe=new fu(this.referenceDelegate,this.R),this.Ut=new tu,this.Ue=function(t,e){return new Su(t,e)}(this.R,this.Ut),this.Ke=new Ys,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&Rr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new xr(Cr.FAILED_PRECONDITION,Du);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new Ar(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return a(e,void 0,void 0,(function(){return s(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return a(e,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return a(e,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Lu(e).put(new vs(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(Cs(e))return Dr("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Dr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return Pu(t).get(is.key).next((function(t){return Es.resolve(e.tn(t))}))},t.prototype.en=function(t){return Lu(t).delete(this.clientId)},t.prototype.nn=function(){return a(this,void 0,void 0,(function(){var t,e,n,r,i=this;return s(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Ps(t,vs.store);return e.Nt().next((function(t){var n=i.rn(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return Es.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)r=n[e],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Es.resolve(!0):Pu(t).get(is.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new xr(Cr.FAILED_PRECONDITION,Du);return!1}}return!(!e.networkEnabled||!e.inForeground)||Lu(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&Dr("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return a(this,void 0,void 0,(function(){var t=this;return s(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[is.store,vs.store],(function(e){var n=new Rs(e,Ar.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Lu(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return au.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;Dr("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Be.runTransaction(t,o,bs,(function(o){return i=new Rs(o,r.Ne?r.Ne.next():Ar.o),"readwrite-primary"===e?r.Je(i).next((function(t){return!!t||r.Ye(i)})).next((function(e){if(!e)throw Rr("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new xr(Cr.FAILED_PRECONDITION,ws);return n(i)})).next((function(t){return r.Ze(i).next((function(){return t}))})):r.dn(i).next((function(){return n(i)}))})).then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return Pu(t).get(is.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new xr(Cr.FAILED_PRECONDITION,Du)}))},t.prototype.Ze=function(t){var e=new is(this.clientId,this.allowTabSynchronization,Date.now());return Pu(t).put(is.key,e)},t.yt=function(){return Ss.yt()},t.prototype.Xe=function(t){var e=this,n=Pu(t);return n.get(is.key).next((function(t){return e.tn(t)?(Dr("IndexedDbPersistence","Releasing primary lease."),n.delete(is.key)):Es.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Rr("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ke=function(){e.un(),(0,c.G6)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return Dr("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Rr("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Rr("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Pu(t){return Ps(t,is.store)}function Lu(t){return Ps(t,vs.store)}function Fu(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Mu=function(t,e){this.progress=t,this.wn=e},ju=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return hi.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):no(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new hi(e)).next((function(t){var e=ia();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=ia();return this.Ut.getCollectionParents(t,i).next((function(a){return Es.forEach(a,(function(a){var s=function(t,e){return new Yi(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.An(t,s,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return i=e,o.Rn(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=Ci.newInvalidDocument(c),r=r.insert(c,l)),Po(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(t,n){co(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=ua(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Uo&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))})),c}))},t}(),Uu=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=ua(),i=ua(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Bu=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(zr.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(o){var a=i.Cn(e,o);return(Ji(e)||Zi(e))&&i.Nn(e.limitType,a,r,n)?i.Dn(t,e):(Nr()<=l.in.DEBUG&&Dr("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),uo(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return a.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new Zo(lo(t));return e.forEach((function(e,r){co(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Nr()<=l.in.DEBUG&&Dr("QueryEngine","Using full collection scan to execute query:",uo(e)),this.Sn.getDocumentsMatchingQuery(t,e,zr.min())},t}(),Vu=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.kn=new Qo(Vr),this.Fn=new Eu((function(t){return Ni(t)}),Di),this.$n=zr.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new ju(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.kn)}))},t}();function qu(t,e,n,r){return new Vu(t,e,n,r)}function Gu(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o;return s(this,(function(a){switch(a.label){case 0:return n=jr(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(a){return o=a,r=n.persistence.getMutationQueue(e),i=new ju(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],a=ua(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var p=0,d=e;p<d.length;p++){var g=d[p];r.push(g.batchId);for(var v=0,m=g.mutations;v<m.length;v++){var y=m[v];a=a.add(y.key)}}return i.pn(t,a).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Hu(t,e){var n=jr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=Es.resolve();return o.forEach((function(t){a=a.next((function(){return r.getEntry(e,t)})).next((function(e){var o=n.docVersions.get(t);Mr(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),a.next((function(){return t._n.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}function zu(t){var e=jr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function Ku(t,e){var n=jr(t),r=e.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];e.targetChanges.forEach((function(e,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Mr(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,e)&&a.push(n.qe.updateTargetData(t,c))}}}));var s=na();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),a.push(Wu(t,o,e.documentUpdates,r,void 0).next((function(t){s=t}))),!r.isEqual(zr.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));a.push(u)}return Es.waitFor(a).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,s)})).next((function(){return s}))})).then((function(t){return n.kn=i,t}))}function Wu(t,e,n,r,i){var o=ua();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=na();return n.forEach((function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(zr.min())?(e.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,u),o=o.insert(n,a)):Dr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function Xu(t,e){var n=jr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function Yu(t,e){var n=jr(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?(r=i,Es.resolve(r)):n.qe.allocateTargetId(t).next((function(i){return r=new Ms(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.kn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(t.targetId,t),n.Fn.set(e,t.targetId)),t}))}function Qu(t,e,n){return a(this,void 0,void 0,(function(){var r,i,o,a;return s(this,(function(s){switch(s.label){case 0:r=jr(t),i=r.kn.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!Cs(a=s.sent()))throw a;return Dr("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(i.target),[2]}}))}))}function $u(t,e,n){var r=jr(t),i=zr.min(),o=ua();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=jr(t),i=r.Fn.get(n);return void 0!==i?Es.resolve(r.kn.get(i)):r.qe.getTargetData(e,n)}(r,t,io(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:zr.min(),n?o:ua())})).next((function(t){return{documents:t,Bn:o}}))}))}function Ju(t,e){var n=jr(t),r=jr(n.qe),i=n.kn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function Zu(t){var e=jr(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=jr(t),i=na(),o=Vs(n),a=Cu(e),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:ls.readTimeIndex,range:s},(function(t,e){var n=Us(r.R,e);i=i.insert(n.key,n),o=e.readTime})).next((function(){return{wn:i,readTime:qs(o)}}))}(e.On,t,e.$n)})).then((function(t){var n=t.wn,r=t.readTime;return e.$n=r,n}))}function tc(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){return[2,(e=jr(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Cu(t),n=zr.min();return e.$t({index:ls.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=qs(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.$n=t}))]}))}))}function ec(t,e,n,r){return a(this,void 0,void 0,(function(){var i,o,a,u,c,l,h,f,p,d;return s(this,(function(s){switch(s.label){case 0:for(i=jr(t),o=ua(),a=na(),u=aa(),c=0,l=n;c<l.length;c++)h=l[c],f=e.qn(h.metadata.name),h.document&&(o=o.add(f)),a=a.insert(f,e.Un(h)),u=u.insert(f,e.Kn(h.metadata.readTime));return p=i.On.newChangeBuffer({trackRemovals:!0}),[4,Yu(i,function(t){return io($i(Qr.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=s.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return Wu(t,p,a,zr.min(),u).next((function(e){return p.apply(t),e})).next((function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next((function(){return i.qe.addMatchingKeys(t,o,d.targetId)})).next((function(){return i.Mn.En(t,e)})).next((function(){return e}))}))}))]}}))}))}function nc(t,e,n){return void 0===n&&(n=ua()),a(this,void 0,void 0,(function(){var r,i;return s(this,(function(o){switch(o.label){case 0:return[4,Yu(t,io(Xs(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=jr(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=ka(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(t,e);var a=r.withResumeToken(ti.EMPTY_BYTE_STRING,o);return i.kn=i.kn.insert(a.targetId,a),i.qe.updateTargetData(t,a).next((function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)})).next((function(){return i.qe.addMatchingKeys(t,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(t,e)}))}))]}}))}))}var rc=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Es.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:ka(n.createTime)}),Es.resolve()},t.prototype.getNamedQuery=function(t,e){return Es.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Xs(t.bundledQuery),readTime:ka(t.readTime)}}(e)),Es.resolve()},t}(),ic=function(){function t(){this.Wn=new Zo(oc.Gn),this.zn=new Zo(oc.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new oc(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new oc(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new hi(new Qr([])),r=new oc(n,t),i=new oc(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new hi(new Qr([])),n=new oc(e,t),r=new oc(e,t+1),i=ua();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new oc(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),oc=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return hi.comparator(t.key,e.key)||Vr(t.ns,e.ns)},t.Hn=function(t,e){return Vr(t.ns,e.ns)||hi.comparator(t.key,e.key)},t}(),ac=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Zo(oc.Gn)}return t.prototype.checkEmpty=function(t){return Es.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new Ls(i,e,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new oc(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Es.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Es.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.cs(n),i=r<0?0:r;return Es.resolve(this._n.length>i?this._n[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Es.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Es.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new oc(e,0),i=new oc(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),Es.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Zo(Vr);return e.forEach((function(t){var e=new oc(t,0),i=new oc(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),Es.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;hi.isDocumentKey(i)||(i=i.child(""));var o=new oc(new hi(i),0),a=new Zo(Vr);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.ns)),!0)}),o),Es.resolve(this.us(a))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Mr(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Es.forEach(e.mutations,(function(i){var o=new oc(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new oc(e,0),r=this.rs.firstAfterOrEqual(n);return Es.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return this._n.length,Es.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),sc=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Qo(hi.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Es.resolve(n?n.document.clone():Ci.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=na();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Ci.newInvalidDocument(t))})),Es.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=na(),i=new hi(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!e.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||co(e,c)&&(r=r.insert(c.key,c.clone()))}return Es.resolve(r)},t.prototype.fs=function(t,e){return Es.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new uc(this)},t.prototype.getSize=function(t){return Es.resolve(this.size)},t}(),uc=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return o(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),Es.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Iu),cc=function(){function t(t){this.persistence=t,this.ds=new Eu((function(t){return Ni(t)}),Di),this.lastRemoteSnapshotVersion=zr.min(),this.highestTargetId=0,this.ws=0,this._s=new ic,this.targetCount=0,this.ys=hu.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),Es.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Es.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Es.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Es.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Es.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new hu(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Es.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Es.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Es.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)})),Es.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return Es.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Es.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Es.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),Es.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Es.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Es.resolve(n)},t.prototype.containsKey=function(t,e){return Es.resolve(this._s.containsKey(e))},t}(),lc=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Ar(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new cc(this),this.Ut=new Js,this.Ue=function(t,e){return new sc(t,(function(t){return n.referenceDelegate.ps(t)}))}(this.Ut),this.R=new js(e),this.Ke=new rc(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new ac(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;Dr("MemoryPersistence","Starting transaction:",t);var i=new hc(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return Es.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),hc=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return o(e,t),e}(_s),fc=function(){function t(t){this.persistence=t,this.As=new ic,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Fr()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Es.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Es.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Es.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Es.forEach(this.vs,(function(r){var i=hi.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Es.or([function(){return Es.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),pc=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function dc(t,e){return"firestore_clients_"+t+"_"+e}function gc(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function vc(t,e){return"firestore_targets_"+t+"_"+e}pc.UNAUTHENTICATED=new pc(null),pc.GOOGLE_CREDENTIALS=new pc("google-credentials-uid"),pc.FIRST_PARTY=new pc("first-party-uid"),pc.MOCK_USER=new pc("mock-user");var mc=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new xr(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(Rr("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),yc=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new xr(i.error.code,i.error.message)),o?new t(e,i.state,r):(Rr("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),bc=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=la(),a=0;i&&a<r.activeTargetIds.length;++a)i=li(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(Rr("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),wc=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Rr("SharedClientState","Failed to parse online state: "+e),null)},t}(),_c=function(){function t(){this.activeTargetIds=la()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Tc=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Qo(Vr),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=dc(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new _c),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return a(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,u,c,l,h,f=this;return s(this,(function(s){switch(s.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=s.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(dc(this.persistenceKey,r)))&&(o=bc.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(u=this.js(a))&&this.Ws(u),c=0,l=this.$s;c<l.length;c++)h=l[c],this.ks(h);return this.$s=[],this.window.addEventListener("pagehide",(function(){return f.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(vc(this.persistenceKey,t));if(n){var r=yc.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(vc(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Dr("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Dr("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Dr("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.ks=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Dr("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Rr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return a(e,void 0,void 0,(function(){var t,e,r,i,o,a;return s(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(t){var e=Ar.o;if(null!=t)try{var n=JSON.parse(t);Mr("number"==typeof n),e=n}catch(t){Rr("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Ar.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new mc(this.currentUser,t,e,n),i=gc(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=gc(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){var e={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(e))},t.prototype.Ys=function(t,e,n){var r=vc(this.persistenceKey,t),i=new yc(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return bc.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return mc.Vs(new pc(i),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return yc.Vs(r,e)},t.prototype.js=function(t){return wc.Vs(t)},t.prototype.ii=function(t){return a(this,void 0,void 0,(function(){return s(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Dr("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.Fs.insert(t,e):this.Fs.remove(t),i=this.Gs(this.Fs),o=this.Gs(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.syncEngine.hi(a,s).then((function(){n.Fs=r}))},t.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=la();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),Ec=function(){function t(){this.li=new _c,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new _c,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Ic=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Sc=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Dr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Dr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),kc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Ac=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Cc=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return o(e,t),e.prototype.Fi=function(t,e,n,r){return new Promise((function(i,o){var a=new Sr;a.listenOnce(wr.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case br.NO_ERROR:var e=a.getResponseJson();Dr("Connection","XHR received:",JSON.stringify(e)),i(e);break;case br.TIMEOUT:Dr("Connection",'RPC "'+t+'" timed out'),o(new xr(Cr.DEADLINE_EXCEEDED,"Request time out"));break;case br.HTTP_ERROR:var n=a.getStatus();if(Dr("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Cr).indexOf(e)>=0?e:Cr.UNKNOWN}(r.status);o(new xr(s,r.message))}else o(new xr(Cr.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new xr(Cr.UNAVAILABLE,"Connection failed."));break;default:Fr()}}finally{Dr("Connection",'RPC "'+t+'" completed.')}}));var s=JSON.stringify(r);a.send(e,"POST",s,n,15)}))},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=mr(),i=yr(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Er({})),this.ki(o.initMessageHeaders,e),(0,c.uI)()||(0,c.b$)()||(0,c.d)()||(0,c.w1)()||(0,c.Mn)()||(0,c.ru)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");Dr("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,l=!1,h=new Ac({Ei:function(t){l?Dr("Connection","Not sending because WebChannel is closed:",t):(u||(Dr("Connection","Opening WebChannel transport."),s.open(),u=!0),Dr("Connection","WebChannel sending:",t),s.send(t))},Ti:function(){return s.close()}}),f=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return f(s,Ir.EventType.OPEN,(function(){l||Dr("Connection","WebChannel transport opened.")})),f(s,Ir.EventType.CLOSE,(function(){l||(l=!0,Dr("Connection","WebChannel transport closed"),h.Vi())})),f(s,Ir.EventType.ERROR,(function(t){l||(l=!0,Pr("Connection","WebChannel transport errored:",t),h.Vi(new xr(Cr.UNAVAILABLE,"The operation could not be completed")))})),f(s,Ir.EventType.MESSAGE,(function(t){var e;if(!l){var n=t.data[0];Mr(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){Dr("Connection","WebChannel received error:",i);var o=i.status,a=function(t){var e=Go[t];if(void 0!==e)return Yo(e)}(o),u=i.message;void 0===a&&(a=Cr.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),l=!0,h.Vi(new xr(a,u)),s.close()}else Dr("Connection","WebChannel received:",n),h.Si(n)}})),f(i,_r.STAT_EVENT,(function(t){t.stat===Tr.PROXY?Dr("Connection","Detected buffering proxy"):t.stat===Tr.NOPROXY&&Dr("Connection","Detected no buffering proxy")})),setTimeout((function(){h.Pi()}),0),h},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Dr("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(t,i,o,n).then((function(t){return Dr("RestConnection","Received: ",t),t}),(function(e){throw Pr("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.ki=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){var n=kc[t];return this.Di+"/v1/"+e+":"+n},t}());function xc(){return"undefined"!=typeof window?window:null}function Oc(){return"undefined"!=typeof document?document:null}function Nc(t){return new Ta(t,!0)}var Dc=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&Dr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Ki=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Rc=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Dc(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return a(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return a(this,void 0,void 0,(function(){return s(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return a(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Cr.RESOURCE_EXHAUSTED?(Rr(e.toString()),Rr("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===Cr.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new xr(Cr.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return a(t,void 0,void 0,(function(){return s(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return Dr("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(Dr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Pc=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return o(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Fr()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Mr(void 0===e||"string"==typeof e),ti.fromBase64String(e||"")):(Mr(void 0===e||e instanceof Uint8Array),ti.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?Cr.UNKNOWN:Yo(t.code);return new xr(e,t.message||"")}(s);n=new ga(r,i,o,a||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,i=Oa(t,r.document.name),o=ka(r.document.updateTime);var s=new ki({mapValue:{fields:r.document.fields}}),u=(a=Ci.newFoundDocument(i,o,s),r.targetIds||[]),c=r.removedTargetIds||[];n=new pa(u,c,a.key,a)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,i=Oa(t,r.document),o=r.readTime?ka(r.readTime):zr.min(),s=Ci.newNoDocument(i,o),a=r.removedTargetIds||[],n=new pa([],a,s.key,s);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,i=Oa(t,r.document),o=r.removedTargetIds||[],n=new pa([],o,i,null);else{if(!("filter"in e))return Fr();e.filter;var l=e.filter;l.targetId,r=l.count||0,i=new Wo(r),o=l.targetId,n=new da(o,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return zr.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?zr.min():e.readTime?ka(e.readTime):zr.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Ra(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Ri(r)?{documents:Ua(t,r)}:{query:Ba(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Ia(t,e.resumeToken):e.snapshotVersion.compareTo(zr.min())>0&&(n.readTime=Ea(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Fr()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Ra(this.R),e.removeTarget=t,this.cr(e)},e}(Rc),Lc=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return o(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(Mr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Mr(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?ka(t.updateTime):ka(e);return n.isEqual(zr.min())&&(n=ka(e)),new xo(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=ka(t.commitTime);return this.listener.Tr(n,e)}return Mr(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Ra(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Ma(e.R,t)}))};this.cr(n)},e}(Rc),Fc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return o(e,t),e.prototype.br=function(){if(this.Rr)throw new xr(Cr.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Cr.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new xr(Cr.UNKNOWN,t.toString())}))},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Cr.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new xr(Cr.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),Mc=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.kr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Rr(e),this.Vr=!1):Dr("OnlineStateTracker",e)},t.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),jc=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return a(o,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return Wc(this)?(Dr("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return(e=jr(t)).Or.add(4),[4,Bc(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,Uc(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new Mc(n,r)};function Uc(t){return a(this,void 0,void 0,(function(){var e,n;return s(this,(function(r){switch(r.label){case 0:if(!Wc(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Bc(t){return a(this,void 0,void 0,(function(){var e,n;return s(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Vc(t,e){var n=jr(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),Kc(n)?zc(n):ul(n).er()&&Gc(n,e))}function qc(t,e){var n=jr(t),r=ul(n);n.$r.delete(e),r.er()&&Hc(n,e),0===n.$r.size&&(r.er()?r.ir():Wc(n)&&n.Br.set("Unknown"))}function Gc(t,e){t.qr.U(e.targetId),ul(t).mr(e)}function Hc(t,e){t.qr.U(e),ul(t).yr(e)}function zc(t){t.qr=new ma({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),ul(t).start(),t.Br.Sr()}function Kc(t){return Wc(t)&&!ul(t).tr()&&t.$r.size>0}function Wc(t){return 0===jr(t).Or.size}function Xc(t){t.qr=void 0}function Yc(t){return a(this,void 0,void 0,(function(){return s(this,(function(e){return t.$r.forEach((function(e,n){Gc(t,e)})),[2]}))}))}function Qc(t,e){return a(this,void 0,void 0,(function(){return s(this,(function(n){return Xc(t),Kc(t)?(t.Br.Nr(e),zc(t)):t.Br.set("Unknown"),[2]}))}))}function $c(t,e,n){return a(this,void 0,void 0,(function(){var r,i,o;return s(this,(function(u){switch(u.label){case 0:if(t.Br.set("Online"),!(e instanceof ga&&2===e.state&&e.cause))return[3,6];u.label=1;case 1:return u.trys.push([1,3,,5]),[4,function(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o;return s(this,(function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],t.$r.has(o)?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),t.$r.delete(o),t.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return u.sent(),[3,5];case 3:return r=u.sent(),Dr("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Jc(t,r)];case 4:return u.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof pa?t.qr.X(e):e instanceof da?t.qr.rt(e):t.qr.et(e),n.isEqual(zr.min()))return[3,13];u.label=7;case 7:return u.trys.push([7,11,,13]),[4,zu(t.localStore)];case 8:return i=u.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(ti.EMPTY_BYTE_STRING,n.snapshotVersion)),Hc(t,e);var r=new Ms(n.target,e,1,n.sequenceNumber);Gc(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:u.sent(),u.label=10;case 10:return[3,13];case 11:return Dr("RemoteStore","Failed to raise snapshot:",o=u.sent()),[4,Jc(t,o)];case 12:return u.sent(),[3,13];case 13:return[2]}}))}))}function Jc(t,e,n){return a(this,void 0,void 0,(function(){var r=this;return s(this,(function(i){switch(i.label){case 0:if(!Cs(e))throw e;return t.Or.add(1),[4,Bc(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return zu(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return a(r,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return Dr("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,Uc(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Zc(t,e){return e().catch((function(n){return Jc(t,n,e)}))}function tl(t){return a(this,void 0,void 0,(function(){var e,n,r,i,o;return s(this,(function(a){switch(a.label){case 0:e=jr(t),n=cl(e),r=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return Wc(t)&&t.Fr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Xu(e.localStore,r)];case 3:return null===(i=a.sent())?(0===e.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.Fr.push(e);var n=cl(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,Jc(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return el(e)&&nl(e),[2]}}))}))}function el(t){return Wc(t)&&!cl(t).tr()&&t.Fr.length>0}function nl(t){cl(t).start()}function rl(t){return a(this,void 0,void 0,(function(){return s(this,(function(e){return cl(t).Ar(),[2]}))}))}function il(t){return a(this,void 0,void 0,(function(){var e,n,r,i;return s(this,(function(o){for(e=cl(t),n=0,r=t.Fr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]}))}))}function ol(t,e,n){return a(this,void 0,void 0,(function(){var r,i;return s(this,(function(o){switch(o.label){case 0:return r=t.Fr.shift(),i=Fs.from(r,e,n),[4,Zc(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,tl(t)];case 2:return o.sent(),[2]}}))}))}function al(t,e){return a(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return e&&cl(t).pr?[4,function(t,e){return a(this,void 0,void 0,(function(){var n,r;return s(this,(function(i){switch(i.label){case 0:return Xo(r=e.code)&&r!==Cr.ABORTED?(n=t.Fr.shift(),cl(t).sr(),[4,Zc(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,tl(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return el(t)&&nl(t),[2]}}))}))}function sl(t,e){return a(this,void 0,void 0,(function(){var n;return s(this,(function(r){switch(r.label){case 0:return n=jr(t),e?(n.Or.delete(2),[4,Uc(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,Bc(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function ul(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=jr(t);return r.br(),new Pc(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Yc.bind(null,t),Ri:Qc.bind(null,t),_r:$c.bind(null,t)}),t.Mr.push((function(n){return a(e,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Kc(t)?zc(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Xc(t),e.label=3;case 3:return[2]}}))}))}))),t.Ur}function cl(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=jr(t);return r.br(),new Lc(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:rl.bind(null,t),Ri:al.bind(null,t),Ir:il.bind(null,t),Tr:ol.bind(null,t)}),t.Mr.push((function(n){return a(e,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,tl(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.Fr.length>0&&(Dr("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kr}var ll=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xr(Cr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function hl(t,e){if(Rr("AsyncQueue",e+": "+t),Cs(t))return new xr(Cr.UNAVAILABLE,e+": "+t);throw t}var fl=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||hi.comparator(e.key,n.key)}:function(t,e){return hi.comparator(t.key,e.key)},this.keyedMap=ia(),this.sortedSet=new Qo(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),pl=function(){function t(){this.Qr=new Qo(hi.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):Fr():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),dl=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,fl.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ao(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),gl=function(){this.Wr=void 0,this.listeners=[]},vl=function(){this.queries=new Eu((function(t){return so(t)}),ao),this.onlineState="Unknown",this.Gr=new Set};function ml(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o,a,u,c;return s(this,(function(s){switch(s.label){case 0:if(n=jr(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new gl),!i)return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=s.sent(),[3,4];case 3:return u=s.sent(),c=hl(u,"Initialization of query '"+uo(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&_l(n),[2]}}))}))}function yl(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o,a;return s(this,(function(s){return n=jr(t),r=e.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function bl(t,e){for(var n=jr(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&_l(n)}function wl(t,e,n){var r=jr(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function _l(t){t.Gr.forEach((function(t){t.next()}))}var Tl=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new dl(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.so&&n||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=dl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),El=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),Il=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Oa(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Fa(this.R,t.document,!1):Ci.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return ka(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=Sl(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new Il(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(e.get(c)||ua()).add(a);e.set(c,l)}}return e},t.prototype.complete=function(){return a(this,void 0,void 0,(function(){var t,e,n,r,i;return s(this,(function(o){switch(o.label){case 0:return[4,ec(this.localStore,new Il(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,nc(this.localStore,i,e.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Mu(Object.assign({},this.progress),t))]}}))}))}}();function Sl(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var kl=function(t){this.key=t},Al=function(t){this.key=t},Cl=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=ua(),this.mutatedKeys=ua(),this.lo=lo(t),this.fo=new fl(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new pl,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Ji(this.query)&&i.size===this.query.limit?i.last():null,c=Zi(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var l=i.get(t),h=co(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),p=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),d=!1;l&&h?l.data.isEqual(h.data)?f!==p&&(r.track({type:3,doc:h}),d=!0):n.yo(l,h)||(r.track({type:2,doc:h}),d=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),d=!0):l&&!h&&(r.track({type:1,doc:l}),d=!0,(u||c)&&(s=!0)),d&&(h?(a=a.add(h),o=p?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),Ji(this.query)||Zi(this.query))for(;a.size>this.query.limit;){var l=Ji(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fr()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)})),this.po(n);var a=e?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new dl(this.query,t.fo,i,o,t.mutatedKeys,0===s,u,!1),To:a}:{To:a}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new pl,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=ua(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new Al(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new kl(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=ua();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return dl.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),xl=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Ol=function(t){this.key=t,this.bo=!1},Nl=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Eu((function(t){return so(t)}),ao),this.Vo=new Map,this.So=new Set,this.Do=new Qo(hi.comparator),this.Co=new Map,this.No=new ic,this.xo={},this.ko=new Map,this.Fo=hu.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function Dl(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o,a,u;return s(this,(function(s){switch(s.label){case 0:return n=sh(t),(o=n.Po.get(e))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Yu(n.localStore,io(e))];case 2:return a=s.sent(),u=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,Rl(n,e,r,"current"===u)];case 3:i=s.sent(),n.isPrimaryClient&&Vc(n.remoteStore,a),s.label=4;case 4:return[2,i]}}))}))}function Rl(t,e,n,r){return a(this,void 0,void 0,(function(){var i,o,u,c,l,h;return s(this,(function(f){switch(f.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return a(this,void 0,void 0,(function(){var i,o,a;return s(this,(function(s){switch(s.label){case 0:return(i=e.view._o(n)).Nn?[4,$u(t.localStore,e.query,!1).then((function(t){var n=t.documents;return e.view._o(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),a=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(Kl(t,e.targetId,a.To),a.snapshot)]}}))}))}(t,e,n,r)},[4,$u(t.localStore,e,!0)];case 1:return i=f.sent(),o=new Cl(e,i.Bn),u=o._o(i.documents),c=fa.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),l=o.applyChanges(u,t.isPrimaryClient,c),Kl(t,n,l.To),h=new xl(e,n,o),[2,(t.Po.set(e,h),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),l.snapshot)]}}))}))}function Pl(t,e){return a(this,void 0,void 0,(function(){var n,r,i;return s(this,(function(o){switch(o.label){case 0:return n=jr(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!ao(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Qu(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),qc(n.remoteStore,r.targetId),Hl(n,r.targetId)})).catch(vu)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Hl(n,r.targetId),[4,Qu(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Ll(t,e,n){return a(this,void 0,void 0,(function(){var r,i,o,a;return s(this,(function(s){switch(s.label){case 0:r=uh(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=jr(t),i=Hr.now(),o=e.reduce((function(t,e){return t.add(e.key)}),ua());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Mn.pn(t,o).next((function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=Lo(c,n.get(c.key));null!=l&&a.push(new Uo(c.key,l,Ai(l.value.mapValue),Oo.exists(!0)))}return r._n.addMutationBatch(t,i,a,e)}))})).then((function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}}))}(r.localStore,e)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Qo(Vr)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Yl(r,i.changes)];case 3:return s.sent(),[4,tl(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=hl(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function Fl(t,e){return a(this,void 0,void 0,(function(){var n,r;return s(this,(function(i){switch(i.label){case 0:n=jr(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Ku(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(Mr(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Mr(r.bo):t.removedDocuments.size>0&&(Mr(r.bo),r.bo=!1))})),[4,Yl(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,vu(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Ml(t,e,n){var r=jr(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=jr(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&_l(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function jl(t,e,n){return a(this,void 0,void 0,(function(){var r,i,o,a,u,c;return s(this,(function(s){switch(s.label){case 0:return(r=jr(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(a=(a=new Qo(hi.comparator)).insert(o,Ci.newNoDocument(o,zr.min())),u=ua().add(o),c=new ha(zr.min(),new Map,new Zo(Vr),a,u),[4,Fl(r,c)]):[3,2];case 1:return s.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Xl(r),[3,4];case 2:return[4,Qu(r.localStore,e,!1).then((function(){return Hl(r,e,n)})).catch(vu)];case 3:s.sent(),s.label=4;case 4:return[2]}}))}))}function Ul(t,e){return a(this,void 0,void 0,(function(){var n,r,i;return s(this,(function(o){switch(o.label){case 0:n=jr(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Hu(n.localStore,e)];case 2:return i=o.sent(),Gl(n,r,null),ql(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Yl(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,vu(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Bl(t,e,n){return a(this,void 0,void 0,(function(){var r,i;return s(this,(function(o){switch(o.label){case 0:r=jr(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=jr(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n._n.lookupMutationBatch(t,e).next((function(e){return Mr(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}(r.localStore,e)];case 2:return i=o.sent(),Gl(r,e,n),ql(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Yl(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,vu(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Vl(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o,a;return s(this,(function(s){switch(s.label){case 0:Wc((n=jr(t)).remoteStore)||Dr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=jr(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e._n.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.ko.get(r)||[]).push(e),n.ko.set(r,i),[3,4]);case 3:return o=s.sent(),a=hl(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}function ql(t,e){(t.ko.get(e)||[]).forEach((function(t){t.resolve()})),t.ko.delete(e)}function Gl(t,e,n){var r=jr(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Hl(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||zl(t,e)}))}function zl(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(qc(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Xl(t))}function Kl(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof kl?(t.No.addReference(o.key,e),Wl(t,o)):o instanceof Al?(Dr("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||zl(t,o.key)):Fr()}}function Wl(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Dr("SyncEngine","New document in limbo: "+n),t.So.add(r),Xl(t))}function Xl(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new hi(Qr.fromString(e)),r=t.Fo.next();t.Co.set(r,new Ol(n)),t.Do=t.Do.insert(n,r),Vc(t.remoteStore,new Ms(io($i(n.path)),r,2,Ar.o))}}function Yl(t,e,n){return a(this,void 0,void 0,(function(){var r,i,o,u;return s(this,(function(c){switch(c.label){case 0:return r=jr(t),i=[],o=[],u=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,a){u.push(r.Oo(a,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Uu.Pn(a.targetId,t);o.push(e)}})))})),[4,Promise.all(u)]);case 1:return c.sent(),r.vo._r(i),[4,function(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o,a,u,c,l,h;return s(this,(function(s){switch(s.label){case 0:n=jr(t),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Es.forEach(e,(function(e){return Es.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return Es.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return s.sent(),[3,4];case 3:if(!Cs(r=s.sent()))throw r;return Dr("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=o[i],u=a.targetId,a.fromCache||(c=n.kn.get(u),l=c.snapshotVersion,h=c.withLastLimboFreeSnapshotVersion(l),n.kn=n.kn.insert(u,h));return[2]}}))}))}(r.localStore,o)];case 2:c.sent(),c.label=3;case 3:return[2]}}))}))}function Ql(t,e){return a(this,void 0,void 0,(function(){var n,r;return s(this,(function(i){switch(i.label){case 0:return(n=jr(t)).currentUser.isEqual(e)?[3,3]:(Dr("SyncEngine","User change. New user:",e.toKey()),[4,Gu(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.ko.forEach((function(t){t.forEach((function(t){t.reject(new xr(Cr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.ko.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Yl(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function $l(t,e){var n=jr(t),r=n.Co.get(e);if(r&&r.bo)return ua().add(r.key);var i=ua(),o=n.Vo.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function Jl(t,e){return a(this,void 0,void 0,(function(){var n,r,i;return s(this,(function(o){switch(o.label){case 0:return[4,$u((n=jr(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Kl(n,e.targetId,i.To),i)]}}))}))}function Zl(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){return[2,Zu((e=jr(t)).localStore).then((function(t){return Yl(e,t)}))]}))}))}function th(t,e,n,r){return a(this,void 0,void 0,(function(){var i,o;return s(this,(function(a){switch(a.label){case 0:return[4,function(t,e){var n=jr(t),r=jr(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jt(t,e).next((function(e){return e?n.Mn.pn(t,e):Es.resolve(null)}))}))}((i=jr(t)).localStore,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,tl(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Gl(i,e,r||null),ql(i,e),function(t,e){jr(jr(t)._n).Gt(e)}(i.localStore,e)):Fr(),a.label=4;case 4:return[4,Yl(i,o)];case 5:return a.sent(),[3,7];case 6:Dr("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}}))}))}function eh(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o,a,u,c,l;return s(this,(function(s){switch(s.label){case 0:return sh(n=jr(t)),uh(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,nh(n,r.toArray())]);case 1:return i=s.sent(),n.$o=!0,[4,sl(n.remoteStore,!0)];case 2:for(s.sent(),o=0,a=i;o<a.length;o++)u=a[o],Vc(n.remoteStore,u);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(c=[],l=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?c.push(e):l=l.then((function(){return Hl(n,e),Qu(n.localStore,e,!0)})),qc(n.remoteStore,e)})),[4,l]);case 4:return s.sent(),[4,nh(n,c)];case 5:return s.sent(),function(t){var e=jr(t);e.Co.forEach((function(t,n){qc(e.remoteStore,n)})),e.No.ts(),e.Co=new Map,e.Do=new Qo(hi.comparator)}(n),n.$o=!1,[4,sl(n.remoteStore,!1)];case 6:s.sent(),s.label=7;case 7:return[2]}}))}))}function nh(t,e,n){return a(this,void 0,void 0,(function(){var n,r,i,o,a,u,c,l,h,f,p,d,g,v;return s(this,(function(s){switch(s.label){case 0:n=jr(t),r=[],i=[],o=0,a=e,s.label=1;case 1:return o<a.length?(u=a[o],c=void 0,(l=n.Vo.get(u))&&0!==l.length?[4,Yu(n.localStore,io(l[0]))]:[3,7]):[3,13];case 2:c=s.sent(),h=0,f=l,s.label=3;case 3:return h<f.length?(p=f[h],d=n.Po.get(p),[4,Jl(n,d)]):[3,6];case 4:(g=s.sent()).snapshot&&i.push(g.snapshot),s.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,Ju(n.localStore,u)];case 8:return v=s.sent(),[4,Yu(n.localStore,v)];case 9:return c=s.sent(),[4,Rl(n,rh(v),u,!1)];case 10:s.sent(),s.label=11;case 11:r.push(c),s.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function rh(t){return Qi(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function ih(t){var e=jr(t);return jr(jr(e.localStore).persistence).fn()}function oh(t,e,n,r){return a(this,void 0,void 0,(function(){var i,o,a;return s(this,(function(s){switch(s.label){case 0:return(i=jr(t)).$o?(Dr("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Zu(i.localStore)];case 3:return o=s.sent(),a=ha.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Yl(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Qu(i.localStore,e,!0)];case 6:return s.sent(),Hl(i,e,r),[3,8];case 7:Fr(),s.label=8;case 8:return[2]}}))}))}function ah(t,e,n){return a(this,void 0,void 0,(function(){var r,i,o,a,u,c,l,h,f,p;return s(this,(function(d){switch(d.label){case 0:if(!(r=sh(t)).$o)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(Dr("SyncEngine","Adding an already active target "+a),[3,5]):[4,Ju(r.localStore,a)]):[3,6];case 2:return u=d.sent(),[4,Yu(r.localStore,u)];case 3:return c=d.sent(),[4,Rl(r,rh(u),c.targetId,!1)];case 4:d.sent(),Vc(r.remoteStore,c),d.label=5;case 5:return i++,[3,1];case 6:l=function(t){return s(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Qu(r.localStore,t,!1).then((function(){qc(r.remoteStore,t),Hl(r,t)})).catch(vu)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,f=n,d.label=7;case 7:return h<f.length?(p=f[h],[5,l(p)]):[3,10];case 8:d.sent(),d.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function sh(t){var e=jr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Fl.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$l.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jl.bind(null,e),e.vo._r=bl.bind(null,e.eventManager),e.vo.Mo=wl.bind(null,e.eventManager),e}function uh(t){var e=jr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ul.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Bl.bind(null,e),e}var ch=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return a(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return this.R=Nc(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return qu(this.persistence,new Bu,t.initialUser,this.R)},t.prototype.qo=function(t){return new lc(fc.bs,this.R)},t.prototype.Bo=function(t){return new Ec},t.prototype.terminate=function(){return a(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),lh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return o(e,t),e.prototype.initialize=function(e){return a(this,void 0,void 0,(function(){var n=this;return s(this,(function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),[4,tc(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,e)];case 3:return r.sent(),[4,uh(this.Qo.syncEngine)];case 4:return r.sent(),[4,tl(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return r.sent(),[2]}}))}))},e.prototype.Ko=function(t){return qu(this.persistence,new Bu,t.initialUser,this.R)},e.prototype.Uo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new bu(e,t.asyncQueue)},e.prototype.qo=function(t){var e=Fu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ru.withCacheSize(this.cacheSizeBytes):ru.DEFAULT;return new Ru(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,xc(),Oc(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Ec},e}(ch),hh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return o(e,t),e.prototype.initialize=function(e){return a(this,void 0,void 0,(function(){var n,r=this;return s(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Tc?(this.sharedClientState.syncEngine={ui:th.bind(null,n),ai:oh.bind(null,n),hi:ah.bind(null,n),fn:ih.bind(null,n),ci:Zl.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return a(r,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,eh(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=xc();if(!Tc.yt(e))throw new xr(Cr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Fu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Tc(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(lh),fh=function(){function t(){}return t.prototype.initialize=function(t,e){return a(this,void 0,void 0,(function(){var n=this;return s(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Ml(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Ql.bind(null,this.syncEngine),[4,sl(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new vl},t.prototype.createDatastore=function(t){var e,n=Nc(t.databaseInfo.databaseId),r=(e=t.databaseInfo,new Cc(e));return function(t,e,n){return new Fc(t,e,n)}(t.credentials,r,n)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,a=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Ml(a.syncEngine,t,0)},o=Sc.yt()?new Sc:new Ic,new jc(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,a){var s=new Nl(t,e,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return e=jr(t),Dr("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,Bc(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}();var ph=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),dh=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Ts,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return a(this,void 0,void 0,(function(){return s(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Lo=function(){return a(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}}))}))},t.prototype.Ho=function(){return a(this,void 0,void 0,(function(){var t,e,n,r;return s(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new El(JSON.parse(r),t.length+n)]}}))}))},t.prototype.Zo=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.Jo=function(){return a(this,void 0,void 0,(function(){var t,e;return s(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.Xo=function(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return a(this,void 0,void 0,(function(){var t,e;return s(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return a(this,void 0,void 0,(function(){var e,n=this;return s(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new xr(Cr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o,a,u;return s(this,(function(s){switch(s.label){case 0:return n=jr(t),r=Ra(n.R)+"/documents",i={documents:e.map((function(t){return xa(n.R,t)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=s.sent(),a=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Mr(!!e.found),e.found.name,e.found.updateTime;var n=Oa(t,e.found.name),r=ka(e.found.updateTime),i=new ki({mapValue:{fields:e.found.fields}});return Ci.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Mr(!!e.missing),Mr(!!e.readTime);var n=Oa(t,e.missing),r=ka(e.readTime);return Ci.newNoDocument(n,r)}(t,e):Fr()}(n.R,t);a.set(e.key.toString(),e)})),u=[],[2,(e.forEach((function(t){var e=a.get(t.toString());Mr(!!e),u.push(e)})),u)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new zo(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return a(this,void 0,void 0,(function(){var t,e=this;return s(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=hi.fromPath(n);e.mutations.push(new Ko(r,e.precondition(r)))})),[4,function(t,e){return a(this,void 0,void 0,(function(){var n,r,i;return s(this,(function(o){switch(o.label){case 0:return n=jr(t),r=Ra(n.R)+"/documents",i={writes:e.map((function(t){return Ma(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Fr();e=zr.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new xr(Cr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Oo.updateTime(e):Oo.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(zr.min()))throw new xr(Cr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Oo.updateTime(e)}return Oo.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),gh=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Dc(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return a(t,void 0,void 0,(function(){var t,e,n=this;return s(this,(function(r){return t=new dh(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!ui(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Xo(e)}return!1},t}(),vh=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=pc.UNAUTHENTICATED,this.clientId=Br.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,(function(t){return a(r,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return Dr("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}}))}))}))}return t.prototype.getConfiguration=function(){return a(this,void 0,void 0,(function(){return s(this,(function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new xr(Cr.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return a(t,void 0,void 0,(function(){var t,n;return s(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=hl(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function mh(t,e){return a(this,void 0,void 0,(function(){var n,r,i=this;return s(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Dr("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(t){return a(i,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,Gu(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}}))}))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function yh(t,e){return a(this,void 0,void 0,(function(){var n,r;return s(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,bh(t)];case 1:return n=i.sent(),Dr("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(t){return function(t,e){return a(this,void 0,void 0,(function(){var n,r;return s(this,(function(i){switch(i.label){case 0:return(n=jr(t)).asyncQueue.verifyOperationInProgress(),Dr("RemoteStore","RemoteStore received new credentials"),r=Wc(n),n.Or.add(3),[4,Bc(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,Uc(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,t)})),t.onlineComponents=e,[2]}}))}))}function bh(t){return a(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Dr("FirestoreClient","Using default OfflineComponentProvider"),[4,mh(t,new ch)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function wh(t){return a(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Dr("FirestoreClient","Using default OnlineComponentProvider"),[4,yh(t,new fh)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function _h(t){return bh(t).then((function(t){return t.persistence}))}function Th(t){return bh(t).then((function(t){return t.localStore}))}function Eh(t){return wh(t).then((function(t){return t.remoteStore}))}function Ih(t){return wh(t).then((function(t){return t.syncEngine}))}function Sh(t){return a(this,void 0,void 0,(function(){var e,n;return s(this,(function(r){switch(r.label){case 0:return[4,wh(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Dl.bind(null,e.syncEngine),n.onUnlisten=Pl.bind(null,e.syncEngine),n)]}}))}))}function kh(t,e,n){var r=this;void 0===n&&(n={});var i=new Ts;return t.asyncQueue.enqueueAndForget((function(){return a(r,void 0,void 0,(function(){var r;return s(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new ph({next:function(o){e.enqueueAndForget((function(){return yl(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new xr(Cr.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new xr(Cr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new Tl($i(n.path),o,{includeMetadataChanges:!0,so:!0});return ml(t,a)},[4,Sh(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function Ah(t,e,n){var r=this;void 0===n&&(n={});var i=new Ts;return t.asyncQueue.enqueueAndForget((function(){return a(r,void 0,void 0,(function(){var r;return s(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new ph({next:function(n){e.enqueueAndForget((function(){return yl(t,a)})),n.fromCache&&"server"===r.source?i.reject(new xr(Cr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new Tl(n,o,{includeMetadataChanges:!0,so:!0});return ml(t,a)},[4,Sh(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var Ch=function(t,e,n,r,i,o,a,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},xh=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Oh=new Map,Nh=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Dh=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable((function(){return e(pc.UNAUTHENTICATED)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Rh=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable((function(){return e(n.token.user)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Ph=function(){function t(t){var e=this;this.currentUser=pc.UNAUTHENTICATED,this.oc=new Ts,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable((function(){return e.changeListener(e.currentUser)}))};var n=function(t){Dr("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit((function(t){return n(t)})),setTimeout((function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(Dr("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}}),0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(Dr("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Mr("string"==typeof n.accessToken),new Nh(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable((function(){return a(n,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}}))}))}))},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Mr(null===t||"string"==typeof t),new pc(t)},t}(),Lh=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=pc.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),Fh=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new Lh(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable((function(){return e(pc.FIRST_PARTY)}))},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Mh(t,e,n){if(!n)throw new xr(Cr.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function jh(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new xr(Cr.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Uh(t,e,n,r){if(!0===e&&!0===r)throw new xr(Cr.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Bh(t){if(!hi.isDocumentKey(t))throw new xr(Cr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Vh(t){if(hi.isDocumentKey(t))throw new xr(Cr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function qh(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Fr()}function Gh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xr(Cr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=qh(t);throw new xr(Cr.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Hh(t,e){if(e<=0)throw new xr(Cr.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var zh=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new xr(Cr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new xr(Cr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Uh("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),Kh=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zh({}),this._settingsFrozen=!1,t instanceof xh?(this._databaseId=t,this._credentials=new Dh):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new xr(Cr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xh(t.options.projectId)}(t),this._credentials=new Ph(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new xr(Cr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new xr(Cr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zh(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Dh;switch(t.type){case"gapi":var e=t.client;return Mr(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Fh(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new xr(Cr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return this,(t=Oh.get(this))&&(Dr("ComponentProvider","Removing Datastore"),Oh.delete(this),t.terminate()),Promise.resolve();var t},t}(),Wh=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Yh(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Xh=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Yh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,$i(r))||this)._path=r,i.type="collection",i}return o(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Wh(this.firestore,null,new hi(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Xh);function Qh(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,c.m9)(t),Mh("collection","path",e),t instanceof Kh)return Vh(n=Qr.fromString.apply(Qr,u([e],r))),new Yh(t,null,n);if(!(t instanceof Wh||t instanceof Yh))throw new xr(Cr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Vh(n=Qr.fromString.apply(Qr,u([t.path],r)).child(Qr.fromString(e))),new Yh(t.firestore,null,n)}function $h(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,c.m9)(t),1===arguments.length&&(e=Br.u()),Mh("doc","path",e),t instanceof Kh)return Bh(n=Qr.fromString.apply(Qr,u([e],r))),new Wh(t,null,new hi(n));if(!(t instanceof Wh||t instanceof Yh))throw new xr(Cr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Bh(n=t._path.child(Qr.fromString.apply(Qr,u([e],r)))),new Wh(t.firestore,t instanceof Yh?t.converter:null,new hi(n))}function Jh(t,e){return t=(0,c.m9)(t),e=(0,c.m9)(e),(t instanceof Wh||t instanceof Yh)&&(e instanceof Wh||e instanceof Yh)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Zh(t,e){return t=(0,c.m9)(t),e=(0,c.m9)(e),t instanceof Xh&&e instanceof Xh&&t.firestore===e.firestore&&ao(t._query,e._query)&&t.converter===e.converter}var tf=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Dc(this,"async_queue_retry"),this.Ic=function(){var e=Oc();e&&Dr("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Oc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=Oc();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new Ts;return this.Rc((function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.wc.push(t),e.bc()}))},t.prototype.bc=function(){return a(this,void 0,void 0,(function(){var t,e=this;return s(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Cs(t=n.sent()))throw t;return Dr("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return e.bc()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Rc=function(t){var e=this,n=this.dc.then((function(){return e.gc=!0,t().catch((function(t){throw e.yc=t,e.gc=!1,Rr("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.gc=!1,t}))}));return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=ll.createAndSchedule(this,t,e,n,(function(t){return r.vc(t)}));return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&Fr()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return a(this,void 0,void 0,(function(){var t;return s(this,(function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then((function(){e.mc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()}))},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function ef(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Ts,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var nf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new tf,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return o(e,t),e.prototype._terminate=function(){return this._firestoreClient||of(this),this._firestoreClient.terminate()},e}(Kh);function rf(t){return t._firestoreClient||of(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function of(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Ch(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new vh(t._credentials,t._queue,r)}function af(t,e,n){var r=this,i=new Ts;return t.asyncQueue.enqueue((function(){return a(r,void 0,void 0,(function(){var r;return s(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,mh(t,n)];case 1:return o.sent(),[4,yh(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Cr.FAILED_PRECONDITION||t.code===Cr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function sf(t){if(t._initialized||t._terminated)throw new xr(Cr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var uf=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new xr(Cr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jr(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),cf=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(ti.fromBase64String(e))}catch(e){throw new xr(Cr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(ti.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),lf=function(t){this._methodName=t},hf=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new xr(Cr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new xr(Cr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Vr(this._lat,t._lat)||Vr(this._long,t._long)},t}(),ff=/^__.*__$/,pf=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Uo(t,this.data,this.fieldMask,e,this.fieldTransforms):new jo(t,this.data,e,this.fieldTransforms)},t}(),df=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Uo(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function gf(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fr()}}var vf=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(t){return Ff(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(gf(this.Nc)&&ff.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),mf=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Nc(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new vf({Nc:t,methodName:e,qc:n,path:Jr.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function yf(t){var e=t._freezeSettings(),n=Nc(t._databaseId);return new mf(t._databaseId,!!e.ignoreUndefinedProperties,n)}function bf(t,e,n,r,i,o){void 0===o&&(o={});var a=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);Df("Data must be an object, but it was:",a,r);var s,u,c=Of(r,a);if(o.merge)s=new Zr(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var p=Rf(e,f[h],n);if(!a.contains(p))throw new xr(Cr.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");Mf(l,p)||l.push(p)}s=new Zr(l),u=a.fieldTransforms.filter((function(t){return s.covers(t.field)}))}else s=null,u=a.fieldTransforms;return new pf(new ki(c),s,u)}var wf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw 1===t.Nc?t.Lc(this._methodName+"() can only appear at the top level of your update data"):t.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(lf);function _f(t,e,n){return new vf({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Tf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype._toFieldTransform=function(t){return new Co(t.path,new wo)},e.prototype.isEqual=function(t){return t instanceof e},e}(lf),Ef=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return o(e,t),e.prototype._toFieldTransform=function(t){var e=_f(this,t,!0),n=this.Kc.map((function(t){return xf(t,e)})),r=new _o(n);return new Co(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(lf),If=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return o(e,t),e.prototype._toFieldTransform=function(t){var e=_f(this,t,!0),n=this.Kc.map((function(t){return xf(t,e)})),r=new Eo(n);return new Co(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(lf),Sf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return o(e,t),e.prototype._toFieldTransform=function(t){var e=new So(t.R,go(t.R,this.Qc));return new Co(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(lf);function kf(t,e,n,r){var i=t.Uc(1,e,n);Df("Data must be an object, but it was:",i,r);var o=[],a=ki.empty();Wr(r,(function(t,r){var s=Lf(e,t,n);r=(0,c.m9)(r);var u=i.Oc(s);if(r instanceof wf)o.push(s);else{var l=xf(r,u);null!=l&&(o.push(s),a.set(s,l))}}));var s=new Zr(o);return new df(a,s,i.fieldTransforms)}function Af(t,e,n,r,i,o){var a=t.Uc(1,e,n),s=[Rf(e,r,n)],u=[i];if(o.length%2!=0)throw new xr(Cr.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<o.length;l+=2)s.push(Rf(e,o[l])),u.push(o[l+1]);for(var h=[],f=ki.empty(),p=s.length-1;p>=0;--p)if(!Mf(h,s[p])){var d=s[p],g=u[p];g=(0,c.m9)(g);var v=a.Oc(d);if(g instanceof wf)h.push(d);else{var m=xf(g,v);null!=m&&(h.push(d),f.set(d,m))}}var y=new Zr(h);return new df(f,y,a.fieldTransforms)}function Cf(t,e,n,r){return void 0===r&&(r=!1),xf(n,t.Uc(r?4:3,e))}function xf(t,e){if(Nf(t=(0,c.m9)(t)))return Df("Unsupported field value:",e,t),Of(t,e);if(t instanceof lf)return function(t,e){if(!gf(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=xf(o[i],e.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,c.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return go(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Hr.fromDate(t);return{timestampValue:Ea(e.R,n)}}if(t instanceof Hr)return n=new Hr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Ea(e.R,n)};if(t instanceof hf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof cf)return{bytesValue:Ia(e.R,t._byteString)};if(t instanceof Wh){n=e.databaseId;var r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Aa(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+qh(t))}(t,e)}function Of(t,e){var n={};return Xr(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wr(t,(function(t,r){var i=xf(r,e.kc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Nf(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Hr||t instanceof hf||t instanceof cf||t instanceof Wh||t instanceof lf)}function Df(t,e,n){if(!Nf(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=qh(n);throw"an object"===r?e.Lc(t+" a custom object"):e.Lc(t+" "+r)}}function Rf(t,e,n){if((e=(0,c.m9)(e))instanceof uf)return e._internalPath;if("string"==typeof e)return Lf(t,e);throw Ff("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Pf=new RegExp("[~\\*/\\[\\]]");function Lf(t,e,n){if(e.search(Pf)>=0)throw Ff("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(uf.bind.apply(uf,u([void 0],e.split(".")))))._internalPath}catch(Up){throw Ff("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Ff(t,e,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new xr(Cr.INVALID_ARGUMENT,(s+=". ")+t+u)}function Mf(t,e){return t.some((function(t){return t.isEqual(e)}))}var jf=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Wh(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Uf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Bf("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Uf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(jf);function Bf(t,e){return"string"==typeof e?Lf(t,e):e instanceof uf?e._internalPath:e._delegate._internalPath}var Vf=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),qf=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this)._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return o(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Gf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Bf("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(jf),Gf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(qf),Hf=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Vf(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new Gf(n._firestore,n._userDataWriter,r.key,r,new Vf(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new xr(Cr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){return{type:"added",doc:new Gf(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Vf(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Gf(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Vf(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:zf(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function zf(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fr()}}function Kf(t,e){return t instanceof qf&&e instanceof qf?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Hf&&e instanceof Hf&&t._firestore===e._firestore&&Zh(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Wf(t){if(Zi(t)&&0===t.explicitOrderBy.length)throw new xr(Cr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Xf=function(){};function Yf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Qf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return o(e,t),e.prototype._apply=function(t){var e=yf(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new xr(Cr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){rp(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var h=l[c];u.push(np(r,t,h))}s={arrayValue:{values:u}}}else s=np(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||rp(a,o),s=Cf(n,"where",a,"in"===o||"not-in"===o);var f=Pi.create(i,o,s);return function(t,e){if(e.g()){var n=eo(t);if(null!==n&&!n.isEqual(e.field))throw new xr(Cr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=to(t);null!==r&&ip(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new xr(Cr.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new xr(Cr.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Xh(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Yi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Xf),$f=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return o(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new xr(Cr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new xr(Cr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new zi(e,n);return function(t,e){if(null===to(t)){var n=eo(t);null!==n&&ip(t,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new Xh(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Yi(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Xf),Jf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return o(e,t),e.prototype._apply=function(t){return new Xh(t.firestore,t.converter,oo(t._query,this.Hc,this.Jc))},e}(Xf),Zf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return o(e,t),e.prototype._apply=function(t){var e=ep(t,this.type,this.Yc,this.Xc);return new Xh(t.firestore,t.converter,function(t,e){return new Yi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Xf),tp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return o(e,t),e.prototype._apply=function(t){var e=ep(t,this.type,this.Yc,this.Xc);return new Xh(t.firestore,t.converter,function(t,e){return new Yi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Xf);function ep(t,e,n,r){if(n[0]=(0,c.m9)(n[0]),n[0]instanceof jf)return function(t,e,n,r,i){if(!r)throw new xr(Cr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=ro(t);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(bi(e,r.key));else{var c=r.data.field(u.field);if(oi(c))throw new xr(Cr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new xr(Cr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Gi(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=yf(t.firestore);return function(t,e,n,r,i,o){var a=t.explicitOrderBy;if(i.length>a.length)throw new xr(Cr.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new xr(Cr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!no(t)&&-1!==c.indexOf("/"))throw new xr(Cr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Qr.fromString(c));if(!hi.isDocumentKey(l))throw new xr(Cr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new hi(l);s.push(bi(e,h))}else{var f=Cf(n,r,c);s.push(f)}}return new Gi(s,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function np(t,e,n){if("string"==typeof(n=(0,c.m9)(n))){if(""===n)throw new xr(Cr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!no(e)&&-1!==n.indexOf("/"))throw new xr(Cr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Qr.fromString(n));if(!hi.isDocumentKey(r))throw new xr(Cr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return bi(t,new hi(r))}if(n instanceof Wh)return bi(t,n._key);throw new xr(Cr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+qh(n)+".")}function rp(t,e){if(!Array.isArray(t)||0===t.length)throw new xr(Cr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new xr(Cr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function ip(t,e,n){if(!n.isEqual(e))throw new xr(Cr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var op=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),fi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ri(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ii(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Fr()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Wr(t.fields,(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new hf(ri(t.latitude),ri(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=ai(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(si(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=ni(t);return new Hr(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Qr.fromString(t);Mr(Ja(n));var r=new xh(n.get(1),n.get(3)),i=new hi(n.popFirst(5));return r.isEqual(e)||Rr("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function ap(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var sp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return o(e,t),e.prototype.convertBytes=function(t){return new cf(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Wh(this.firestore,null,e)},e}(op),up=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=yf(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=cp(t,this._firestore),i=ap(r.converter,e,n),o=bf(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Oo.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=cp(t,this._firestore);return o="string"==typeof(e=(0,c.m9)(e))||e instanceof uf?Af(this._dataReader,"WriteBatch.update",a._key,e,n,r):kf(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(o.toMutation(a._key,Oo.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=cp(t,this._firestore);return this._mutations=this._mutations.concat(new zo(e._key,Oo.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new xr(Cr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function cp(t,e){if((t=(0,c.m9)(t)).firestore!==e)throw new xr(Cr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var lp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return o(e,t),e.prototype.convertBytes=function(t){return new cf(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Wh(this.firestore,null,e)},e}(op);function hp(t,e,n){t=Gh(t,Wh);var r=Gh(t.firestore,nf),i=ap(t.converter,e,n);return dp(r,[bf(yf(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Oo.none())])}function fp(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Gh(t,Wh);var o=Gh(t.firestore,nf),a=yf(o);return dp(o,[("string"==typeof(e=(0,c.m9)(e))||e instanceof uf?Af(a,"updateDoc",t._key,e,n,r):kf(a,"updateDoc",t._key,e)).toMutation(t._key,Oo.exists(!0))])}function pp(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=(0,c.m9)(t);var u={includeMetadataChanges:!1},l=0;"object"!=typeof i[l]||ef(i[l])||(u=i[l],l++);var h,f,p,d={includeMetadataChanges:u.includeMetadataChanges};if(ef(i[l])){var g=i[l];i[l]=null===(e=g.next)||void 0===e?void 0:e.bind(g),i[l+1]=null===(n=g.error)||void 0===n?void 0:n.bind(g),i[l+2]=null===(r=g.complete)||void 0===r?void 0:r.bind(g)}if(t instanceof Wh)f=Gh(t.firestore,nf),p=$i(t._key.path),h={next:function(e){i[l]&&i[l](gp(f,t,e))},error:i[l+1],complete:i[l+2]};else{var v=Gh(t,Xh);f=Gh(v.firestore,nf),p=v._query;var m=new lp(f);h={next:function(t){i[l]&&i[l](new Hf(f,m,v,t))},error:i[l+1],complete:i[l+2]},Wf(t._query)}return function(t,e,n,r){var i=this,o=new ph(r),u=new Tl(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return a(i,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return e=ml,[4,Sh(t)];case 1:return[2,e.apply(void 0,[n.sent(),u])]}}))}))})),function(){o.Wo(),t.asyncQueue.enqueueAndForget((function(){return a(i,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return e=yl,[4,Sh(t)];case 1:return[2,e.apply(void 0,[n.sent(),u])]}}))}))}))}}(rf(f),p,d,h)}function dp(t,e){return function(t,e){var n=this,r=new Ts;return t.asyncQueue.enqueueAndForget((function(){return a(n,void 0,void 0,(function(){var n;return s(this,(function(i){switch(i.label){case 0:return n=Ll,[4,Ih(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(rf(t),e)}function gp(t,e,n){var r=n.docs.get(e._key),i=new lp(t);return new qf(t,i,e._key,r,new Vf(n.hasPendingWrites,n.fromCache),e.converter)}var vp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return o(e,t),e.prototype.get=function(e){var n=this,r=cp(e,this._firestore),i=new lp(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new qf(n._firestore,i,r._key,t._document,new Vf(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=yf(t)}return t.prototype.get=function(t){var e=this,n=cp(t,this._firestore),r=new sp(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return Fr();var i=t[0];if(i.isFoundDocument())return new jf(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new jf(e._firestore,r,n._key,null,n.converter);throw Fr()}))},t.prototype.set=function(t,e,n){var r=cp(t,this._firestore),i=ap(r.converter,e,n),o=bf(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=cp(t,this._firestore);return o="string"==typeof(e=(0,c.m9)(e))||e instanceof uf?Af(this._dataReader,"Transaction.update",a._key,e,n,r):kf(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,o),this},t.prototype.delete=function(t){var e=cp(t,this._firestore);return this._transaction.delete(e._key),this},t}());function mp(){if("undefined"==typeof Uint8Array)throw new xr(Cr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function yp(){if("undefined"==typeof atob)throw new xr(Cr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var bp=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return yp(),new t(cf.fromBase64String(e))},t.fromUint8Array=function(e){return mp(),new t(cf.fromUint8Array(e))},t.prototype.toBase64=function(){return yp(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return mp(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),wp=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){sf(t=Gh(t,nf));var n=rf(t),r=t._freezeSettings(),i=new fh;return af(n,i,new lh(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){sf(t=Gh(t,nf));var e=rf(t),n=t._freezeSettings(),r=new fh;return af(e,r,new hh(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new xr(Cr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Ts;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return a(e,void 0,void 0,(function(){var e;return s(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return Ss.yt()?(e=t+"main",[4,Ss.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Fu(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),_p=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof xh||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||Pr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){var i;void 0===r&&(r={});var o=(t=Gh(t,Kh))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&Pr("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:e+":"+n,ssl:!1})),r.mockUserToken){var a,s;if("string"==typeof r.mockUserToken)a=r.mockUserToken,s=pc.MOCK_USER;else{a=(0,c.Sg)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);var u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new xr(Cr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new pc(u)}t._credentials=new Rh(new Nh(a,s))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return a(e,void 0,void 0,(function(){var e,n;return s(this,(function(r){switch(r.label){case 0:return[4,_h(t)];case 1:return e=r.sent(),[4,Eh(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=jr(t);return e.Or.delete(0),Uc(e)}(n))]}}))}))}))}(rf(Gh(this._delegate,nf)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return a(e,void 0,void 0,(function(){var e,n;return s(this,(function(r){switch(r.label){case 0:return[4,_h(t)];case 1:return e=r.sent(),[4,Eh(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return(e=jr(t)).Or.add(0),[4,Bc(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(rf(Gh(this._delegate,nf)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Uh("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Ts;return t.asyncQueue.enqueueAndForget((function(){return a(e,void 0,void 0,(function(){var e;return s(this,(function(r){switch(r.label){case 0:return e=Vl,[4,Ih(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(rf(Gh(this._delegate,nf)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new ph(e);return t.asyncQueue.enqueueAndForget((function(){return a(n,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return e=function(t,e){jr(t).Gr.add(e),e.next()},[4,Sh(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return a(n,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return e=function(t,e){jr(t).Gr.delete(e)},[4,Sh(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(rf(t=Gh(t,nf)),ef(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new xr(Cr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Lp(this,Qh(this._delegate,t))}catch(t){throw Ap(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new kp(this,$h(this._delegate,t))}catch(t){throw Ap(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Dp(this,function(t,e){if(t=Gh(t,Kh),Mh("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new xr(Cr.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Xh(t,null,function(t){return new Yi(Qr.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Ap(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Ts;return t.asyncQueue.enqueueAndForget((function(){return a(n,void 0,void 0,(function(){var n;return s(this,(function(i){switch(i.label){case 0:return[4,function(t){return wh(t).then((function(t){return t.datastore}))}(t)];case 1:return n=i.sent(),new gh(t.asyncQueue,n,e,r).run(),[2]}}))}))})),r.promise}(rf(t),(function(n){return e(new vp(t,n))}))}(this._delegate,(function(n){return t(new Ep(e,n))}))},t.prototype.batch=function(){var t=this;return rf(this._delegate),new Ip(new up(this._delegate,(function(e){return dp(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new xr(Cr.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new xr(Cr.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Tp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return o(e,t),e.prototype.convertBytes=function(t){return new bp(new cf(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return kp.eu(e,this.firestore,null)},e}(op);var Ep=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Tp(t)}return t.prototype.get=function(t){var e=this,n=Fp(t);return this._delegate.get(n).then((function(t){return new Op(e._firestore,new qf(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=Fp(t);return n?(jh("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Fp(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,u([a,e,n],i)),this},t.prototype.delete=function(t){var e=Fp(t);return this._delegate.delete(e),this},t}(),Ip=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Fp(t);return n?(jh("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Fp(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,u([a,e,n],i)),this},t.prototype.delete=function(t){var e=Fp(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Sp=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Gf(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Np(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new Tp(e),n),i.set(n,o)),o},t}();Sp.su=new WeakMap;var kp=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Tp(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new xr(Cr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Wh(n._delegate,r,new hi(e)))},t.eu=function(e,n,r){return new t(n,new Wh(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Lp(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Lp(this.firestore,Qh(this._delegate,t))}catch(t){throw Ap(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=(0,c.m9)(t))instanceof Wh&&Jh(this._delegate,t)},t.prototype.set=function(t,e){e=jh("DocumentReference.set",e);try{return e?hp(this._delegate,t,e):hp(this._delegate,t)}catch(t){throw Ap(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?fp(this._delegate,t):fp.apply(void 0,u([this._delegate,t,e],n))}catch(t){throw Ap(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return dp(Gh((t=this._delegate).firestore,nf),[new zo(t._key,Oo.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Cp(e),i=xp(e,(function(e){return new Op(t.firestore,new qf(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return pp(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Gh(t,Wh);var e=Gh(t.firestore,nf),n=rf(e),r=new lp(e);return function(t,e){var n=this,r=new Ts;return t.asyncQueue.enqueueAndForget((function(){return a(n,void 0,void 0,(function(){var n;return s(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return a(this,void 0,void 0,(function(){var r,i;return s(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=jr(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Mn.mn(t,e)}))}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new xr(Cr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=hl(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Th(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new qf(e,r,t._key,n,new Vf(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Gh(t,Wh);var e=Gh(t.firestore,nf);return kh(rf(e),t._key,{source:"server"}).then((function(n){return gp(e,t,n)}))}(this._delegate):function(t){t=Gh(t,Wh);var e=Gh(t.firestore,nf);return kh(rf(e),t._key).then((function(n){return gp(e,t,n)}))}(this._delegate)).then((function(t){return new Op(e.firestore,new qf(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Sp.nu(this.firestore,e)):this._delegate.withConverter(null))},t}();function Ap(t,e,n){return t.message=t.message.replace(e,n),t}function Cp(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!ef(r))return r}return{}}function xp(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=ef(t[0])?t[0]:ef(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Op=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new kp(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Kf(this._delegate,t._delegate)},t}(),Np=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Op),Dp=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Tp(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Yf(this._delegate,function(t,e,n){var r=e,i=Bf("where",t);return new Qf(i,r,n)}(e,n,r)))}catch(e){throw Ap(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Yf(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Bf("orderBy",t);return new $f(r,n)}(e,n)))}catch(e){throw Ap(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Yf(this._delegate,function(t){return Hh("limit",t),new Jf("limit",t,"F")}(e)))}catch(e){throw Ap(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Yf(this._delegate,function(t){return Hh("limitToLast",t),new Jf("limitToLast",t,"L")}(e)))}catch(e){throw Ap(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Yf(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Zf("startAt",t,!0)}.apply(void 0,e)))}catch(e){throw Ap(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Yf(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Zf("startAfter",t,!1)}.apply(void 0,e)))}catch(e){throw Ap(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Yf(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new tp("endBefore",t,!0)}.apply(void 0,e)))}catch(e){throw Ap(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Yf(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new tp("endAt",t,!1)}.apply(void 0,e)))}catch(e){throw Ap(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Zh(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Gh(t,Xh);var e=Gh(t.firestore,nf),n=rf(e),r=new lp(e);return function(t,e){var n=this,r=new Ts;return t.asyncQueue.enqueueAndForget((function(){return a(n,void 0,void 0,(function(){var n;return s(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return a(this,void 0,void 0,(function(){var r,i,o,a,u;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,$u(t,e,!0)];case 1:return u=s.sent(),r=new Cl(e,u.Bn),i=r._o(u.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=s.sent(),u=hl(a,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))},[4,Th(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new Hf(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Gh(t,Xh);var e=Gh(t.firestore,nf),n=rf(e),r=new lp(e);return Ah(n,t._query,{source:"server"}).then((function(n){return new Hf(e,r,t,n)}))}(this._delegate):function(t){t=Gh(t,Xh);var e=Gh(t.firestore,nf),n=rf(e),r=new lp(e);return Wf(t._query),Ah(n,t._query).then((function(n){return new Hf(e,r,t,n)}))}(this._delegate)).then((function(t){return new Pp(e.firestore,new Hf(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Cp(e),i=xp(e,(function(e){return new Pp(t.firestore,new Hf(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return pp(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Sp.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(),Rp=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Np(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Pp=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Dp(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new Np(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new Rp(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new Np(n._firestore,r))}))},t.prototype.isEqual=function(t){return Kf(this._delegate,t._delegate)},t}(),Lp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return o(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new kp(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new kp(this.firestore,void 0===t?$h(this._delegate):$h(this._delegate,t))}catch(t){throw Ap(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Gh(t.firestore,nf),r=$h(t),i=ap(t.converter,e);return dp(n,[bf(yf(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Oo.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new kp(e.firestore,t)}))},e.prototype.isEqual=function(t){return Jh(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Sp.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(Dp);function Fp(t){return Gh(t,Wh)}var Mp=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(uf.bind.apply(uf,u([void 0],t)))}return t.documentId=function(){return new t(Jr.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=(0,c.m9)(t))instanceof uf&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),jp=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Tf("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new wf("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ef("arrayUnion",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new If("arrayRemove",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Sf("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}();var Up,Bp=n(8548),Vp={Firestore:_p,GeoPoint:hf,Timestamp:Hr,Blob:bp,Transaction:Ep,WriteBatch:Ip,DocumentReference:kp,DocumentSnapshot:Op,Query:Dp,QueryDocumentSnapshot:Np,QuerySnapshot:Pp,CollectionReference:Lp,FieldPath:Mp,FieldValue:jp,setLogLevel:function(t){var e;e=t,Or.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Bp.wA("firestore",(function(t){return function(t,e){return new _p(t,new nf(t,e),new wp)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Vp)))})(Up=r.Z),Up.registerVersion("@firebase/firestore","2.4.1")},2671:function(t,e,n){"use strict";n.r(e);var r=n(2118),i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function s(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function u(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create;var c=n(51),l=n(8548),h="firebasestorage.googleapis.com",f=function(t){function e(n,r){var i=t.call(this,p(n),"Firebase Storage: "+r+" ("+p(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype._codeEquals=function(t){return p(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),e}(c.ZR);function p(t){return"storage/"+t}function d(){return new f("unknown","An unknown error occurred, please check the error payload for server response.")}function g(){return new f("canceled","User canceled the upload/download.")}function v(){return new f("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function m(t){return new f("invalid-argument",t)}function y(){return new f("app-deleted","The Firebase app was deleted.")}function b(t){return new f("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function w(t,e){return new f("invalid-format","String does not match format '"+t+"': "+e)}function _(t){throw new f("internal-error","Internal error: "+t)}var T={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},E=function(t,e){this.data=t,this.contentType=e||null};function I(t,e){switch(t){case T.RAW:return new E(S(e));case T.BASE64:case T.BASE64URL:return new E(k(t,e));case T.DATA_URL:return new E(function(t){var e=new A(t);return e.base64?k(T.BASE64,e.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw w(T.DATA_URL,"Malformed data URL.")}return S(e)}(e.rest)}(e),new A(e).contentType)}throw d()}function S(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<t.length-1&&56320===(64512&t.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else e.push(239,191,189);else 56320===(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function k(t,e){switch(t){case T.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw w(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case T.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw w(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(e)}catch(c){throw w(t,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var A=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw w(T.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1);var r,i};var C,x={STATE_CHANGED:"state_changed"},O={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function N(t){switch(t){case"running":case"pausing":case"canceling":return O.RUNNING;case"paused":return O.PAUSED;case"success":return O.SUCCESS;case"canceled":return O.CANCELED;case"error":default:return O.ERROR}}!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(C||(C={}));var D=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=C.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=C.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=C.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw _("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw _("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw _("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw _("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}();var R=function(){function t(){}return t.prototype.createConnection=function(){return new D},t}(),P=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(i){return new t(e,"")}if(""===r.path)return r;throw new f("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var o=new RegExp("^gs://"+i+"(/(.*))?$","i");function a(t){t.path_=decodeURIComponent(t.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://"+(n===h?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:a}],c=0;c<u.length;c++){var l=u[c],p=l.regex.exec(e);if(p){var d=p[l.indices.bucket],g=p[l.indices.path];g||(g=""),r=new t(d,g),l.postModify(r);break}}if(null==r)throw function(t){return new f("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}(),L=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function F(t){return"string"===typeof t||t instanceof String}function M(t){return j()&&t instanceof Blob}function j(){return"undefined"!==typeof Blob}function U(t,e,n,r){if(r<e)throw m("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw m("Invalid value for '"+t+"'. Expected "+n+" or less.")}function B(t,e){var n=e.match(/^(\w+):\/\/.+/),r=e;return null==(null===n||void 0===n?void 0:n[1])&&(r="https://"+e),r+"/v0"+t}function V(t){var e=encodeURIComponent,n="?";for(var r in t){if(t.hasOwnProperty(r))n=n+(e(r)+"="+e(t[r]))+"&"}return n=n.slice(0,-1)}var q=function(){function t(t,e,n,r,i,o,a,s,u,c,l){var h=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,a=n.connection;if(n.wasSuccessCode)try{var s=t.callback_(a,a.getResponseText());void 0!==s?i(s):i()}catch(u){o(u)}else null!==a?((r=d()).serverResponse=a.getResponseText(),t.errorCallback_?o(t.errorCallback_(a,r)):o(r)):n.canceled?o(r=t.appDelete_?y():g()):o(r=new f("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new G(!1,null,!0)):this.backoffId_=function(t,e,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var c=!1;function l(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];c||(c=!0,e.apply(null,t))}function h(e){i=setTimeout((function(){i=null,t(f,s())}),e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,u([null,t],e));else{var i;s()||o?l.call.apply(l,u([null,t],e)):(r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),h(i))}}var p=!1;function d(t){p||(p=!0,c||(null!==i?(t||(a=2),clearTimeout(i),h(0)):t||(a=1)))}return h(0),setTimeout((function(){o=!0,d(!0)}),n),d}((function(e,n){if(n)e(!1,new G(!1,null,!0));else{var r=t.pool_.createConnection();t.pendingConnection_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(){null!==t.progressCallback_&&r.removeUploadProgressListener(i),t.pendingConnection_=null;var n=r.getErrorCode()===C.NO_ERROR,o=r.getStatus();if(n&&!t.isRetryStatusCode_(o)){var a=-1!==t.successCodes_.indexOf(o);e(!0,new G(a,r))}else{var s=r.getErrorCode()===C.ABORT;e(!1,new G(!1,null,s))}}))}function i(e){var n=e.loaded,r=e.lengthComputable?e.total:-1;null!==t.progressCallback_&&t.progressCallback_(n,r)}}),e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),G=function(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n};function H(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function z(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=H();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(j())return new Blob(t);throw new f("unsupported-environment","This browser doesn't seem to support creating Blobs")}var K=function(){function t(t,e){var n=0,r="";M(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(M(this.data_)){var r=function(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===r?null:new t(r)}return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(j()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(z.apply(null,r))}var i=e.map((function(t){return F(t)?I(T.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]})),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}();function W(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return"object"!==typeof(n=e)||Array.isArray(n)?null:e}function X(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function Y(t,e){return e}var Q=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||Y},$=null;function J(){if($)return $;var t=[];t.push(new Q("bucket")),t.push(new Q("generation")),t.push(new Q("metageneration")),t.push(new Q("name","fullPath",!0));var e=new Q("name");e.xform=function(t,e){return function(t){return!F(t)||t.length<2?t:X(t)}(e)},t.push(e);var n=new Q("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new Q("timeCreated")),t.push(new Q("updated")),t.push(new Q("md5Hash",null,!0)),t.push(new Q("cacheControl",null,!0)),t.push(new Q("contentDisposition",null,!0)),t.push(new Q("contentEncoding",null,!0)),t.push(new Q("contentLanguage",null,!0)),t.push(new Q("contentType",null,!0)),t.push(new Q("metadata","customMetadata",!0)),$=t}function Z(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=t.bucket,r=t.fullPath,i=new P(n,r);return e._makeStorageReference(i)}})}(r,t),r}function tt(t,e,n){var r=W(e);return null===r?null:Z(t,r,n)}function et(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function nt(t,e,n){var r=W(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=t._makeStorageReference(new P(e,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++){var l=c[u];s=t._makeStorageReference(new P(e,l.name)),r.items.push(s)}return r}(t,e,r)}var rt=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function it(t){if(!t)throw d()}function ot(t,e){return function(n,r){var i=tt(t,r,e);return it(null!==i),i}}function at(t,e){return function(n,r){var i=tt(t,r,e);return it(null!==i),function(t,e,n){var r=W(e);if(null===r)return null;if(!F(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(e){var r=t.bucket,i=t.fullPath;return B("/b/"+o(r)+"/o/"+o(i),n)+V({alt:"media",token:e})}))[0]}(i,r,t.host)}}function st(t){return function(e,n){var r,i,o;return 401===e.getStatus()?r=e.getResponseText().includes("Firebase App Check token is invalid")?new f("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new f("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(o=t.bucket,r=new f("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(i=t.path,r=new f("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function ut(t){var e=st(t);return function(n,r){var i,o=e(n,r);return 404===n.getStatus()&&(i=t.path,o=new f("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function ct(t,e,n){var r=B(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new rt(r,"GET",ot(t,n),i);return o.errorHandler=ut(e),o}function lt(t,e,n,r,i){var o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=B(e.bucketOnlyServerUrl(),t.host),s=t.maxOperationRetryTime,u=new rt(a,"GET",function(t,e){return function(n,r){var i=nt(t,e,r);return it(null!==i),i}}(t,e.bucket),s);return u.urlParams=o,u.errorHandler=st(e),u}function ht(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}var ft=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function pt(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){it(!1)}return it(!!n&&-1!==(e||["active"]).indexOf(n)),n}var dt=262144;function gt(t,e,n,r,i,o,a,s){var u=new ft(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new f("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,p=h+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},g=r.slice(h,p);if(null===g)throw v();var m=e.maxUploadRetryTime,y=new rt(n,"POST",(function(t,n){var i,a=pt(t,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?ot(e,o)(t,n):null,new ft(s,c,"final"===a,i)}),m);return y.headers=d,y.body=g.uploadData(),y.progressCallback=s||null,y.errorHandler=st(t),y}var vt=function(t,e,n){if("function"===typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}};function mt(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var yt=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=J(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(e._state){case"running":t(r,i);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=ht(e,r,i),s={name:a.fullPath},u=B(o,t.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=et(a,n),h=t.maxUploadRetryTime,f=new rt(u,"POST",(function(t){var e;pt(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){it(!1)}return it(F(e)),e}),h);return f.urlParams=s,f.headers=c,f.body=l,f.errorHandler=st(e),f}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n,r){var i=function(t,e,n,r){var i=t.maxUploadRetryTime,o=new rt(n,"POST",(function(t){var e=pt(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){it(!1)}n||it(!1);var i=Number(n);return it(!isNaN(i)),new ft(i,r.size(),"final"===e)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=st(e),o}(t._ref.storage,t._ref._location,e,t._blob),o=t._ref.storage._makeRequest(i,n,r);t._request=o,o.getPromise().then((function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=dt*this._chunkMultiplier,n=new ft(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var a;try{a=gt(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(u){return t._error=u,void t._transition("error")}var s=t._ref.storage._makeRequest(a,i,o);t._request=s,s.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){dt*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e,n){var r=ct(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition("success")}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var u=ht(e,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+et(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=K.getBlob(c,r,l);if(null===h)throw v();var f={name:u.fullPath},p=B(o,t.host),d=t.maxUploadRetryTime,g=new rt(p,"POST",ot(t,n),d);return g.urlParams=f,g.headers=a,g.body=h.uploadData(),g.errorHandler=st(e),g}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=g(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=N(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new vt(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(N(this._state)){case O.SUCCESS:mt(this._resolve.bind(null,this.snapshot))();break;case O.CANCELED:case O.ERROR:mt(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(N(this._state)){case O.RUNNING:case O.PAUSED:t.next&&mt(t.next.bind(t,this.snapshot))();break;case O.SUCCESS:t.complete&&mt(t.complete.bind(t))();break;case O.CANCELED:case O.ERROR:t.error&&mt(t.error.bind(t,this._error))();break;default:t.error&&mt(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),bt=function(){function t(t,e){this._service=t,this._location=e instanceof P?e:P.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new P(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return X(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new P(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw b(t)},t}();function wt(t){var e={prefixes:[],items:[]};return _t(t,e).then((function(){return e}))}function _t(t,e,n){return a(this,void 0,void 0,(function(){var r,i,o;return s(this,(function(a){switch(a.label){case 0:return[4,Tt(t,{pageToken:n})];case 1:return r=a.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(o=e.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,_t(t,e,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Tt(t,e){return a(this,void 0,void 0,(function(){var n,r;return s(this,(function(i){switch(i.label){case 0:return null!=e&&"number"===typeof e.maxResults&&U("options.maxResults",1,1e3,e.maxResults),n=e||{},r=lt(t.storage,t._location,"/",n.pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function Et(t,e){return a(this,void 0,void 0,(function(){var n;return s(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=function(t,e,n,r){var i=B(e.fullServerUrl(),t.host),o=et(n,r),a=t.maxOperationRetryTime,s=new rt(i,"PATCH",ot(t,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=ut(e),s}(t.storage,t._location,e,J()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}function It(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=function(t,e,n){var r=B(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new rt(r,"GET",at(t,n),i);return o.errorHandler=ut(e),o}(t.storage,t._location,J()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then((function(t){if(null===t)throw new f("no-download-url","The given file does not have any download URLs.");return t}))]}}))}))}function St(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=function(t,e){var n=B(e.fullServerUrl(),t.host),r=t.maxOperationRetryTime,i=new rt(n,"DELETE",(function(t,e){}),r);return i.successCodes=[200,204],i.errorHandler=ut(e),i}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}}))}))}function kt(t,e){var n=function(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new P(t._location.bucket,n);return new bt(t.storage,r)}function At(t){return/^[A-Za-z]+:\/\//.test(t)}function Ct(t,e){if(t instanceof Nt){var n=t;if(null==n._bucket)throw new f("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new bt(n,n._bucket);return null!=e?Ct(r,e):r}return void 0!==e?kt(t,e):t}function xt(t,e){if(e&&At(e)){if(t instanceof Nt)return new bt(t,e);throw m("To use ref(service, url), the first argument must be a Storage instance.")}return Ct(t,e)}function Ot(t,e){var n=null===e||void 0===e?void 0:e.storageBucket;return null==n?null:P.makeFromBucketSpec(n,t)}var Nt=function(){function t(t,e,n,r,i,o){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=h,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?P.makeFromBucketSpec(i,this._host):Ot(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,null!=this._url?this._bucket=P.makeFromBucketSpec(this._url,t):this._bucket=Ot(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){U("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){U("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return a(this,void 0,void 0,(function(){var t,e;return s(this,(function(n){switch(n.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype._getAppCheckToken=function(){return a(this,void 0,void 0,(function(){var t;return s(this,(function(e){switch(e.label){case 0:return(t=this._appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear()),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new bt(this,t)},t.prototype._makeRequest=function(t,e,n){var r=this;if(this._deleted)return new L(y());var i=function(t,e,n,r,i,o){var a=V(t.urlParams),s=t.url+a,u=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!==e&&void 0!==e?e:"AppManager")}(u,o),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,r),new q(s,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}(t,this._appId,e,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},t.prototype.makeRequestWithTokens=function(t){return a(this,void 0,void 0,(function(){var e,n,r;return s(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=i.sent(),n=e[0],r=e[1],[2,this._makeRequest(t,n,r)]}}))}))},t}();function Dt(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new yt(t,new K(e),n)}(t=(0,c.m9)(t),e,n)}function Rt(t){return function(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=ct(t.storage,t._location,J()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}}))}))}(t=(0,c.m9)(t))}function Pt(t,e){return xt(t=(0,c.m9)(t),e)}function Lt(t,e,n,r){void 0===r&&(r={}),function(t,e,n,r){void 0===r&&(r={}),t.host="http://"+e+":"+n;var i=r.mockUserToken;i&&(t._overrideAuthToken="string"===typeof i?i:(0,c.Sg)(i,t.app.options.projectId))}(t,e,n,r)}var Ft=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),Mt=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new Ft(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new Ft(e,n,n._ref))}),e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"===typeof e?function(t){return e(new Ft(t,i,i._ref))}:{next:e.next?function(t){return e.next(new Ft(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),jt=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new Ut(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new Ut(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),Ut=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return kt(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new Mt(Dt(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=T.RAW),this._throwIfRoot("putString");var r=I(e,t),i=o({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Mt(new yt(this._delegate,new K(r.data,!0),i),this)},t.prototype.listAll=function(){var t=this;return function(t){return wt(t=(0,c.m9)(t))}(this._delegate).then((function(e){return new jt(e,t.storage)}))},t.prototype.list=function(t){var e=this;return function(t,e){return Tt(t=(0,c.m9)(t),e)}(this._delegate,t||void 0).then((function(t){return new jt(t,e.storage)}))},t.prototype.getMetadata=function(){return Rt(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return Et(t=(0,c.m9)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return It(t=(0,c.m9)(t))}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return St(t=(0,c.m9)(t))}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw b(t)},t}(),Bt=function(){function t(t,e){this.app=t,this._delegate=e}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(At(t))throw m("ref() expected a child path but got a URL, use refFromURL instead.");return new Ut(Pt(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!At(t))throw m("refFromURL() expected a full URL but got a child path, use ref() instead.");try{P.makeFromUrl(t,this._delegate.host)}catch(e){throw m("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ut(Pt(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),Lt(this._delegate,t,e,n)},t}();function Vt(t,e){var n=e.instanceIdentifier,i=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Bt(i,new Nt(i,o,a,new R,n,r.Z.SDK_VERSION))}!function(t){var e={TaskState:O,TaskEvent:x,StringFormat:T,Storage:Nt,Reference:Ut};t.INTERNAL.registerComponent(new l.wA("storage",Vt,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.7.1")}(r.Z)},9772:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(8645)}])},1613:function(t,e,n){"use strict";var r={};n.r(r),n.d(r,{FunctionToString:function(){return u},InboundFilters:function(){return d}});var i={};n.r(i),n.d(i,{Breadcrumbs:function(){return Pt},Dedupe:function(){return Ht},GlobalHandlers:function(){return wt},LinkedErrors:function(){return Bt},TryCatch:function(){return At},UserAgent:function(){return Gt}});var o,a=n(5163),s=n(1995),u=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){o=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=(0,s.HK)(this)||this;return o.apply(n,t)}},t.id="FunctionToString",t}(),c=n(8536),l=n(3699),h=n(9660),f="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,p=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],d=function(){function t(e){void 0===e&&(e={}),this._options=e,this.name=t.id}return t.prototype.setupOnce=function(e,n){e((function(e){var r=n();if(r){var i=r.getIntegration(t);if(i){var o=r.getClient(),s=o?o.getOptions():{};return function(t,e){if(e.ignoreInternal&&function(t){try{return"SentryError"===t.exception.values[0].type}catch(e){}return!1}(t))return f&&c.kg.warn("Event dropped due to being internal Sentry Error.\nEvent: "+(0,l.jH)(t)),!0;if(function(t,e){if(!e||!e.length)return!1;return function(t){if(t.message)return[t.message];if(t.exception)try{var e=t.exception.values&&t.exception.values[0]||{},n=e.type,r=void 0===n?"":n,i=e.value,o=void 0===i?"":i;return[""+o,r+": "+o]}catch(a){return f&&c.kg.error("Cannot extract message for event "+(0,l.jH)(t)),[]}return[]}(t).some((function(t){return e.some((function(e){return(0,h.zC)(t,e)}))}))}(t,e.ignoreErrors))return f&&c.kg.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+(0,l.jH)(t)),!0;if(function(t,e){if(!e||!e.length)return!1;var n=v(t);return!!n&&e.some((function(t){return(0,h.zC)(n,t)}))}(t,e.denyUrls))return f&&c.kg.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+(0,l.jH)(t)+".\nUrl: "+v(t)),!0;if(!function(t,e){if(!e||!e.length)return!0;var n=v(t);return!n||e.some((function(t){return(0,h.zC)(n,t)}))}(t,e.allowUrls))return f&&c.kg.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+(0,l.jH)(t)+".\nUrl: "+v(t)),!0;return!1}(e,function(t,e){void 0===t&&(t={});void 0===e&&(e={});return{allowUrls:(0,a.fl)(t.whitelistUrls||[],t.allowUrls||[],e.whitelistUrls||[],e.allowUrls||[]),denyUrls:(0,a.fl)(t.blacklistUrls||[],t.denyUrls||[],e.blacklistUrls||[],e.denyUrls||[]),ignoreErrors:(0,a.fl)(t.ignoreErrors||[],e.ignoreErrors||[],p),ignoreInternal:void 0===t.ignoreInternal||t.ignoreInternal}}(i._options,s))?null:e}}return e}))},t.id="InboundFilters",t}();function g(t){void 0===t&&(t=[]);for(var e=t.length-1;e>=0;e--){var n=t[e];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}function v(t){try{if(t.stacktrace)return g(t.stacktrace.frames);var e;try{e=t.exception.values[0].stacktrace.frames}catch(n){}return e?g(e):null}catch(r){return f&&c.kg.error("Cannot extract url for event "+(0,l.jH)(t)),null}}var m,y=n(5907),b=n(7183);!function(t){t.Fatal="fatal",t.Error="error",t.Warning="warning",t.Log="log",t.Info="info",t.Debug="debug",t.Critical="critical"}(m||(m={}));var w=n(4005),_=n(1757),T=n(4194);var E=n(9038);function I(t,e,n){void 0===e&&(e=1/0),void 0===n&&(n=1/0);try{return k("",t,e,n)}catch(r){return{ERROR:"**non-serializable** ("+r+")"}}}function S(t,e,n){void 0===e&&(e=3),void 0===n&&(n=102400);var r,i=I(t,e);return r=i,function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(r))>n?S(t,e-1,n):i}function k(t,e,r,i,o){void 0===r&&(r=1/0),void 0===i&&(i=1/0),void 0===o&&(o=function(){var t="function"===typeof WeakSet,e=t?new WeakSet:[];return[function(n){if(t)return!!e.has(n)||(e.add(n),!1);for(var r=0;r<e.length;r++)if(e[r]===n)return!0;return e.push(n),!1},function(n){if(t)e.delete(n);else for(var r=0;r<e.length;r++)if(e[r]===n){e.splice(r,1);break}}]}());var u=(0,a.CR)(o,2),c=u[0],l=u[1],h=e;if(h&&"function"===typeof h.toJSON)try{return h.toJSON()}catch(y){}if(null===e||["number","boolean","string"].includes(typeof e)&&!(0,_.i2)(e))return e;var f=function(t,e){try{return"domain"===t&&e&&"object"===typeof e&&e._events?"[Domain]":"domainEmitter"===t?"[DomainEmitter]":"undefined"!==typeof n.g&&e===n.g?"[Global]":"undefined"!==typeof window&&e===window?"[Window]":"undefined"!==typeof document&&e===document?"[Document]":(0,_.Cy)(e)?"[SyntheticEvent]":"number"===typeof e&&e!==e?"[NaN]":void 0===e?"[undefined]":"function"===typeof e?"[Function: "+(0,E.$P)(e)+"]":"symbol"===typeof e?"["+String(e)+"]":"bigint"===typeof e?"[BigInt: "+String(e)+"]":"[object "+Object.getPrototypeOf(e).constructor.name+"]"}catch(y){return"**non-serializable** ("+y+")"}}(t,e);if(!f.startsWith("[object "))return f;if(0===r)return f.replace("object ","");if(c(e))return"[Circular ~]";var p=Array.isArray(e)?[]:{},d=0,g=(0,_.VZ)(e)||(0,_.cO)(e)?(0,s.Sh)(e):e;for(var v in g)if(Object.prototype.hasOwnProperty.call(g,v)){if(d>=i){p[v]="[MaxProperties ~]";break}var m=g[v];p[v]=k(v,m,r-1,i,o),d+=1}return l(e),p}var A=n(7946),C="?";function x(t,e,n,r){var i={filename:t,function:e,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==r&&(i.colno=r),i}var O=/^\s*at (?:(.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,N=/\((\S*)(?::(\d+))(?::(\d+))\)/,D=[30,function(t){var e=O.exec(t);if(e){if(e[2]&&0===e[2].indexOf("eval")){var n=N.exec(e[2]);n&&(e[2]=n[1],e[3]=n[2],e[4]=n[3])}var r=(0,a.CR)(q(e[1]||C,e[2]),2),i=r[0];return x(r[1],i,e[3]?+e[3]:void 0,e[4]?+e[4]:void 0)}}],R=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,P=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,L=[50,function(t){var e,n=R.exec(t);if(n){if(n[3]&&n[3].indexOf(" > eval")>-1){var r=P.exec(n[3]);r&&(n[1]=n[1]||"eval",n[3]=r[1],n[4]=r[2],n[5]="")}var i=n[3],o=n[1]||C;return o=(e=(0,a.CR)(q(o,i),2))[0],x(i=e[1],o,n[4]?+n[4]:void 0,n[5]?+n[5]:void 0)}}],F=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,M=[40,function(t){var e=F.exec(t);return e?x(e[2],e[1]||C,+e[3],e[4]?+e[4]:void 0):void 0}],j=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,U=[10,function(t){var e=j.exec(t);return e?x(e[2],e[3]||C,+e[1]):void 0}],B=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,V=[20,function(t){var e=B.exec(t);return e?x(e[5],e[3]||e[4]||C,+e[1],+e[2]):void 0}],q=function(t,e){var n=-1!==t.indexOf("safari-extension"),r=-1!==t.indexOf("safari-web-extension");return n||r?[-1!==t.indexOf("@")?t.split("@")[0]:C,n?"safari-extension:"+e:"safari-web-extension:"+e]:[t,e]};function G(t){var e=z(t),n={type:t&&t.name,value:W(t)};return e.length&&(n.stacktrace={frames:e}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function H(t){return{exception:{values:[G(t)]}}}function z(t){var e=t.stacktrace||t.stack||"",n=function(t){if(t){if("number"===typeof t.framesToPop)return t.framesToPop;if(K.test(t.message))return 1}return 0}(t);try{return(0,E.pE)(U,V,D,M,L)(e,n)}catch(r){}return[]}var K=/Minified React error #\d+;/i;function W(t){var e=t&&t.message;return e?e.error&&"string"===typeof e.error.message?e.error.message:e:"No error message"}function X(t,e,n,r){var i;if((0,_.VW)(t)&&t.error)return H(t.error);if((0,_.TX)(t)||(0,_.fm)(t)){var o=t;if("stack"in t)i=H(t);else{var u=o.name||((0,_.TX)(o)?"DOMError":"DOMException"),c=o.message?u+": "+o.message:u;i=Y(c,e,n),(0,l.Db)(i,c)}return"code"in o&&(i.tags=(0,a.pi)((0,a.pi)({},i.tags),{"DOMException.code":""+o.code})),i}return(0,_.VZ)(t)?H(t):(0,_.PO)(t)||(0,_.cO)(t)?(i=function(t,e,n){var r={exception:{values:[{type:(0,_.cO)(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+(0,s.zf)(t)}]},extra:{__serialized__:S(t)}};if(e){var i=z(e);i.length&&(r.stacktrace={frames:i})}return r}(t,e,r),(0,l.EG)(i,{synthetic:!0}),i):(i=Y(t,e,n),(0,l.Db)(i,""+t,void 0),(0,l.EG)(i,{synthetic:!0}),i)}function Y(t,e,n){var r={message:t};if(n&&e){var i=z(e);i.length&&(r.stacktrace={frames:i})}return r}var Q="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function $(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=(0,b.Gd)();if(r&&r[t])return r[t].apply(r,(0,a.fl)(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function J(t,e){return $("captureException",t,{captureContext:e,originalException:t,syntheticException:new Error("Sentry syntheticException")})}function Z(t){$("withScope",t)}var tt=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){return t.__proto__=e,t}:function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n]);return t});var et=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return r.message=e,r.name=n.prototype.constructor.name,tt(r,n.prototype),r}return(0,a.ZT)(e,t),e}(Error),nt=n(1923),rt=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function it(t,e){void 0===e&&(e=!1);var n=t.host,r=t.path,i=t.pass,o=t.port,a=t.projectId;return t.protocol+"://"+t.publicKey+(e&&i?":"+i:"")+"@"+n+(o?":"+o:"")+"/"+(r?r+"/":r)+a}function ot(t){return"user"in t&&!("publicKey"in t)&&(t.publicKey=t.user),{user:t.publicKey||"",protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function at(t){var e="string"===typeof t?function(t){var e=rt.exec(t);if(!e)throw new et("Invalid Sentry Dsn: "+t);var n=(0,a.CR)(e.slice(1),6),r=n[0],i=n[1],o=n[2],s=void 0===o?"":o,u=n[3],c=n[4],l=void 0===c?"":c,h="",f=n[5],p=f.split("/");if(p.length>1&&(h=p.slice(0,-1).join("/"),f=p.pop()),f){var d=f.match(/^\d+/);d&&(f=d[0])}return ot({host:u,pass:s,path:h,projectId:f,port:l,protocol:r,publicKey:i})}(t):ot(t);return function(t){if(nt.h){var e=t.port,n=t.projectId,r=t.protocol;if(["protocol","publicKey","host","projectId"].forEach((function(e){if(!t[e])throw new et("Invalid Sentry Dsn: "+e+" missing")})),!n.match(/^\d+$/))throw new et("Invalid Sentry Dsn: Invalid projectId "+n);if(!function(t){return"http"===t||"https"===t}(r))throw new et("Invalid Sentry Dsn: Invalid protocol "+r);if(e&&isNaN(parseInt(e,10)))throw new et("Invalid Sentry Dsn: Invalid port "+e)}}(e),e}!function(){function t(t,e,n){void 0===e&&(e={}),this.dsn=t,this._dsnObject=at(t),this.metadata=e,this._tunnel=n}t.prototype.getDsn=function(){return this._dsnObject},t.prototype.forceEnvelope=function(){return!!this._tunnel},t.prototype.getBaseApiEndpoint=function(){return ut(this._dsnObject)},t.prototype.getStoreEndpoint=function(){return ht(this._dsnObject)},t.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return ft(this._dsnObject)},t.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return pt(this._dsnObject,this._tunnel)}}();function st(t,e,n){return{initDsn:t,metadata:e||{},dsn:at(t),tunnel:n}}function ut(t){var e=t.protocol?t.protocol+":":"",n=t.port?":"+t.port:"";return e+"//"+t.host+n+(t.path?"/"+t.path:"")+"/api/"}function ct(t,e){return""+ut(t)+t.projectId+"/"+e+"/"}function lt(t){return(0,s._j)({sentry_key:t.publicKey,sentry_version:"7"})}function ht(t){return ct(t,"store")}function ft(t){return ht(t)+"?"+lt(t)}function pt(t,e){return e||function(t){return ct(t,"envelope")}(t)+"?"+lt(t)}var dt=(0,y.R)(),gt=0;function vt(){return gt>0}function mt(){gt+=1,setTimeout((function(){gt-=1}))}function yt(t,e,n){if(void 0===e&&(e={}),"function"!==typeof t)return t;try{var r=t.__sentry_wrapped__;if(r)return r;if((0,s.HK)(t))return t}catch(u){return t}var i=function(){var r=Array.prototype.slice.call(arguments);try{n&&"function"===typeof n&&n.apply(this,arguments);var i=r.map((function(t){return yt(t,e)}));return t.apply(this,i)}catch(o){throw mt(),Z((function(t){t.addEventProcessor((function(t){return e.mechanism&&((0,l.Db)(t,void 0,void 0),(0,l.EG)(t,e.mechanism)),t.extra=(0,a.pi)((0,a.pi)({},t.extra),{arguments:r}),t})),J(o)})),o}};try{for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=t[o])}catch(c){}(0,s.$Q)(i,t),(0,s.xp)(t,"__sentry_wrapped__",i);try{Object.getOwnPropertyDescriptor(i,"name").configurable&&Object.defineProperty(i,"name",{get:function(){return t.name}})}catch(c){}return i}function bt(t){if(void 0===t&&(t={}),dt.document)if(t.eventId)if(t.dsn){var e=dt.document.createElement("script");e.async=!0,e.src=function(t,e){var n=at(t),r=ut(n)+"embed/error-page/",i="dsn="+it(n);for(var o in e)if("dsn"!==o)if("user"===o){if(!e.user)continue;e.user.name&&(i+="&name="+encodeURIComponent(e.user.name)),e.user.email&&(i+="&email="+encodeURIComponent(e.user.email))}else i+="&"+encodeURIComponent(o)+"="+encodeURIComponent(e[o]);return r+"?"+i}(t.dsn,t),t.onLoad&&(e.onload=t.onLoad);var n=dt.document.head||dt.document.body;n&&n.appendChild(e)}else Q&&c.kg.error("Missing dsn option in showReportDialog call");else Q&&c.kg.error("Missing eventId option in showReportDialog call")}var wt=function(){function t(e){this.name=t.id,this._installFunc={onerror:_t,onunhandledrejection:Tt},this._options=(0,a.pi)({onerror:!0,onunhandledrejection:!0},e)}return t.prototype.setupOnce=function(){Error.stackTraceLimit=50;var t,e=this._options;for(var n in e){var r=this._installFunc[n];r&&e[n]&&(t=n,Q&&c.kg.log("Global Handler attached: "+t),r(),this._installFunc[n]=void 0)}},t.id="GlobalHandlers",t}();function _t(){(0,w.o)("error",(function(t){var e=(0,a.CR)(St(),2),n=e[0],r=e[1];if(n.getIntegration(wt)){var i=t.msg,o=t.url,s=t.line,u=t.column,c=t.error;if(!(vt()||c&&c.__sentry_own_request__)){var l=void 0===c&&(0,_.HD)(i)?function(t,e,n,r){var i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,o=(0,_.VW)(t)?t.message:t,a="Error",s=o.match(i);s&&(a=s[1],o=s[2]);return Et({exception:{values:[{type:a,value:o}]}},e,n,r)}(i,o,s,u):Et(X(c||i,void 0,r,!1),o,s,u);l.level=m.Error,It(n,c,l,"onerror")}}}))}function Tt(){(0,w.o)("unhandledrejection",(function(t){var e=(0,a.CR)(St(),2),n=e[0],r=e[1];if(n.getIntegration(wt)){var i=t;try{"reason"in t?i=t.reason:"detail"in t&&"reason"in t.detail&&(i=t.detail.reason)}catch(s){}if(vt()||i&&i.__sentry_own_request__)return!0;var o=(0,_.pt)(i)?{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(i)}]}}:X(i,void 0,r,!0);o.level=m.Error,It(n,i,o,"onunhandledrejection")}}))}function Et(t,e,n,r){var i=t.exception=t.exception||{},o=i.values=i.values||[],a=o[0]=o[0]||{},s=a.stacktrace=a.stacktrace||{},u=s.frames=s.frames||[],c=isNaN(parseInt(r,10))?void 0:r,l=isNaN(parseInt(n,10))?void 0:n,h=(0,_.HD)(e)&&e.length>0?e:(0,T.l)();return 0===u.length&&u.push({colno:c,filename:h,function:"?",in_app:!0,lineno:l}),t}function It(t,e,n,r){(0,l.EG)(n,{handled:!1,type:r}),t.captureEvent(n,{originalException:e})}function St(){var t=(0,b.Gd)(),e=t.getClient();return[t,e&&e.getOptions().attachStacktrace]}var kt=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],At=function(){function t(e){this.name=t.id,this._options=(0,a.pi)({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},e)}return t.prototype.setupOnce=function(){var t=(0,y.R)();this._options.setTimeout&&(0,s.hl)(t,"setTimeout",Ct),this._options.setInterval&&(0,s.hl)(t,"setInterval",Ct),this._options.requestAnimationFrame&&(0,s.hl)(t,"requestAnimationFrame",xt),this._options.XMLHttpRequest&&"XMLHttpRequest"in t&&(0,s.hl)(XMLHttpRequest.prototype,"send",Ot);var e=this._options.eventTarget;e&&(Array.isArray(e)?e:kt).forEach(Nt)},t.id="TryCatch",t}();function Ct(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0];return e[0]=yt(r,{mechanism:{data:{function:(0,E.$P)(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}}function xt(t){return function(e){return t.apply(this,[yt(e,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,E.$P)(t)},handled:!0,type:"instrument"}})])}}function Ot(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this,i=["onload","onerror","onprogress","onreadystatechange"];return i.forEach((function(t){t in r&&"function"===typeof r[t]&&(0,s.hl)(r,t,(function(e){var n={mechanism:{data:{function:t,handler:(0,E.$P)(e)},handled:!0,type:"instrument"}},r=(0,s.HK)(e);return r&&(n.mechanism.data.handler=(0,E.$P)(r)),yt(e,n)}))})),t.apply(this,e)}}function Nt(t){var e=(0,y.R)(),n=e[t]&&e[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,s.hl)(n,"addEventListener",(function(e){return function(n,r,i){try{"function"===typeof r.handleEvent&&(r.handleEvent=yt(r.handleEvent.bind(r),{mechanism:{data:{function:"handleEvent",handler:(0,E.$P)(r),target:t},handled:!0,type:"instrument"}}))}catch(o){}return e.apply(this,[n,yt(r,{mechanism:{data:{function:"addEventListener",handler:(0,E.$P)(r),target:t},handled:!0,type:"instrument"}}),i])}})),(0,s.hl)(n,"removeEventListener",(function(t){return function(e,n,r){var i=n;try{var o=i&&i.__sentry_wrapped__;o&&t.call(this,e,o,r)}catch(a){}return t.call(this,e,i,r)}})))}var Dt=["fatal","error","warning","log","info","debug","critical"];function Rt(t){return"warn"===t?m.Warning:function(t){return-1!==Dt.indexOf(t)}(t)?t:m.Log}var Pt=function(){function t(e){this.name=t.id,this._options=(0,a.pi)({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e)}return t.prototype.addSentryBreadcrumb=function(t){this._options.sentry&&(0,b.Gd)().addBreadcrumb({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:(0,l.jH)(t)},{event:t})},t.prototype.setupOnce=function(){this._options.console&&(0,w.o)("console",Lt),this._options.dom&&(0,w.o)("dom",function(t){function e(e){var n,r="object"===typeof t?t.serializeAttribute:void 0;"string"===typeof r&&(r=[r]);try{n=e.event.target?(0,T.R)(e.event.target,r):(0,T.R)(e.event,r)}catch(i){n="<unknown>"}0!==n.length&&(0,b.Gd)().addBreadcrumb({category:"ui."+e.name,message:n},{event:e.event,name:e.name,global:e.global})}return e}(this._options.dom)),this._options.xhr&&(0,w.o)("xhr",Ft),this._options.fetch&&(0,w.o)("fetch",Mt),this._options.history&&(0,w.o)("history",jt)},t.id="Breadcrumbs",t}();function Lt(t){var e={category:"console",data:{arguments:t.args,logger:"console"},level:Rt(t.level),message:(0,h.nK)(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;e.message="Assertion failed: "+((0,h.nK)(t.args.slice(1)," ")||"console.assert"),e.data.arguments=t.args.slice(1)}(0,b.Gd)().addBreadcrumb(e,{input:t.args,level:t.level})}function Ft(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;var e=t.xhr.__sentry_xhr__||{},n=e.method,r=e.url,i=e.status_code,o=e.body;(0,b.Gd)().addBreadcrumb({category:"xhr",data:{method:n,url:r,status_code:i},type:"http"},{xhr:t.xhr,input:o})}else;}function Mt(t){t.endTimestamp&&(t.fetchData.url.match(/sentry_key/)&&"POST"===t.fetchData.method||(t.error?(0,b.Gd)().addBreadcrumb({category:"fetch",data:t.fetchData,level:m.Error,type:"http"},{data:t.error,input:t.args}):(0,b.Gd)().addBreadcrumb({category:"fetch",data:(0,a.pi)((0,a.pi)({},t.fetchData),{status_code:t.response.status}),type:"http"},{input:t.args,response:t.response})))}function jt(t){var e=(0,y.R)(),n=t.from,r=t.to,i=(0,l.en)(e.location.href),o=(0,l.en)(n),a=(0,l.en)(r);o.path||(o=i),i.protocol===a.protocol&&i.host===a.host&&(r=a.relative),i.protocol===o.protocol&&i.host===o.host&&(n=o.relative),(0,b.Gd)().addBreadcrumb({category:"navigation",data:{from:n,to:r}})}var Ut=n(1684),Bt=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._key=e.key||"cause",this._limit=e.limit||5}return t.prototype.setupOnce=function(){(0,Ut.c)((function(e,n){var r=(0,b.Gd)().getIntegration(t);return r?function(t,e,n,r){if(!n.exception||!n.exception.values||!r||!(0,_.V9)(r.originalException,Error))return n;var i=Vt(e,r.originalException,t);return n.exception.values=(0,a.fl)(i,n.exception.values),n}(r._key,r._limit,e,n):e}))},t.id="LinkedErrors",t}();function Vt(t,e,n,r){if(void 0===r&&(r=[]),!(0,_.V9)(e[n],Error)||r.length+1>=t)return r;var i=G(e[n]);return Vt(t,e[n],n,(0,a.fl)([i],r))}var qt=(0,y.R)(),Gt=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){(0,Ut.c)((function(e){if((0,b.Gd)().getIntegration(t)){if(!qt.navigator&&!qt.location&&!qt.document)return e;var n=e.request&&e.request.url||qt.location&&qt.location.href,r=(qt.document||{}).referrer,i=(qt.navigator||{}).userAgent,o=(0,a.pi)((0,a.pi)((0,a.pi)({},e.request&&e.request.headers),r&&{Referer:r}),i&&{"User-Agent":i}),s=(0,a.pi)((0,a.pi)({},n&&{url:n}),{headers:o});return(0,a.pi)((0,a.pi)({},e),{request:s})}return e}))},t.id="UserAgent",t}(),Ht=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(e,n){e((function(e){var r=n().getIntegration(t);if(r){try{if(function(t,e){if(!e)return!1;if(function(t,e){var n=t.message,r=e.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!Kt(t,e))return!1;if(!zt(t,e))return!1;return!0}(t,e))return!0;if(function(t,e){var n=Wt(e),r=Wt(t);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!Kt(t,e))return!1;if(!zt(t,e))return!1;return!0}(t,e))return!0;return!1}(e,r._previousEvent))return Q&&c.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(i){return r._previousEvent=e}return r._previousEvent=e}return e}))},t.id="Dedupe",t}();function zt(t,e){var n=Xt(t),r=Xt(e);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(n=n,(r=r).length!==n.length)return!1;for(var i=0;i<r.length;i++){var o=r[i],a=n[i];if(o.filename!==a.filename||o.lineno!==a.lineno||o.colno!==a.colno||o.function!==a.function)return!1}return!0}function Kt(t,e){var n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return!(n.join("")!==r.join(""))}catch(i){return!1}}function Wt(t){return t.exception&&t.exception.values&&t.exception.values[0]}function Xt(t){var e=t.exception;if(e)try{return e.values[0].stacktrace.frames}catch(n){return}else if(t.stacktrace)return t.stacktrace.frames}var Yt={},Qt=(0,y.R)();Qt.Sentry&&Qt.Sentry.Integrations&&(Yt=Qt.Sentry.Integrations);var $t=(0,a.pi)((0,a.pi)((0,a.pi)({},Yt),r),i),Jt="6.19.7";var Zt=n(7790),te=[];function ee(t){return t.reduce((function(t,e){return t.every((function(t){return e.name!==t.name}))&&t.push(e),t}),[])}function ne(t){var e={};return function(t){var e=t.defaultIntegrations&&(0,a.fl)(t.defaultIntegrations)||[],n=t.integrations,r=(0,a.fl)(ee(e));Array.isArray(n)?r=(0,a.fl)(r.filter((function(t){return n.every((function(e){return e.name!==t.name}))})),ee(n)):"function"===typeof n&&(r=n(r),r=Array.isArray(r)?r:[r]);var i=r.map((function(t){return t.name})),o="Debug";return-1!==i.indexOf(o)&&r.push.apply(r,(0,a.fl)(r.splice(i.indexOf(o),1))),r}(t).forEach((function(t){e[t.name]=t,function(t){-1===te.indexOf(t.name)&&(t.setupOnce(Ut.c,b.Gd),te.push(t.name),f&&c.kg.log("Integration installed: "+t.name))}(t)})),(0,s.xp)(e,"initialized",!0),e}var re="Not capturing exception because it's already been captured.",ie=function(){function t(t,e){this._integrations={},this._numProcessing=0,this._backend=new t(e),this._options=e,e.dsn&&(this._dsn=at(e.dsn))}return t.prototype.captureException=function(t,e,n){var r=this;if(!(0,l.YO)(t)){var i=e&&e.event_id;return this._process(this._getBackend().eventFromException(t,e).then((function(t){return r._captureEvent(t,e,n)})).then((function(t){i=t}))),i}f&&c.kg.log(re)},t.prototype.captureMessage=function(t,e,n,r){var i=this,o=n&&n.event_id,a=(0,_.pt)(t)?this._getBackend().eventFromMessage(String(t),e,n):this._getBackend().eventFromException(t,n);return this._process(a.then((function(t){return i._captureEvent(t,n,r)})).then((function(t){o=t}))),o},t.prototype.captureEvent=function(t,e,n){if(!(e&&e.originalException&&(0,l.YO)(e.originalException))){var r=e&&e.event_id;return this._process(this._captureEvent(t,e,n).then((function(t){r=t}))),r}f&&c.kg.log(re)},t.prototype.captureSession=function(t){this._isEnabled()?"string"!==typeof t.release?f&&c.kg.warn("Discarded session because of missing or non-string release"):(this._sendSession(t),t.update({init:!1})):f&&c.kg.warn("SDK not enabled, will not capture session.")},t.prototype.getDsn=function(){return this._dsn},t.prototype.getOptions=function(){return this._options},t.prototype.getTransport=function(){return this._getBackend().getTransport()},t.prototype.flush=function(t){var e=this;return this._isClientDoneProcessing(t).then((function(n){return e.getTransport().close(t).then((function(t){return n&&t}))}))},t.prototype.close=function(t){var e=this;return this.flush(t).then((function(t){return e.getOptions().enabled=!1,t}))},t.prototype.setupIntegrations=function(){this._isEnabled()&&!this._integrations.initialized&&(this._integrations=ne(this._options))},t.prototype.getIntegration=function(t){try{return this._integrations[t.id]||null}catch(e){return f&&c.kg.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},t.prototype._updateSessionFromEvent=function(t,e){var n,r,i=!1,o=!1,s=e.exception&&e.exception.values;if(s){o=!0;try{for(var u=(0,a.XA)(s),c=u.next();!c.done;c=u.next()){var l=c.value.mechanism;if(l&&!1===l.handled){i=!0;break}}}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}var h="ok"===t.status;(h&&0===t.errors||h&&i)&&(t.update((0,a.pi)((0,a.pi)({},i&&{status:"crashed"}),{errors:t.errors||Number(o||i)})),this.captureSession(t))},t.prototype._sendSession=function(t){this._getBackend().sendSession(t)},t.prototype._isClientDoneProcessing=function(t){var e=this;return new A.cW((function(n){var r=0,i=setInterval((function(){0==e._numProcessing?(clearInterval(i),n(!0)):(r+=1,t&&r>=t&&(clearInterval(i),n(!1)))}),1)}))},t.prototype._getBackend=function(){return this._backend},t.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},t.prototype._prepareEvent=function(t,e,n){var r=this,i=this.getOptions(),o=i.normalizeDepth,s=void 0===o?3:o,u=i.normalizeMaxBreadth,c=void 0===u?1e3:u,h=(0,a.pi)((0,a.pi)({},t),{event_id:t.event_id||(n&&n.event_id?n.event_id:(0,l.DM)()),timestamp:t.timestamp||(0,Zt.yW)()});this._applyClientOptions(h),this._applyIntegrationsMetadata(h);var f=e;n&&n.captureContext&&(f=Ut.s.clone(f).update(n.captureContext));var p=(0,A.WD)(h);return f&&(p=f.applyToEvent(h,n)),p.then((function(t){return t&&(t.sdkProcessingMetadata=(0,a.pi)((0,a.pi)({},t.sdkProcessingMetadata),{normalizeDepth:I(s)+" ("+typeof s+")"})),"number"===typeof s&&s>0?r._normalizeEvent(t,s,c):t}))},t.prototype._normalizeEvent=function(t,e,n){if(!t)return null;var r=(0,a.pi)((0,a.pi)((0,a.pi)((0,a.pi)((0,a.pi)({},t),t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map((function(t){return(0,a.pi)((0,a.pi)({},t),t.data&&{data:I(t.data,e,n)})}))}),t.user&&{user:I(t.user,e,n)}),t.contexts&&{contexts:I(t.contexts,e,n)}),t.extra&&{extra:I(t.extra,e,n)});return t.contexts&&t.contexts.trace&&(r.contexts.trace=t.contexts.trace),r.sdkProcessingMetadata=(0,a.pi)((0,a.pi)({},r.sdkProcessingMetadata),{baseClientNormalized:!0}),r},t.prototype._applyClientOptions=function(t){var e=this.getOptions(),n=e.environment,r=e.release,i=e.dist,o=e.maxValueLength,a=void 0===o?250:o;"environment"in t||(t.environment="environment"in e?n:"production"),void 0===t.release&&void 0!==r&&(t.release=r),void 0===t.dist&&void 0!==i&&(t.dist=i),t.message&&(t.message=(0,h.$G)(t.message,a));var s=t.exception&&t.exception.values&&t.exception.values[0];s&&s.value&&(s.value=(0,h.$G)(s.value,a));var u=t.request;u&&u.url&&(u.url=(0,h.$G)(u.url,a))},t.prototype._applyIntegrationsMetadata=function(t){var e=Object.keys(this._integrations);e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=(0,a.fl)(t.sdk.integrations||[],e))},t.prototype._sendEvent=function(t){this._getBackend().sendEvent(t)},t.prototype._captureEvent=function(t,e,n){return this._processEvent(t,e,n).then((function(t){return t.event_id}),(function(t){f&&c.kg.error(t)}))},t.prototype._processEvent=function(t,e,n){var r=this,i=this.getOptions(),o=i.beforeSend,a=i.sampleRate,s=this.getTransport();function u(t,e){s.recordLostEvent&&s.recordLostEvent(t,e)}if(!this._isEnabled())return(0,A.$2)(new et("SDK not enabled, will not capture event."));var c="transaction"===t.type;return!c&&"number"===typeof a&&Math.random()>a?(u("sample_rate","event"),(0,A.$2)(new et("Discarding event because it's not included in the random sample (sampling rate = "+a+")"))):this._prepareEvent(t,n,e).then((function(n){if(null===n)throw u("event_processor",t.type||"event"),new et("An event processor returned null, will not send event.");return e&&e.data&&!0===e.data.__sentry__||c||!o?n:function(t){var e="`beforeSend` method has to return `null` or a valid event.";if((0,_.J8)(t))return t.then((function(t){if(!(0,_.PO)(t)&&null!==t)throw new et(e);return t}),(function(t){throw new et("beforeSend rejected with "+t)}));if(!(0,_.PO)(t)&&null!==t)throw new et(e);return t}(o(n,e))})).then((function(e){if(null===e)throw u("before_send",t.type||"event"),new et("`beforeSend` returned `null`, will not send event.");var i=n&&n.getSession&&n.getSession();return!c&&i&&r._updateSessionFromEvent(i,e),r._sendEvent(e),e})).then(null,(function(t){if(t instanceof et)throw t;throw r.captureException(t,{data:{__sentry__:!0},originalException:t}),new et("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+t)}))},t.prototype._process=function(t){var e=this;this._numProcessing+=1,t.then((function(t){return e._numProcessing-=1,t}),(function(t){return e._numProcessing-=1,t}))},t}();function oe(t,e){return void 0===e&&(e=[]),[t,e]}function ae(t){var e=(0,a.CR)(t,2),n=e[0],r=e[1],i=JSON.stringify(n);return r.reduce((function(t,e){var n=(0,a.CR)(e,2),r=n[0],i=n[1],o=(0,_.pt)(i)?String(i):JSON.stringify(i);return t+"\n"+JSON.stringify(r)+"\n"+o}),i)}function se(t){if(t.metadata&&t.metadata.sdk){var e=t.metadata.sdk;return{name:e.name,version:e.version}}}function ue(t,e){return e?(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=(0,a.fl)(t.sdk.integrations||[],e.integrations||[]),t.sdk.packages=(0,a.fl)(t.sdk.packages||[],e.packages||[]),t):t}function ce(t,e){var n=se(e),r="aggregates"in t?"sessions":"session";return[oe((0,a.pi)((0,a.pi)({sent_at:(new Date).toISOString()},n&&{sdk:n}),!!e.tunnel&&{dsn:it(e.dsn)}),[[{type:r},t]]),r]}var le=function(){function t(){}return t.prototype.sendEvent=function(t){return(0,A.WD)({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:"skipped"})},t.prototype.close=function(t){return(0,A.WD)(!0)},t}(),he=function(){function t(t){this._options=t,this._options.dsn||f&&c.kg.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return t.prototype.eventFromException=function(t,e){throw new et("Backend has to implement `eventFromException` method")},t.prototype.eventFromMessage=function(t,e,n){throw new et("Backend has to implement `eventFromMessage` method")},t.prototype.sendEvent=function(t){if(this._newTransport&&this._options.dsn&&this._options._experiments&&this._options._experiments.newTransport){var e=function(t,e){var n=se(e),r=t.type||"event",i=(t.sdkProcessingMetadata||{}).transactionSampling||{},o=i.method,s=i.rate;return ue(t,e.metadata.sdk),t.tags=t.tags||{},t.extra=t.extra||{},t.sdkProcessingMetadata&&t.sdkProcessingMetadata.baseClientNormalized||(t.tags.skippedNormalization=!0,t.extra.normalizeDepth=t.sdkProcessingMetadata?t.sdkProcessingMetadata.normalizeDepth:"unset"),delete t.sdkProcessingMetadata,oe((0,a.pi)((0,a.pi)({event_id:t.event_id,sent_at:(new Date).toISOString()},n&&{sdk:n}),!!e.tunnel&&{dsn:it(e.dsn)}),[[{type:r,sample_rates:[{id:o,rate:s}]},t]])}(t,st(this._options.dsn,this._options._metadata,this._options.tunnel));this._newTransport.send(e).then(null,(function(t){f&&c.kg.error("Error while sending event:",t)}))}else this._transport.sendEvent(t).then(null,(function(t){f&&c.kg.error("Error while sending event:",t)}))},t.prototype.sendSession=function(t){if(this._transport.sendSession)if(this._newTransport&&this._options.dsn&&this._options._experiments&&this._options._experiments.newTransport){var e=st(this._options.dsn,this._options._metadata,this._options.tunnel),n=(0,a.CR)(ce(t,e),1)[0];this._newTransport.send(n).then(null,(function(t){f&&c.kg.error("Error while sending session:",t)}))}else this._transport.sendSession(t).then(null,(function(t){f&&c.kg.error("Error while sending session:",t)}));else f&&c.kg.warn("Dropping session because custom transport doesn't implement sendSession")},t.prototype.getTransport=function(){return this._transport},t.prototype._setupTransport=function(){return new le},t}(),fe=n(9798);function pe(t){var e=[];function n(t){return e.splice(e.indexOf(t),1)[0]}return{$:e,add:function(r){if(!(void 0===t||e.length<t))return(0,A.$2)(new et("Not adding Promise due to buffer limit reached."));var i=r();return-1===e.indexOf(i)&&e.push(i),i.then((function(){return n(i)})).then(null,(function(){return n(i).then(null,(function(){}))})),i},drain:function(t){return new A.cW((function(n,r){var i=e.length;if(!i)return n(!0);var o=setTimeout((function(){t&&t>0&&n(!1)}),t);e.forEach((function(t){(0,A.WD)(t).then((function(){--i||(clearTimeout(o),n(!0))}),r)}))}))}}}function de(t,e){return t[e]||t.all||0}function ge(t,e,n){return void 0===n&&(n=Date.now()),de(t,e)>n}function ve(t,e,n){var r,i,o,s;void 0===n&&(n=Date.now());var u=(0,a.pi)({},t),c=e["x-sentry-rate-limits"],l=e["retry-after"];if(c)try{for(var h=(0,a.XA)(c.trim().split(",")),f=h.next();!f.done;f=h.next()){var p=f.value.split(":",2),d=parseInt(p[0],10),g=1e3*(isNaN(d)?60:d);if(p[1])try{for(var v=(o=void 0,(0,a.XA)(p[1].split(";"))),m=v.next();!m.done;m=v.next()){u[m.value]=n+g}}catch(y){o={error:y}}finally{try{m&&!m.done&&(s=v.return)&&s.call(v)}finally{if(o)throw o.error}}else u.all=n+g}}catch(b){r={error:b}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}else l&&(u.all=n+function(t,e){void 0===e&&(e=Date.now());var n=parseInt(""+t,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(""+t);return isNaN(r)?6e4:r-e}(l,n));return u}function me(t){return t>=200&&t<300?"success":429===t?"rate_limit":t>=400&&t<500?"invalid":t>=500?"failed":"unknown"}function ye(t,e,n){void 0===n&&(n=pe(t.bufferSize||30));var r={};return{send:function(t){var i=function(t){var e=(0,a.CR)(t,2),n=(0,a.CR)(e[1],1);return(0,a.CR)(n[0],1)[0].type}(t),o="event"===i?"error":i,s={category:o,body:ae(t)};return ge(r,o)?(0,A.$2)({status:"rate_limit",reason:be(r,o)}):n.add((function(){return e(s).then((function(t){var e=t.body,n=t.headers,i=t.reason,a=me(t.statusCode);return n&&(r=ve(r,n)),"success"===a?(0,A.WD)({status:a,reason:i}):(0,A.$2)({status:a,reason:i||e||("rate_limit"===a?be(r,o):"Unknown transport error")})}))}))},flush:function(t){return n.drain(t)}}}function be(t,e){return"Too many "+e+" requests, backing off until: "+new Date(de(t,e)).toISOString()}var we,_e=(0,y.R)();function Te(){if(we)return we;if((0,fe.Du)(_e.fetch))return we=_e.fetch.bind(_e);var t=_e.document,e=_e.fetch;if(t&&"function"===typeof t.createElement)try{var n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n);var r=n.contentWindow;r&&r.fetch&&(e=r.fetch),t.head.removeChild(n)}catch(i){Q&&c.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return we=e.bind(_e)}function Ee(t,e){if("[object Navigator]"===Object.prototype.toString.call(_e&&_e.navigator)&&"function"===typeof _e.navigator.sendBeacon)return _e.navigator.sendBeacon.bind(_e.navigator)(t,e);if((0,fe.Ak)()){var n=Te();n(t,{body:e,method:"POST",credentials:"omit",keepalive:!0}).then(null,(function(t){console.error(t)}))}else;}function Ie(t){return"event"===t?"error":t}var Se=(0,y.R)(),ke=function(){function t(t){var e=this;this.options=t,this._buffer=pe(30),this._rateLimits={},this._outcomes={},this._api=st(t.dsn,t._metadata,t.tunnel),this.url=ft(this._api.dsn),this.options.sendClientReports&&Se.document&&Se.document.addEventListener("visibilitychange",(function(){"hidden"===Se.document.visibilityState&&e._flushOutcomes()}))}return t.prototype.sendEvent=function(t){return this._sendRequest(function(t,e){var n,r=se(e),i=t.type||"event",o="transaction"===i||!!e.tunnel,s=(t.sdkProcessingMetadata||{}).transactionSampling||{},u=s.method,c=s.rate;ue(t,e.metadata.sdk),t.tags=t.tags||{},t.extra=t.extra||{},t.sdkProcessingMetadata&&t.sdkProcessingMetadata.baseClientNormalized||(t.tags.skippedNormalization=!0,t.extra.normalizeDepth=t.sdkProcessingMetadata?t.sdkProcessingMetadata.normalizeDepth:"unset"),delete t.sdkProcessingMetadata;try{n=JSON.stringify(t)}catch(p){t.tags.JSONStringifyError=!0,t.extra.JSONStringifyError=p;try{n=JSON.stringify(I(t))}catch(d){var l=d;n=JSON.stringify({message:"JSON.stringify error after renormalization",extra:{message:l.message,stack:l.stack}})}}var h={body:n,type:i,url:o?pt(e.dsn,e.tunnel):ft(e.dsn)};if(o){var f=oe((0,a.pi)((0,a.pi)({event_id:t.event_id,sent_at:(new Date).toISOString()},r&&{sdk:r}),!!e.tunnel&&{dsn:it(e.dsn)}),[[{type:i,sample_rates:[{id:u,rate:c}]},h.body]]);h.body=ae(f)}return h}(t,this._api),t)},t.prototype.sendSession=function(t){return this._sendRequest(function(t,e){var n=(0,a.CR)(ce(t,e),2),r=n[0],i=n[1];return{body:ae(r),type:i,url:pt(e.dsn,e.tunnel)}}(t,this._api),t)},t.prototype.close=function(t){return this._buffer.drain(t)},t.prototype.recordLostEvent=function(t,e){var n;if(this.options.sendClientReports){var r=Ie(e)+":"+t;Q&&c.kg.log("Adding outcome: "+r),this._outcomes[r]=(null!==(n=this._outcomes[r])&&void 0!==n?n:0)+1}},t.prototype._flushOutcomes=function(){if(this.options.sendClientReports){var t=this._outcomes;if(this._outcomes={},Object.keys(t).length){Q&&c.kg.log("Flushing outcomes:\n"+JSON.stringify(t,null,2));var e,n,r,i=pt(this._api.dsn,this._api.tunnel),o=Object.keys(t).map((function(e){var n=(0,a.CR)(e.split(":"),2),r=n[0];return{reason:n[1],category:r,quantity:t[e]}})),s=(e=o,oe((n=this._api.tunnel&&it(this._api.dsn))?{dsn:n}:{},[[{type:"client_report"},{timestamp:r||(0,Zt.yW)(),discarded_events:e}]]));try{Ee(i,ae(s))}catch(u){Q&&c.kg.error(u)}}else Q&&c.kg.log("No outcomes to flush")}},t.prototype._handleResponse=function(t){var e=t.requestType,n=t.response,r=t.headers,i=t.resolve,o=t.reject,a=me(n.status);this._rateLimits=ve(this._rateLimits,r),this._isRateLimited(e)&&Q&&c.kg.warn("Too many "+e+" requests, backing off until: "+this._disabledUntil(e)),"success"!==a?o(n):i({status:a})},t.prototype._disabledUntil=function(t){var e=Ie(t);return new Date(de(this._rateLimits,e))},t.prototype._isRateLimited=function(t){var e=Ie(t);return ge(this._rateLimits,e)},t}(),Ae=function(t){function e(e,n){void 0===n&&(n=Te());var r=t.call(this,e)||this;return r._fetch=n,r}return(0,a.ZT)(e,t),e.prototype._sendRequest=function(t,e){var n=this;if(this._isRateLimited(t.type))return this.recordLostEvent("ratelimit_backoff",t.type),Promise.reject({event:e,type:t.type,reason:"Transport for "+t.type+" requests locked till "+this._disabledUntil(t.type)+" due to too many requests.",status:429});var r={body:t.body,method:"POST",referrerPolicy:(0,fe.hv)()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(r,this.options.fetchParameters),void 0!==this.options.headers&&(r.headers=this.options.headers),this._buffer.add((function(){return new A.cW((function(e,i){n._fetch(t.url,r).then((function(r){var o={"x-sentry-rate-limits":r.headers.get("X-Sentry-Rate-Limits"),"retry-after":r.headers.get("Retry-After")};n._handleResponse({requestType:t.type,response:r,headers:o,resolve:e,reject:i})})).catch(i)}))})).then(void 0,(function(e){throw e instanceof et?n.recordLostEvent("queue_overflow",t.type):n.recordLostEvent("network_error",t.type),e}))},e}(ke);var Ce=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,a.ZT)(e,t),e.prototype._sendRequest=function(t,e){var n=this;return this._isRateLimited(t.type)?(this.recordLostEvent("ratelimit_backoff",t.type),Promise.reject({event:e,type:t.type,reason:"Transport for "+t.type+" requests locked till "+this._disabledUntil(t.type)+" due to too many requests.",status:429})):this._buffer.add((function(){return new A.cW((function(e,r){var i=new XMLHttpRequest;for(var o in i.onreadystatechange=function(){if(4===i.readyState){var o={"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")};n._handleResponse({requestType:t.type,response:i,headers:o,resolve:e,reject:r})}},i.open("POST",t.url),n.options.headers)Object.prototype.hasOwnProperty.call(n.options.headers,o)&&i.setRequestHeader(o,n.options.headers[o]);i.send(t.body)}))})).then(void 0,(function(e){throw e instanceof et?n.recordLostEvent("queue_overflow",t.type):n.recordLostEvent("network_error",t.type),e}))},e}(ke),xe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,a.ZT)(e,t),e.prototype.eventFromException=function(t,e){return function(t,e,n){var r=X(t,e&&e.syntheticException||void 0,n);return(0,l.EG)(r),r.level=m.Error,e&&e.event_id&&(r.event_id=e.event_id),(0,A.WD)(r)}(t,e,this._options.attachStacktrace)},e.prototype.eventFromMessage=function(t,e,n){return void 0===e&&(e=m.Info),function(t,e,n,r){void 0===e&&(e=m.Info);var i=Y(t,n&&n.syntheticException||void 0,r);return i.level=e,n&&n.event_id&&(i.event_id=n.event_id),(0,A.WD)(i)}(t,e,n,this._options.attachStacktrace)},e.prototype._setupTransport=function(){if(!this._options.dsn)return t.prototype._setupTransport.call(this);var e,n,r=(0,a.pi)((0,a.pi)({},this._options.transportOptions),{dsn:this._options.dsn,tunnel:this._options.tunnel,sendClientReports:this._options.sendClientReports,_metadata:this._options._metadata}),i=st(r.dsn,r._metadata,r.tunnel),o=pt(i.dsn,i.tunnel);if(this._options.transport)return new this._options.transport(r);if((0,fe.Ak)()){var s=(0,a.pi)({},r.fetchParameters);return this._newTransport=(e={requestOptions:s,url:o},void 0===n&&(n=Te()),ye({bufferSize:e.bufferSize},(function(t){var r=(0,a.pi)({body:t.body,method:"POST",referrerPolicy:"origin"},e.requestOptions);return n(e.url,r).then((function(t){return t.text().then((function(e){return{body:e,headers:{"x-sentry-rate-limits":t.headers.get("X-Sentry-Rate-Limits"),"retry-after":t.headers.get("Retry-After")},reason:t.statusText,statusCode:t.status}}))}))}))),new Ae(r)}return this._newTransport=function(t){return ye({bufferSize:t.bufferSize},(function(e){return new A.cW((function(n,r){var i=new XMLHttpRequest;for(var o in i.onreadystatechange=function(){if(4===i.readyState){var t={body:i.response,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")},reason:i.statusText,statusCode:i.status};n(t)}},i.open("POST",t.url),t.headers)Object.prototype.hasOwnProperty.call(t.headers,o)&&i.setRequestHeader(o,t.headers[o]);i.send(e.body)}))}))}({url:o,headers:r.headers}),new Ce(r)},e}(he),Oe=function(t){function e(e){void 0===e&&(e={});return e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:Jt}],version:Jt},t.call(this,xe,e)||this}return(0,a.ZT)(e,t),e.prototype.showReportDialog=function(t){void 0===t&&(t={}),(0,y.R)().document&&(this._isEnabled()?bt((0,a.pi)((0,a.pi)({},t),{dsn:t.dsn||this.getDsn()})):Q&&c.kg.error("Trying to call showReportDialog with Sentry Client disabled"))},e.prototype._prepareEvent=function(e,n,r){return e.platform=e.platform||"javascript",t.prototype._prepareEvent.call(this,e,n,r)},e.prototype._sendEvent=function(e){var n=this.getIntegration(Pt);n&&n.addSentryBreadcrumb(e),t.prototype._sendEvent.call(this,e)},e}(ie),Ne=[new d,new u,new At,new Pt,new wt,new Bt,new Ht,new Gt];function De(t){if(void 0===t&&(t={}),void 0===t.defaultIntegrations&&(t.defaultIntegrations=Ne),void 0===t.release){var e=(0,y.R)();e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id&&(t.release=e.SENTRY_RELEASE.id)}void 0===t.autoSessionTracking&&(t.autoSessionTracking=!0),void 0===t.sendClientReports&&(t.sendClientReports=!0),function(t,e){!0===e.debug&&(f?c.kg.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));var n=(0,b.Gd)(),r=n.getScope();r&&r.update(e.initialScope);var i=new t(e);n.bindClient(i)}(Oe,t),t.autoSessionTracking&&function(){if("undefined"===typeof(0,y.R)().document)return void(Q&&c.kg.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));var t=(0,b.Gd)();if(!t.captureSession)return;Re(t),(0,w.o)("history",(function(t){var e=t.from,n=t.to;void 0!==e&&e!==n&&Re((0,b.Gd)())}))}()}function Re(t){t.startSession({ignoreDuration:!0}),t.captureSession()}var Pe=n(2252),Le=n(4741),Fe=n(1177),Me=n(1265),je=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");var Ue=n(7734),Be=(0,y.R)();var Ve=n(4266),qe=function(t,e,n){var r;return function(i){e.value>=0&&(i||n)&&(e.delta=e.value-(r||0),(e.delta||void 0===r)&&(r=e.value,t(e)))}},Ge=function(t,e){return{name:t,value:null!==e&&void 0!==e?e:-1,delta:0,entries:[],id:"v2-"+Date.now()+"-"+(Math.floor(8999999999999*Math.random())+1e12)}},He=function(t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){if("first-input"===t&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver((function(t){return t.getEntries().map(e)}));return n.observe({type:t,buffered:!0}),n}}catch(r){}},ze=function(t,e){var n=function(r){"pagehide"!==r.type&&"hidden"!==(0,y.R)().document.visibilityState||(t(r),e&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},Ke=-1,We=function(){return Ke<0&&(Ke="hidden"===(0,y.R)().document.visibilityState?0:1/0,ze((function(t){var e=t.timeStamp;Ke=e}),!0)),{get firstHiddenTime(){return Ke}}},Xe={},Ye=(0,y.R)(),Qe=function(){function t(t){void 0===t&&(t=!1),this._reportAllChanges=t,this._measurements={},this._performanceCursor=0,!(0,Ve.KV)()&&Ye&&Ye.performance&&Ye.document&&(Ye.performance.mark&&Ye.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(),this._trackFID())}return t.prototype.addPerformanceEntries=function(t){var e=this;if(Ye&&Ye.performance&&Ye.performance.getEntries&&Zt.Z1){Le.h&&c.kg.log("[Tracing] Adding & adjusting spans using Performance API");var n,r,i=(0,Me.XL)(Zt.Z1);if(Ye.performance.getEntries().slice(this._performanceCursor).forEach((function(o){var a=(0,Me.XL)(o.startTime),s=(0,Me.XL)(o.duration);if(!("navigation"===t.op&&i+a<t.startTimestamp))switch(o.entryType){case"navigation":!function(t,e,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((function(r){$e(t,e,r,n)})),$e(t,e,"secureConnection",n,"TLS/SSL","connectEnd"),$e(t,e,"fetch",n,"cache","domainLookupStart"),$e(t,e,"domainLookup",n,"DNS"),function(t,e,n){Je(t,{op:"browser",description:"request",startTimestamp:n+(0,Me.XL)(e.requestStart),endTimestamp:n+(0,Me.XL)(e.responseEnd)}),Je(t,{op:"browser",description:"response",startTimestamp:n+(0,Me.XL)(e.responseStart),endTimestamp:n+(0,Me.XL)(e.responseEnd)})}(t,e,n)}(t,o,i),n=i+(0,Me.XL)(o.responseStart),r=i+(0,Me.XL)(o.requestStart);break;case"mark":case"paint":case"measure":var u=function(t,e,n,r,i){var o=i+n,a=o+r;return Je(t,{description:e.name,endTimestamp:a,op:e.entryType,startTimestamp:o}),o}(t,o,a,s,i),l=We(),h=o.startTime<l.firstHiddenTime;"first-paint"===o.name&&h&&(Le.h&&c.kg.log("[Measurements] Adding FP"),e._measurements.fp={value:o.startTime},e._measurements["mark.fp"]={value:u}),"first-contentful-paint"===o.name&&h&&(Le.h&&c.kg.log("[Measurements] Adding FCP"),e._measurements.fcp={value:o.startTime},e._measurements["mark.fcp"]={value:u});break;case"resource":var f=o.name.replace(Ye.location.origin,"");!function(t,e,n,r,i,o){if("xmlhttprequest"===e.initiatorType||"fetch"===e.initiatorType)return;var a={};"transferSize"in e&&(a["Transfer Size"]=e.transferSize);"encodedBodySize"in e&&(a["Encoded Body Size"]=e.encodedBodySize);"decodedBodySize"in e&&(a["Decoded Body Size"]=e.decodedBodySize);var s=o+r;Je(t,{description:n,endTimestamp:s+i,op:e.initiatorType?"resource."+e.initiatorType:"resource",startTimestamp:s,data:a})}(t,o,f,a,s,i)}})),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(t),"pageload"===t.op){var o=(0,Me.XL)(Zt.Z1);"number"===typeof n&&(Le.h&&c.kg.log("[Measurements] Adding TTFB"),this._measurements.ttfb={value:1e3*(n-t.startTimestamp)},"number"===typeof r&&r<=n&&(this._measurements["ttfb.requestTime"]={value:1e3*(n-r)})),["fcp","fp","lcp"].forEach((function(n){if(e._measurements[n]&&!(o>=t.startTimestamp)){var r=e._measurements[n].value,i=o+(0,Me.XL)(r),a=Math.abs(1e3*(i-t.startTimestamp)),s=a-r;Le.h&&c.kg.log("[Measurements] Normalized "+n+" from "+r+" to "+a+" ("+s+")"),e._measurements[n].value=a}})),this._measurements["mark.fid"]&&this._measurements.fid&&Je(t,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+(0,Me.XL)(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),"fcp"in this._measurements||delete this._measurements.cls,t.setMeasurements(this._measurements),function(t,e,n){e&&(Le.h&&c.kg.log("[Measurements] Adding LCP Data"),e.element&&t.setTag("lcp.element",(0,T.R)(e.element)),e.id&&t.setTag("lcp.id",e.id),e.url&&t.setTag("lcp.url",e.url.trim().slice(0,200)),t.setTag("lcp.size",e.size));n&&n.sources&&(Le.h&&c.kg.log("[Measurements] Adding CLS Data"),n.sources.forEach((function(e,n){return t.setTag("cls.source."+(n+1),(0,T.R)(e.node))})))}(t,this._lcpEntry,this._clsEntry),t.setTag("sentry_reportAllChanges",this._reportAllChanges)}}},t.prototype._trackNavigator=function(t){var e=Ye.navigator;if(e){var n=e.connection;n&&(n.effectiveType&&t.setTag("effectiveConnectionType",n.effectiveType),n.type&&t.setTag("connectionType",n.type),Ze(n.rtt)&&(this._measurements["connection.rtt"]={value:n.rtt}),Ze(n.downlink)&&(this._measurements["connection.downlink"]={value:n.downlink})),Ze(e.deviceMemory)&&t.setTag("deviceMemory",String(e.deviceMemory)),Ze(e.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}},t.prototype._trackCLS=function(){var t=this;!function(t,e){var n,r=Ge("CLS",0),i=0,o=[],a=function(t){if(t&&!t.hadRecentInput){var e=o[0],a=o[o.length-1];i&&0!==o.length&&t.startTime-a.startTime<1e3&&t.startTime-e.startTime<5e3?(i+=t.value,o.push(t)):(i=t.value,o=[t]),i>r.value&&(r.value=i,r.entries=o,n&&n())}},s=He("layout-shift",a);s&&(n=qe(t,r,e),ze((function(){s.takeRecords().map(a),n(!0)})))}((function(e){var n=e.entries.pop();n&&(Le.h&&c.kg.log("[Measurements] Adding CLS"),t._measurements.cls={value:e.value},t._clsEntry=n)}))},t.prototype._trackLCP=function(){var t=this;!function(t,e){var n,r=We(),i=Ge("LCP"),o=function(t){var e=t.startTime;e<r.firstHiddenTime&&(i.value=e,i.entries.push(t)),n&&n()},a=He("largest-contentful-paint",o);if(a){n=qe(t,i,e);var s=function(){Xe[i.id]||(a.takeRecords().map(o),a.disconnect(),Xe[i.id]=!0,n(!0))};["keydown","click"].forEach((function(t){addEventListener(t,s,{once:!0,capture:!0})})),ze(s,!0)}}((function(e){var n=e.entries.pop();if(n){var r=(0,Me.XL)(Zt.Z1),i=(0,Me.XL)(n.startTime);Le.h&&c.kg.log("[Measurements] Adding LCP"),t._measurements.lcp={value:e.value},t._measurements["mark.lcp"]={value:r+i},t._lcpEntry=n}}),this._reportAllChanges)},t.prototype._trackFID=function(){var t=this;!function(t,e){var n,r=We(),i=Ge("FID"),o=function(t){n&&t.startTime<r.firstHiddenTime&&(i.value=t.processingStart-t.startTime,i.entries.push(t),n(!0))},a=He("first-input",o);a&&(n=qe(t,i,e),ze((function(){a.takeRecords().map(o),a.disconnect()}),!0))}((function(e){var n=e.entries.pop();if(n){var r=(0,Me.XL)(Zt.Z1),i=(0,Me.XL)(n.startTime);Le.h&&c.kg.log("[Measurements] Adding FID"),t._measurements.fid={value:e.value},t._measurements["mark.fid"]={value:r+i}}}))},t}();function $e(t,e,n,r,i,o){var a=o?e[o]:e[n+"End"],s=e[n+"Start"];s&&a&&Je(t,{op:"browser",description:null!==i&&void 0!==i?i:n,startTimestamp:r+(0,Me.XL)(s),endTimestamp:r+(0,Me.XL)(a)})}function Je(t,e){var n=e.startTimestamp,r=(0,a._T)(e,["startTimestamp"]);return n&&t.startTimestamp>n&&(t.startTimestamp=n),t.startChild((0,a.pi)({startTimestamp:n},r))}function Ze(t){return"number"===typeof t&&isFinite(t)}var tn={traceFetch:!0,traceXHR:!0,tracingOrigins:["localhost",/^\//]};function en(t){var e=(0,a.pi)((0,a.pi)({},tn),t),n=e.traceFetch,r=e.traceXHR,i=e.tracingOrigins,o=e.shouldCreateSpanForRequest,s={},u=function(t){if(s[t])return s[t];var e=i;return s[t]=e.some((function(e){return(0,h.zC)(t,e)}))&&!(0,h.zC)(t,"sentry_key"),s[t]},c=u;"function"===typeof o&&(c=function(t){return u(t)&&o(t)});var l={};n&&(0,w.o)("fetch",(function(t){!function(t,e,n){if(!(0,Me.zu)()||!t.fetchData||!e(t.fetchData.url))return;if(t.endTimestamp){var r=t.fetchData.__span;if(!r)return;return void((o=n[r])&&(t.response?o.setHttpStatus(t.response.status):t.error&&o.setStatus("internal_error"),o.finish(),delete n[r]))}var i=(0,Me.x1)();if(i){var o=i.startChild({data:(0,a.pi)((0,a.pi)({},t.fetchData),{type:"fetch"}),description:t.fetchData.method+" "+t.fetchData.url,op:"http.client"});t.fetchData.__span=o.spanId,n[o.spanId]=o;var s=t.args[0]=t.args[0],u=t.args[1]=t.args[1]||{},c=u.headers;(0,_.V9)(s,Request)&&(c=s.headers),c?"function"===typeof c.append?c.append("sentry-trace",o.toTraceparent()):c=Array.isArray(c)?(0,a.fl)(c,[["sentry-trace",o.toTraceparent()]]):(0,a.pi)((0,a.pi)({},c),{"sentry-trace":o.toTraceparent()}):c={"sentry-trace":o.toTraceparent()},u.headers=c}}(t,c,l)})),r&&(0,w.o)("xhr",(function(t){!function(t,e,n){if(!(0,Me.zu)()||t.xhr&&t.xhr.__sentry_own_request__||!(t.xhr&&t.xhr.__sentry_xhr__&&e(t.xhr.__sentry_xhr__.url)))return;var r=t.xhr.__sentry_xhr__;if(t.endTimestamp){var i=t.xhr.__sentry_xhr_span_id__;if(!i)return;return void((s=n[i])&&(s.setHttpStatus(r.status_code),s.finish(),delete n[i]))}var o=(0,Me.x1)();if(o){var s=o.startChild({data:(0,a.pi)((0,a.pi)({},r.data),{type:"xhr",method:r.method,url:r.url}),description:r.method+" "+r.url,op:"http.client"});if(t.xhr.__sentry_xhr_span_id__=s.spanId,n[t.xhr.__sentry_xhr_span_id__]=s,t.xhr.setRequestHeader)try{t.xhr.setRequestHeader("sentry-trace",s.toTraceparent())}catch(u){}}}(t,c,l)}))}var nn=(0,y.R)();var rn=(0,a.pi)({idleTimeout:Fe.nT,markBackgroundTransactions:!0,maxTransactionDuration:600,routingInstrumentation:function(t,e,n){if(void 0===e&&(e=!0),void 0===n&&(n=!0),nn&&nn.location){var r,i=nn.location.href;e&&(r=t({name:nn.location.pathname,op:"pageload"})),n&&(0,w.o)("history",(function(e){var n=e.to,o=e.from;void 0===o&&i&&-1!==i.indexOf(n)?i=void 0:o!==n&&(i=void 0,r&&(Le.h&&c.kg.log("[Tracing] Finishing current transaction with op: "+r.op),r.finish()),r=t({name:nn.location.pathname,op:"navigation"}))}))}else Le.h&&c.kg.warn("Could not initialize routing instrumentation due to invalid location")},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},tn),on=function(){function t(e){this.name=t.id,this._configuredIdleTimeout=void 0;var n=tn.tracingOrigins;e&&(this._configuredIdleTimeout=e.idleTimeout,e.tracingOrigins&&Array.isArray(e.tracingOrigins)&&0!==e.tracingOrigins.length?n=e.tracingOrigins:Le.h&&(this._emitOptionsWarning=!0)),this.options=(0,a.pi)((0,a.pi)((0,a.pi)({},rn),e),{tracingOrigins:n});var r=this.options._metricOptions;this._metrics=new Qe(r&&r._reportAllChanges)}return t.prototype.setupOnce=function(t,e){var n=this;this._getCurrentHub=e,this._emitOptionsWarning&&(Le.h&&c.kg.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),Le.h&&c.kg.warn("[Tracing] We added a reasonable default for you: "+tn.tracingOrigins));var r=this.options,i=r.routingInstrumentation,o=r.startTransactionOnLocationChange,a=r.startTransactionOnPageLoad,s=r.markBackgroundTransactions,u=r.traceFetch,l=r.traceXHR,h=r.tracingOrigins,f=r.shouldCreateSpanForRequest;i((function(t){return n._createRouteTransaction(t)}),a,o),s&&(Be&&Be.document?Be.document.addEventListener("visibilitychange",(function(){var t=(0,Me.x1)();if(Be.document.hidden&&t){var e="cancelled";Le.h&&c.kg.log("[Tracing] Transaction: cancelled -> since tab moved to the background, op: "+t.op),t.status||t.setStatus(e),t.setTag("visibilitychange","document.hidden"),t.setTag(Ue.d,Ue.x[2]),t.finish()}})):Le.h&&c.kg.warn("[Tracing] Could not set up background tab detection due to lack of global document")),en({traceFetch:u,traceXHR:l,tracingOrigins:h,shouldCreateSpanForRequest:f})},t.prototype._createRouteTransaction=function(t){var e=this;if(this._getCurrentHub){var n=this.options,r=n.beforeNavigate,i=n.idleTimeout,o=n.maxTransactionDuration,s="pageload"===t.op?function(){var t=function(t){var e=(0,y.R)().document.querySelector("meta[name="+t+"]");return e?e.getAttribute("content"):null}("sentry-trace");if(t)return function(t){var e=t.match(je);if(e){var n=void 0;return"1"===e[3]?n=!0:"0"===e[3]&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}}(t);return}():void 0,u=(0,a.pi)((0,a.pi)((0,a.pi)({},t),s),{trimEnd:!0}),l="function"===typeof r?r(u):u,h=void 0===l?(0,a.pi)((0,a.pi)({},u),{sampled:!1}):l;!1===h.sampled&&Le.h&&c.kg.log("[Tracing] Will not send "+h.op+" transaction because of beforeNavigate."),Le.h&&c.kg.log("[Tracing] Starting "+h.op+" transaction on scope");var f=this._getCurrentHub(),p=(0,y.R)().location,d=(0,Pe.lb)(f,h,i,!0,{location:p});return d.registerBeforeFinishCallback((function(t,n){e._metrics.addPerformanceEntries(t),function(t,e,n){var r=n-e.startTimestamp;n&&(r>t||r<0)&&(e.setStatus("deadline_exceeded"),e.setTag("maxTransactionDurationExceeded","true"))}((0,Me.WB)(o),t,n)})),d.setTag("idleTimeout",this._configuredIdleTimeout),d}Le.h&&c.kg.warn("[Tracing] Did not create "+t.op+" transaction because _getCurrentHub is invalid.")},t.id="BrowserTracing",t}();(0,Pe.ro)();var an=n(5632),sn=(0,y.R)(),un={"routing.instrumentation":"next-router"},cn=void 0,ln=void 0,hn=void 0;function fn(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=!0),hn=t,an.default.ready((function(){if(e&&(ln=null!==an.default.route?(0,l.rt)(an.default.route):sn.location.pathname,cn=t({name:ln,op:"pageload",tags:un})),n){var r=Object.getPrototypeOf(an.default.router);(0,s.hl)(r,"changeState",pn)}}))}function pn(t){return function(e,n,r,i){for(var o=[],s=4;s<arguments.length;s++)o[s-4]=arguments[s];var u=(0,l.rt)(n);if(void 0!==hn&&ln!==u){cn&&cn.finish();var c=(0,a.pi)((0,a.pi)((0,a.pi)({},un),{method:e}),i);ln&&(c.from=ln),cn=hn({name:ln=u,op:"navigation",tags:c})}return t.call.apply(t,(0,a.fl)([this,e,n,r,i],o))}}function dn(t,e,n){var r=e.match(/([a-z]+)\.(.*)/i);null===r?t[e]=n:dn(t[r[1]],r[2],n)}function gn(t,e,n){return void 0===n&&(n={}),Array.isArray(e)?vn(t,e,n):function(t,e,n){return function(r){var i=e(r);return vn(t,i,n)}}(t,e,n)}function vn(t,e,n){for(var r=!1,i=0;i<e.length;i++){e[i].name===t.name&&(r=!0);var o=n[e[i].name];o&&dn(e[i],o.keyPath,o.value)}return r?e:(0,a.fl)(e,[t])}(0,a.pi)((0,a.pi)({},$t),{BrowserTracing:on});var mn=new on({tracingOrigins:(0,a.fl)(tn.tracingOrigins,[/^(api\/)/]),routingInstrumentation:fn});var yn=n(4406);!function(t){!function(t,e){t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.nextjs",packages:e.map((function(t){return{name:"npm:@sentry/"+t,version:Jt}})),version:Jt}}(t,["nextjs","react"]),t.environment=t.environment||"production";var e=void 0===t.tracesSampleRate&&void 0===t.tracesSampler?t.integrations:function(t){return t?gn(mn,t,{BrowserTracing:{keyPath:"options.routingInstrumentation",value:fn}}):[mn]}(t.integrations);!function(t){t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.react",packages:[{name:"npm:@sentry/react",version:Jt}],version:Jt},De(t)}((0,a.pi)((0,a.pi)({},t),{integrations:e})),$("configureScope",(function(t){t.setTag("runtime","browser"),t.addEventProcessor((function(t){return"transaction"===t.type&&"/404"===t.transaction?null:t}))}))}({dsn:yn.env.SENTRY_DSN||yn.env.NEXT_PUBLIC_SENTRY_DSN||"https://0ea8c10c315f41fb946c2f2b112963ca@o235797.ingest.sentry.io/5896987",tracesSampleRate:.3})},3552:function(t,e,n){"use strict";n.d(e,{S:function(){return r}});var r=n(2784).createContext({user:null,setUser:function(){}})},9550:function(t,e,n){"use strict";var r=n(5532);r.Z.apps.length||r.Z.initializeApp({apiKey:"AIzaSyCR1oteCf0oGnq0HXymDmcn0jOf7IXUmuo",authDomain:"cssbattleapp.firebaseapp.com",databaseURL:"https://cssbattleapp.firebaseio.com",projectId:"cssbattleapp",storageBucket:"cssbattleapp.appspot.com",messagingSenderId:"924387938820"})},7414:function(t,e,n){"use strict";n.d(e,{P:function(){return i}});var r=n(2784),i=function(){var t=(0,r.useState)(!1),e=t[0],n=t[1];return(0,r.useEffect)((function(){n(!0)}),[]),e}},8645:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return T}});var r=n(2322),i=n(2784),o=n(7729),a=n(5632),s=n(2021),u=n.n(s);function c(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(c){return void n(c)}s.done?e(u):Promise.resolve(u).then(r,i)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){c(o,r,i,a,s,"next",t)}function s(t){c(o,r,i,a,s,"throw",t)}a(void 0)}))}}function h(){return f.apply(this,arguments)}function f(){return(f=l(u().mark((function t(){var e,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/session?action=add");case 2:return e=t.sent,t.next=5,e.text();case 5:return n=t.sent,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(){(0,i.useEffect)((function(){var t;(function(){var t=new RegExp("(googlebot/|bot|Googlebot-Mobile|Googlebot-Image|Google favicon|Mediapartners-Google|bingbot|slurp|java|wget|curl|Commons-HttpClient|Python-urllib|libwww|httpunit|nutch|phpcrawl|msnbot|jyxobot|FAST-WebCrawler|FAST Enterprise Crawler|biglotron|teoma|convera|seekbot|gigablast|exabot|ngbot|ia_archiver|GingerCrawler|webmon |httrack|webcrawler|grub.org|UsineNouvelleCrawler|antibot|netresearchserver|speedy|fluffy|bibnum.bnf|findlink|msrbot|panscient|yacybot|AISearchBot|IOI|ips-agent|tagoobot|MJ12bot|dotbot|woriobot|yanga|buzzbot|mlbot|yandexbot|purebot|Linguee Bot|Voyager|CyberPatrol|voilabot|baiduspider|citeseerxbot|spbot|twengabot|postrank|turnitinbot|scribdbot|page2rss|sitebot|linkdex|Adidxbot|blekkobot|ezooms|dotbot|Mail.RU_Bot|discobot|heritrix|findthatfile|europarchive.org|NerdByNature.Bot|sistrix crawler|ahrefsbot|Aboundex|domaincrawler|wbsearchbot|summify|ccbot|edisterbot|seznambot|ec2linkfinder|gslfbot|aihitbot|intelium_bot|facebookexternalhit|yeti|RetrevoPageAnalyzer|lb-spider|sogou|lssbot|careerbot|wotbox|wocbot|ichiro|DuckDuckBot|lssrocketcrawler|drupact|webcompanycrawler|acoonbot|openindexspider|gnam gnam spider|web-archive-net.com.bot|backlinkcrawler|coccoc|integromedb|content crawler spider|toplistbot|seokicks-robot|it2media-domain-crawler|ip-web-crawler.com|siteexplorer.info|elisabot|proximic|changedetection|blexbot|arabot|WeSEE:Search|niki-bot|CrystalSemanticsBot|rogerbot|360Spider|psbot|InterfaxScanBot|Lipperhey SEO Service|CC Metadata Scaper|g00g1e.net|GrapeshotCrawler|urlappendbot|brainobot|fr-crawler|binlar|SimpleCrawler|Livelapbot|Twitterbot|cXensebot|smtbot|bnf.fr_bot|A6-Indexer|ADmantX|Facebot|Twitterbot|OrangeBot|memorybot|AdvBot|MegaIndex|SemanticScholarBot|ltx71|nerdybot|xovibot|BUbiNG|Qwantify|archive.org_bot|Applebot|TweetmemeBot|crawler4j|findxbot|SemrushBot|yoozBot|lipperhey|y!j-asr|Domain Re-Animator Bot|AddThis)","i"),e=navigator.userAgent;return t.test(e)})()||window.sessionStorage.getItem("cssbattleSessionLogged")||(window.sessionStorage.setItem("cssbattleSessionLogged",!0),h().then((function(e){return t=e})),setInterval((function(){h().then((function(e){return t=e}))}),65e3),window.addEventListener("beforeunload",(function(){navigator.sendBeacon("/api/session?action=remove&sessionId=".concat(t))})))}),[])}var d=n(3552),g=n(9387),v=(n(7007),n(9461),n(7175),n(1552),n(7102),n(9550),n(137)),m=n(7037),y=n(7414),b=n(5532);function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){w(t,e,n[e])}))}return t}n(9899);var T=function(t){var e=t.Component,n=t.pageProps,s=(0,a.useRouter)(),u=(0,i.useState)((function(){var t=window.localStorage.getItem("lastUser");return t?JSON.parse(t):null})),c=u[0],l=u[1],h=(0,y.P)();return(0,i.useEffect)((function(){var t=JSON.parse(window.localStorage.getItem("lastUser"));if(t&&t.isPro&&t.settings&&"light"===t.settings.theme){var e=document.createElement("link");e.href="/light-theme.css",e.rel="stylesheet",e.id="lightThemeLink",document.head.append(e)}}),[]),p(),(0,i.useEffect)((function(){if(window.dataLayer=window.dataLayer||[],window.gtag=function(){dataLayer.push(arguments)},gtag("js",new Date),!location.href.match(/localhost/)){var t=document.createElement("script");t.src="https://www.googletagmanager.com/gtag/js?id=UA-136774468-1",t.async=!0,document.body.appendChild(t)}window.gtag&&window.gtag("config","UA-136774468-1")}),[]),(0,i.useEffect)((function(){b.Z.auth().onAuthStateChanged((function(t){t?((0,g.xX)(t),c&&c.isPro&&(t.isPro=c.isPro),c&&c.settings&&(t.settings=c.settings),l(t),(0,m.$Y)(t.uid).then((function(e){var n=_({},t,{isPro:!1},e);(0,g.xX)(n),n.firebaseUser=t,n.getIdToken=t.getIdToken,l(n)}))):(window.localStorage.removeItem("lastUser"),l(null))}))}),[]),(0,r.jsxs)(d.S.Provider,{value:c,children:[(0,r.jsxs)(o.default,{children:[(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1, shrink-to-fit=no"}),(0,r.jsx)("meta",{property:"og:url",content:"https://cssbattle.dev"}),(0,r.jsx)("meta",{property:"og:image",content:"https://cssbattle.dev/images/banner.png"},"banner"),(0,r.jsx)("meta",{property:"og:title",content:"CSSBattle"},"ogTitle"),(0,r.jsx)("title",{children:"CSSBattle"},"title"),(0,r.jsx)("meta",{property:"og:description",content:"CSS Code Golfing game is here!"}),(0,r.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,r.jsx)("link",{rel:"shortcut icon",href:"/images/logo-square.png"}),(0,r.jsx)("style",{id:"critical-css",type:h?"ruby":void 0,children:"/* CRITICAL CSS */\n          body {\n            background-color: #171d23;\n          }\n\n          body:after {\n            font-size: 1.5rem;\n            text-align: center;\n            font-family: 'IBM Plex Mono', 'Menlo', 'DejaVu Sans Mono',\n              'Lucida Console', monospace;\n            color: #cbd1e1;\n            display: block;\n            content: 'Hang on! The battleground is getting setup...';\n            width: 400px;\n            position: fixed;\n            top: 40vh;\n            left: calc(50vw - 200px);\n            opacity: 0;\n            animation: 0.3s show ease forwards;\n            animation-delay: 1s;\n          }\n\n          @keyframes show {\n            to {\n              opacity: 1;\n            }\n          }"})]}),function(){s.asPath;return!0}()&&(0,r.jsx)(e,_({},n)),(0,r.jsx)(v.Ix,{position:"bottom-right",autoClose:3e3})]})}},7037:function(t,e,n){"use strict";n.d(e,{bl:function(){return m},HC:function(){return C},XU:function(){return N},X2:function(){return R},$Y:function(){return L},Ty:function(){return M},bQ:function(){return j},uf:function(){return B},R6:function(){return q},UZ:function(){return H},uL:function(){return K},eL:function(){return X},GT:function(){return Q},d:function(){return J},sk:function(){return tt},A9:function(){return nt},wd:function(){return at},r8:function(){return ut},pc:function(){return lt},Ii:function(){return ht},Sv:function(){return ft},T8:function(){return dt},hC:function(){return vt},W:function(){return yt},Z6:function(){return wt},qW:function(){return Tt},FC:function(){return Et},y:function(){return It},V6:function(){return kt},ch:function(){return At},Ws:function(){return xt},Qz:function(){return Nt},TU:function(){return Rt},pn:function(){return Lt},dT:function(){return Mt},CU:function(){return qt},DI:function(){return Gt},en:function(){return Ht},g5:function(){return zt}});var r=n(2021),i=n.n(r),o=n(9387),a=n(7500),s=n(8688),u=n.n(s),c=n(5532);n(9550);function l(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(c){return void n(c)}s.done?e(u):Promise.resolve(u).then(r,i)}function h(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){l(o,r,i,a,s,"next",t)}function s(t){l(o,r,i,a,s,"throw",t)}a(void 0)}))}}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t,e){return null!=e&&"undefined"!==typeof Symbol&&e[Symbol.hasInstance]?e[Symbol.hasInstance](t):t instanceof e}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){f(t,e,n[e])}))}return t}function g(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n(1011);var v=c.Z.firestore(),m="https://cssbattle.dev/api",y="/packages/nextjs/api",b="battles",w="battleScores",_="targetScores";function T(t){return v.collection(_).where("levelId","==",t).orderBy("score","desc").orderBy("lastUpdated")}function E(t){var e=[];return t.forEach((function(t){e.push(d({id:t.id},t.data()))})),e.length,e}function I(t,e){var n=(void 0===e?{}:e).withoutId,r=void 0!==n&&n;return t.get().then((function(t){return t.exists?r?t.data():d({id:t.id},t.data()):null}))}function S(t){return t.get().then(E)}function k(t){return t.sort((function(t,e){return t.score===e.score?t.lastUpdated-e.lastUpdated:e.score-t.score}))}function A(t){return v.doc("scores/".concat(t)).get().then((function(t){return t.exists?t.data():void 0})).catch((function(){}))}function C(t){return x.apply(this,arguments)}function x(){return(x=h(i().mark((function t(e){var n,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:function i(t){return S(v.collection(_).where("levelId","==",t).where("userId","==",n)).then((function(t){return t[0]}))}return n=e.userId,r=e.levelIds,t.abrupt("return",Promise.all(r.filter(Boolean).map(i)).then((function(t){return t.filter(Boolean).reduce((function(t,e){return t[e.levelId]=e,t}),{})})));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(t){return S(v.collection("following").where("followerId","==",t)).then((function(t){return t.map((function(t){return t.followedId}))}))}function N(t){return D.apply(this,arguments)}function D(){return(D=h(i().mark((function t(e){var n,r,o,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.userId,r=e.levelId,o=e.limit,a=v.collection("submissions").where("userId","==",n).where("levelId","==",r).orderBy("timestamp","desc"),o&&(a=a.limit(o)),t.abrupt("return",S(a).catch((function(t){return console.log("Error getting document:",t),0})));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function R(t){return P.apply(this,arguments)}function P(){return(P=h(i().mark((function t(e){var n,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:function o(t){return a.apply(this,arguments)}function a(){return(a=h(i().mark((function t(e){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",I(v.doc("submissions/".concat(e))));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return t.next=4,q({levelId:e});case 4:return n=t.sent,t.next=7,Promise.all(n.map((function(t){return o(t.submissionId)})));case 7:return r=t.sent,t.abrupt("return",n.map((function(t,e){return d({},r[e],t)})));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function L(t,e){return F.apply(this,arguments)}function F(){return(F=h(i().mark((function t(e,n){var r,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.location.href.match(/localhost/)&&!n){t.next=4;break}return t.abrupt("return",I(v.doc("players/".concat(e))).then((function(t){return t&&(t=d({},t,{displayName:t.displayName||"User"})),t})));case 4:return t.next=6,fetch("".concat(y,"/playerProfile?userId=").concat(e));case 6:return r=t.sent,t.next=9,r.json();case 9:return o=t.sent,t.abrupt("return",o);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function M(t){return S(v.collection("players").where("username","==",t)).then((function(t){if(t.length)return d({id:t[0].id},t[0],{displayName:t[0].displayName||"User"})}))}function j(){return U.apply(this,arguments)}function U(){return(U=h(i().mark((function t(e){var n,r,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=void 0===e?10:e,r=v.collection("scores"),o=r.orderBy("score","desc").orderBy("lastUpdated").limit(n),t.abrupt("return",o.get().then((function(t){var e=E(t);if(!e.length)return[];var n=e.map((function(t){return L(t.id)}));return Promise.all(n).then((function(t){return t.map((function(t,n){return d({},e[n],{rank:n+1,playedCount:Object.keys(e[n].levels).length,playerProfile:t})}))}))})).catch((function(t){return console.log("Error getting document:",t),0})));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function B(t){return V.apply(this,arguments)}function V(){return(V=h(i().mark((function t(e){var n,r,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.userId,t.next=3,O(n);case 3:if((r=t.sent).length){t.next=6;break}return t.abrupt("return",[]);case 6:return r.push(n),o=r.map((function(t){return Promise.all([L(t),A(t)])})),t.abrupt("return",Promise.all(o).then((function(t){return k(t=t.map((function(t,e){var n=g(t,2),r=n[0],i=n[1];return d({},i,{id:r.id,playedCount:Object.keys(i.levels).length,playerProfile:r})})))})));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function q(t){return G.apply(this,arguments)}function G(){return(G=h(i().mark((function t(e){var n,r,o,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.levelId,r=e.numberOfPlayers,o=void 0===r?10:r,a=T(n).limit(o),t.abrupt("return",S(a).then((function(t){if(!t.length)return[];var e=t.map((function(t){return L(t.userId)}));return Promise.all(e).then((function(e){return e.map((function(e,n){return d({id:t[n].id},t[n],{rank:n+1,playerProfile:e})}))}))})).catch((function(t){return console.log("Error getting document:",t),0})));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function H(t){return z.apply(this,arguments)}function z(){return(z=h(i().mark((function t(e){var n,r,o,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.userId,r=e.levelId,t.next=3,O(n);case 3:if((o=t.sent).length){t.next=6;break}return t.abrupt("return",[]);case 6:return o.push(n),a=o.map((function(t){return Promise.all([L(t),nt({playerId:t,levelId:r}).then((function(t){return t||{score:0}}))])})),t.abrupt("return",Promise.all(a).then((function(t){return k(t=t.map((function(t,e){var n=g(t,2),r=n[0];return d({},n[1],{id:r.id,playerProfile:r})})))})));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function K(t){return W.apply(this,arguments)}function W(){return(W=h(i().mark((function t(e){var n,r,o,a,s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.battleId,r=e.numberOfPlayers,o=void 0===r?10:r,a=v.collection("battleScores"),s=a.where("battleId","==",n).orderBy("score","desc").orderBy("lastUpdated").limit(o),t.abrupt("return",S(s).then(h(i().mark((function t(e){var r,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.length){t.next=2;break}return t.abrupt("return",[]);case 2:return t.next=4,At(n);case 4:return r=t.sent,o=e.map((function(t){return Promise.all([L(t.userId),C({userId:t.userId,levelIds:r.levelIds})])})),t.abrupt("return",Promise.all(o).then((function(t){return t.map((function(t,n){var i=g(t,2),o=i[0],a=i[1];return d({},e[n],{id:e[n].userId,rank:n+1,playedCount:r.levelIds.filter((function(t){return a[t]})).length,playerProfile:o})}))})));case 7:case"end":return t.stop()}}),t)})))).catch((function(t){return console.log("Error getting document:",t),[]})));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function X(t){return Y.apply(this,arguments)}function Y(){return(Y=h(i().mark((function t(e){var n,r,o,a,s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.userId,r=e.battleId,t.next=3,At(r);case 3:return o=t.sent,t.next=6,O(n);case 6:if((a=t.sent).length){t.next=9;break}return t.abrupt("return",[]);case 9:return a.push(n),s=a.map((function(t){return Promise.all([L(t),A(t),v.collection("battleScores").where("userId","==",t).where("battleId","==",r).get().then((function(t){return E(t)[0]||{score:0}}))])})),t.abrupt("return",Promise.all(s).then((function(t){return k(t=t.map((function(t,e){var n=g(t,3),r=n[0],i=n[1];return d({},n[2],{id:r.id,playedCount:o.levelIds.filter((function(t){return i.levels[t]})).length,playerProfile:r})})))})));case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Q(t){return $.apply(this,arguments)}function $(){return($=h(i().mark((function t(e){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=T(e).limit(1),t.abrupt("return",S(n).then((function(t){if(!t.length)return null;var n=t.map((function(t){return L(t.userId)}));return n.length?Promise.all(n).then((function(n){return n.map((function(n,r){return{levelId:e,highscore:{score:t[r].score,codeSize:t[r].codeSize,match:t[r].match,playerProfile:n}}}))[0]})):null})).catch((function(t){return console.log("Error getting document:",t),null})));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function J(t){return Z.apply(this,arguments)}function Z(){return(Z=h(i().mark((function t(e){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.map((function(t){return Q(t)})),t.abrupt("return",Promise.all(n));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function tt(t){return et.apply(this,arguments)}function et(){return(et=h(i().mark((function t(e){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=T(e).limit(3),t.abrupt("return",S(n).catch((function(t){return console.log("Error getting document:",t),[]})));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function nt(t){return rt.apply(this,arguments)}function rt(){return(rt=h(i().mark((function t(e){var n,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.playerId,r=e.levelId,t.abrupt("return",I(v.doc("".concat(_,"/").concat(n,"_").concat(r)),{withoutId:!0}).catch((function(){})));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function it(t){return ot.apply(this,arguments)}function ot(){return(ot=h(i().mark((function t(e){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.playerId,t.abrupt("return",v.doc("scores/".concat(n)).get().then((function(t){return t.exists?t.data():{}})).catch((function(){return{}})));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function at(t){return st.apply(this,arguments)}function st(){return(st=h(i().mark((function t(e){var n,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.playerId,t.next=3,it({playerId:n});case 3:return r=t.sent,t.abrupt("return",r.levels||{});case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ut(t){return ct.apply(this,arguments)}function ct(){return(ct=h(i().mark((function t(e){var n,r,a,s,u,c,l,h;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.token,r=void 0===n?"":n,a=e.userId,s=e.levelId,u=e.battleId,c=new URLSearchParams((0,o.BE)({token:r,userId:a,battleId:u,levelId:s})),t.prev=3,t.next=6,fetch("https://us-central1-cssbattleapp.cloudfunctions.net/getRank?".concat(c));case 6:return h=t.sent,t.next=9,h.json();case 9:l=t.sent,t.next=15;break;case 12:return t.prev=12,t.t0=t.catch(3),t.abrupt("return",null);case 15:return t.abrupt("return",l);case 16:case"end":return t.stop()}}),t,null,[[3,12]])})))).apply(this,arguments)}function lt(){return I(v.doc("global/stats"))}function ht(t,e){return v.doc("players/".concat(t)).update(e)}function ft(t,e){return pt.apply(this,arguments)}function pt(){return(pt=h(i().mark((function t(e,n){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getIdToken();case 2:return r=t.sent,t.abrupt("return",fetch("".concat(m,"/saveUsername"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:r,username:n})}).then((function(t){if(!t.ok)throw t;return t.text()})).catch((function(t){if(p(t,Response))throw t.text()})));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function dt(t){return gt.apply(this,arguments)}function gt(){return(gt=h(i().mark((function t(e){var n,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.followedId,r=e.followerId,t.abrupt("return",v.collection("following").doc("".concat(n,"_").concat(r)).get().then((function(t){return t.exists})));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function vt(t){return mt.apply(this,arguments)}function mt(){return(mt=h(i().mark((function t(e){var n,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.followedId,r=e.followerId,t.abrupt("return",v.collection("following").doc("".concat(n,"_").concat(r)).set({followedId:n,followerId:r,timestamp:c.Z.firestore.FieldValue.serverTimestamp()}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function yt(t){return bt.apply(this,arguments)}function bt(){return(bt=h(i().mark((function t(e){var n,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.followedId,r=e.followerId,t.abrupt("return",v.collection("following").doc("".concat(n,"_").concat(r)).delete());case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function wt(t){return _t.apply(this,arguments)}function _t(){return(_t=h(i().mark((function t(e){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.userId,t.abrupt("return",v.collection("editorPlugins").where("userId","==",n).get().then(E).catch((function(t){return console.log("Error getting document:",t),0})));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Tt(t){var e={title:t.title,code:t.code,shouldAutoRun:t.shouldAutoRun||!1};return t.id?v.collection("editorPlugins").doc(t.id).update(d({},e,{updatedOn:c.Z.firestore.FieldValue.serverTimestamp()})):v.collection("editorPlugins").add(d({},e,{userId:t.userId,createdOn:c.Z.firestore.FieldValue.serverTimestamp()})).then((function(t){return t.id}))}function Et(t){return v.collection("editorPlugins").doc(t.id).delete()}function It(t){return St.apply(this,arguments)}function St(){return(St=h(i().mark((function t(e){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.userId,t.abrupt("return",v.collection("subscriptions").where("userId","==",n).where("type","==","subscription_created").get().then((function(t){var e=E(t);return e.sort((function(t,e){return e.timestamp.seconds-t.timestamp.seconds})),e[0]})));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function kt(t){var e=v.collection("events").orderBy("timestamp","desc");return t&&(e=e.where("data.battleId","==",t)),(e=e.limit(20)).get().then((function(t){var e=E(t);if(!e.length)return e;(0,o.P$)(e);var n=e.map((function(t){return L(t.data.userId)}));return Promise.all(n).then((function(t){return t.map((function(t,n){return d({},e[n],{timestamp:1e3*e[n].timestamp.seconds,playerProfile:t})}))}))}))}function At(t){return Ct.apply(this,arguments)}function Ct(){return(Ct=h(i().mark((function t(e){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=a.battles.find((function(t){return t.id===e})))){t.next=3;break}return t.abrupt("return",n);case 3:return t.abrupt("return",I(v.collection("battles").doc(e)));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function xt(t){return Ot.apply(this,arguments)}function Ot(){return(Ot=h(i().mark((function t(e){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e?a.battles.find((function(t){return t.levelIds.includes(e.id)})):null)){t.next=3;break}return t.abrupt("return",n);case 3:return t.abrupt("return",I(v.collection(b).doc(e.battleId)));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Nt(t){return Dt.apply(this,arguments)}function Dt(){return(Dt=h(i().mark((function t(e){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",{});case 2:if(!(n=u().find((function(t){return t.id===e})))){t.next=5;break}return t.abrupt("return",n);case 5:return t.abrupt("return",I(v.collection("levels").doc(e)));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Rt(t){return Pt.apply(this,arguments)}function Pt(){return(Pt=h(i().mark((function t(e){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.map((function(t){return Nt(t)})),t.abrupt("return",Promise.all(n));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Lt(t){return Ft.apply(this,arguments)}function Ft(){return(Ft=h(i().mark((function t(e){var n,r,s,u,l,h,f,p;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.userId,r=e.battle,s=e.levels,u=e.oldLevels,l=(0,o.BE)({name:r.name,description:r.description,duration:r.duration,status:r.status,levelIds:s?s.map((function(t){return t.id})):void 0,startDate:r.startDate,endDate:r.endDate}),console.table(l),l.startDate&&(l.startDate=c.Z.firestore.FieldValue.serverTimestamp()),l.endDate&&(l.endDate=c.Z.firestore.FieldValue.serverTimestamp()),!(s&&u&&u.length)){t.next=12;break}if(!(h=u.filter((function(t){return!s.find((function(e){return e.id===t.id}))})).map((function(t){return t.id}))).length){t.next=12;break}return f=h.map((function(t){return Bt(t)})),console.log("levels to delete",h),t.next=12,Promise.all(f);case 12:if(p=s?s.map((function(t){return Ut({userId:n,battleId:r.id,level:t})})):Promise.resolve(),console.log("saving battle",r,s,n,l),!r.id){t.next=18;break}return t.abrupt("return",Promise.all([v.collection("battles").doc(r.id).update(d({},l,{updatedOn:c.Z.firestore.FieldValue.serverTimestamp()})),p]));case 18:return t.abrupt("return",v.collection("battles").add(d({},l,{createdBy:n,status:a.BattleStatuses.UPCOMING,createdOn:c.Z.firestore.FieldValue.serverTimestamp(),updatedOn:c.Z.firestore.FieldValue.serverTimestamp()})).then((function(t){return t.id})));case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Mt(t){return jt.apply(this,arguments)}function jt(){return(jt=h(i().mark((function t(e){var n,r,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.battleId,r=e.levelIds,o=(void 0===r?[]:r).map((function(t){return Bt(t)})),t.next=4,Promise.all(o);case 4:return t.abrupt("return",v.doc("".concat(b,"/").concat(n)).delete());case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ut(t){var e=t.userId,n=t.battleId,r=t.level,i=(0,o.BE)(d({createdBy:e,battleId:n,updatedOn:c.Z.firestore.FieldValue.serverTimestamp()},r));return console.log("level saving ",i),v.collection("levels").doc(r.id).set(i)}function Bt(t){return Vt.apply(this,arguments)}function Vt(){return(Vt=h(i().mark((function t(e){var r,o,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(2671),r=c.Z.storage(),t.next=4,Nt(e);case 4:return o=t.sent,a=r.ref().child(decodeURIComponent(o.image.match(/user.*png/)[0])),t.abrupt("return",Promise.all([v.doc("levels/".concat(e)).delete(),a.delete()]));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function qt(t){return S(v.collection("battles").where("createdBy","==",t))}function Gt(t){return S(v.collection("purchases").where("userId","==",t).where("type","==","customBattle"))}function Ht(t,e){return v.collection("purchases").where("userId","==",t).where("type","==","customBattle").where("isUsed","==",!1).onSnapshot((function(t){var n=E(t);e(n)}))}function zt(t){return Kt.apply(this,arguments)}function Kt(){return(Kt=h(i().mark((function t(e){var n,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S(v.collection(w).where("userId","==",e));case 2:return n=t.sent,t.next=5,Promise.all(n.map((function(t){return At(t.battleId)})));case 5:return r=t.sent,t.abrupt("return",r.map((function(t,e){return d({},n[e],t)})));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},9387:function(t,e,n){"use strict";n.d(e,{NR:function(){return b},Ds:function(){return a},qA:function(){return _},hM:function(){return f},x4:function(){return c},wm:function(){return m},nX:function(){return w},P$:function(){return g},WQ:function(){return v},xX:function(){return p},BE:function(){return u},TF:function(){return d},lC:function(){return l},VG:function(){return h},SG:function(){return s},cT:function(){return y}});var r={};!function t(e,n,r,i){var o=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL);function a(){}function s(t){var r=n.exports.Promise,i=void 0!==r?r:e.Promise;return"function"===typeof i?new i(t):(t(a,a),null)}var u=function(){var t,e,n=Math.floor(1e3/60),r={},i=0;return"function"===typeof requestAnimationFrame&&"function"===typeof cancelAnimationFrame?(t=function(t){var e=Math.random();return r[e]=requestAnimationFrame((function o(a){i===a||i+n-1<a?(i=a,delete r[e],t()):r[e]=requestAnimationFrame(o)})),e},e=function(t){r[t]&&cancelAnimationFrame(r[t])}):(t=function(t){return setTimeout(t,n)},e=function(t){return clearTimeout(t)}),{frame:t,cancel:e}}(),c=function(){var e,n,i={};return function(){if(e)return e;if(!r&&o){var a=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join("\n");try{e=new Worker(URL.createObjectURL(new Blob([a])))}catch(u){return void 0!==typeof console&&"function"===typeof console.warn&&console.warn("\ud83c\udf8a Could not load worker",u),null}!function(t){function e(e,n){t.postMessage({options:e||{},callback:n})}t.init=function(e){var n=e.transferControlToOffscreen();t.postMessage({canvas:n},[n])},t.fire=function(r,o,a){if(n)return e(r,null),n;var u=Math.random().toString(36).slice(2);return n=s((function(o){function s(e){e.data.callback===u&&(delete i[u],t.removeEventListener("message",s),n=null,a(),o())}t.addEventListener("message",s),e(r,u),i[u]=s.bind(null,{data:{callback:u}})}))},t.reset=function(){for(var e in t.postMessage({reset:!0}),i)i[e](),delete i[e]}}(e)}return e}}(),l={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function h(t,e,n){return function(t,e){return e?e(t):t}(t&&(null!==(r=t[e])&&void 0!==r)?t[e]:l[e],n);var r}function f(t){return t<0?0:Math.floor(t)}function p(t){return parseInt(t,16)}function d(t){var e=String(t).replace(/[^0-9a-f]/gi,"");return e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),{r:p(e.substring(0,2)),g:p(e.substring(2,4)),b:p(e.substring(4,6))}}function g(t){t.width=document.documentElement.clientWidth,t.height=document.documentElement.clientHeight}function v(t){var e=t.getBoundingClientRect();t.width=e.width,t.height=e.height}function m(t){var e=t.angle*(Math.PI/180),n=t.spread*(Math.PI/180);return{x:t.x,y:t.y,wobble:10*Math.random(),velocity:.5*t.startVelocity+Math.random()*t.startVelocity,angle2D:-e+(.5*n-Math.random()*n),tiltAngle:Math.random()*Math.PI,color:d(t.color),shape:t.shape,tick:0,totalTicks:t.ticks,decay:t.decay,random:Math.random()+5,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:3*t.gravity,ovalScalar:.6,scalar:t.scalar}}function y(t,e,n,o,a){var c,l,h=e.slice(),f=t.getContext("2d"),p=s((function(e){function s(){c=l=null,f.clearRect(0,0,o.width,o.height),a(),e()}c=u.frame((function e(){!r||o.width===i.width&&o.height===i.height||(o.width=t.width=i.width,o.height=t.height=i.height),o.width||o.height||(n(t),o.width=t.width,o.height=t.height),f.clearRect(0,0,o.width,o.height),(h=h.filter((function(t){return function(t,e){e.x+=Math.cos(e.angle2D)*e.velocity,e.y+=Math.sin(e.angle2D)*e.velocity+e.gravity,e.wobble+=.1,e.velocity*=e.decay,e.tiltAngle+=.1,e.tiltSin=Math.sin(e.tiltAngle),e.tiltCos=Math.cos(e.tiltAngle),e.random=Math.random()+5,e.wobbleX=e.x+10*e.scalar*Math.cos(e.wobble),e.wobbleY=e.y+10*e.scalar*Math.sin(e.wobble);var n=e.tick++/e.totalTicks,r=e.x+e.random*e.tiltCos,i=e.y+e.random*e.tiltSin,o=e.wobbleX+e.random*e.tiltCos,a=e.wobbleY+e.random*e.tiltSin;return t.fillStyle="rgba("+e.color.r+", "+e.color.g+", "+e.color.b+", "+(1-n)+")",t.beginPath(),"circle"===e.shape?t.ellipse?t.ellipse(e.x,e.y,Math.abs(o-r)*e.ovalScalar,Math.abs(a-i)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI):function(t,e,n,r,i,o,a,s,u){t.save(),t.translate(e,n),t.rotate(o),t.scale(r,i),t.arc(0,0,1,a,s,u),t.restore()}(t,e.x,e.y,Math.abs(o-r)*e.ovalScalar,Math.abs(a-i)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI):(t.moveTo(Math.floor(e.x),Math.floor(e.y)),t.lineTo(Math.floor(e.wobbleX),Math.floor(i)),t.lineTo(Math.floor(o),Math.floor(a)),t.lineTo(Math.floor(r),Math.floor(e.wobbleY))),t.closePath(),t.fill(),e.tick<e.totalTicks}(f,t)}))).length?c=u.frame(e):s()})),l=s}));return{addFettis:function(t){return h=h.concat(t),p},canvas:t,promise:p,reset:function(){c&&u.cancel(c),l&&l()}}}function b(t,n){var r,i=!t,a=!!h(n||{},"resize"),u=h(n,"disableForReducedMotion",Boolean),l=o&&!!h(n||{},"useWorker")?c():null,p=i?g:v,d=!(!t||!l)&&!!t.__confetti_initialized,b="function"===typeof matchMedia&&matchMedia("(prefers-reduced-motion)").matches;function w(e,n,i){for(var o,a,s=h(e,"particleCount",f),u=h(e,"angle",Number),c=h(e,"spread",Number),l=h(e,"startVelocity",Number),d=h(e,"decay",Number),g=h(e,"gravity",Number),v=h(e,"colors"),b=h(e,"ticks",Number),w=h(e,"shapes"),_=h(e,"scalar"),T=function(t){var e=h(t,"origin",Object);return e.x=h(e,"x",Number),e.y=h(e,"y",Number),e}(e),E=s,I=[],S=t.width*T.x,k=t.height*T.y;E--;)I.push(m({x:S,y:k,angle:u,spread:c,startVelocity:l,color:v[E%v.length],shape:w[(o=0,a=w.length,Math.floor(Math.random()*(a-o))+o)],ticks:b,decay:d,gravity:g,scalar:_}));return r?r.addFettis(I):(r=y(t,I,p,n,i)).promise}function _(n){var o=u||h(n,"disableForReducedMotion",Boolean),c=h(n,"zIndex",Number);if(o&&b)return s((function(t){t()}));i&&r?t=r.canvas:i&&!t&&(t=function(t){var e=document.createElement("canvas");return e.style.position="fixed",e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",e.style.zIndex=t,e}(c),document.body.appendChild(t)),a&&!d&&p(t);var f={width:t.width,height:t.height};function g(){if(l){var e={getBoundingClientRect:function(){if(!i)return t.getBoundingClientRect()}};return p(e),void l.postMessage({resize:{width:e.width,height:e.height}})}f.width=f.height=null}function v(){r=null,a&&e.removeEventListener("resize",g),i&&t&&(document.body.removeChild(t),t=null,d=!1)}return l&&!d&&l.init(t),d=!0,l&&(t.__confetti_initialized=!0),a&&e.addEventListener("resize",g,!1),l?l.fire(n,f,v):w(n,f,v)}return _.reset=function(){l&&l.reset(),r&&r.reset()},_}n.exports=b(null,{useWorker:!0,resize:!0}),n.exports.create=b}(function(){return"undefined"!==typeof window?window:"undefined"!==typeof self?self:this}(),r,!1);var i=r.exports,o=(r.exports.create,n(5532));function a(t,e,n){var r;return function(){var i=this,o=arguments,a=function(){r=null,n||t.apply(i,o)},s=n&&!r;clearTimeout(r),r=setTimeout(a,e),s&&t.apply(i,o)}}function s(t,e,n){for(var r=e.split("."),i=t;r.length>1;){var o=r.shift();i[o]=i[o]||{},i=i[o]}return i[r[0]]=n,t}function u(t){return Object.keys(t).forEach((function(e){t[e]&&"object"===typeof t[e]?u(t[e]):void 0!==t[e]&&null!==t[e]||delete t[e]})),t}function c(t){if(0===t)return"-";var e=t%10,n=t%100;return 1===e&&11!==n?t+"st":2===e&&12!==n?t+"nd":3===e&&13!==n?t+"rd":t+"th"}function l(t){var e=void 0===t?4:t,n=Date.now()+1e3*e;!function t(){i({particleCount:1,startVelocity:0,ticks:100,origin:{x:Math.random(),y:Math.random()-.2},colors:[["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"][~~(7*Math.random())]]}),Date.now()<n&&requestAnimationFrame(t)}()}var h=function(t){"object"!==typeof t&&(t=new Date(t));var e,n=Math.floor((new Date-t)/1e3),r=Math.floor(n/31536e3);return r>=1?e="year":(r=Math.floor(n/2592e3))>=1?e="month":(r=Math.floor(n/86400))>=1?e="day":(r=Math.floor(n/3600))>=1?e="hour":(r=Math.floor(n/60))>=1?e="minute":(r=n,e="second"),(r>1||0===r)&&(e+="s"),r+" "+e};function f(t,e){var n=Math.abs(new Date(e)-new Date(t))/1e3,r=Math.floor(n/86400);n-=86400*r;var i=Math.floor(n/3600)%24;n-=3600*i;var o=Math.floor(n/60)%60;return n-=60*o,{days:r,hours:i,minutes:o,seconds:Math.floor(n%60)}}function p(t){var e={};["uid","displayName","photoURL","isPro","settings"].map((function(n){return e[n]=t[n]})),window.localStorage.setItem("lastUser",JSON.stringify(e))}function d(t,e){return new Function("code","\n  ".concat(t.code,"\n\n  return run(code);\n  "))(e)}function g(t){for(var e,n,r=0;r<t.length-1;){for(var i=r;i+1<t.length&&(e=t[r],n=t[i+1],e.data.userId===n.data.userId&&e.data.levelId===n.data.levelId&&e.data.previousUserId===n.data.previousUserId);)t[r].data.previousUserCodeSize=t[i+1].data.previousUserCodeSize,i++;r!==i&&t.splice(r+1,i-r),r++}}function v(t){for(var e,n,r=0;r<t.length-1;){for(var i=r+1;i<t.length;)e=t[r],n=t[i],e.code.trim()===n.code.trim()?t.splice(i,1):i++;r++}}function m(t){for(var e="abcdefghijklmnopqrstuvqxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n="",r=void 0===t?20:t;r--;)n+=e[~~(Math.random()*e.length)];return n}function y(t){var e=t.path,r=t.file;n(2671);var i=o.Z.storage().ref().child(e).put(r);return new Promise((function(t,n){i.on("state_changed",(function(t){}),(function(t){console.log(t),n()}),(function(){t("https://firebasestorage.googleapis.com/v0/b/cssbattleapp.appspot.com/o/".concat(encodeURIComponent(e),"?alt=media"))}))}))}function b(t){return t.length>6}function w(t,e){return"https://cssbattle.dev/api/adRedirect?url=".concat(encodeURIComponent(t),"&sponsorId=").concat(e)}function _(t){var e=t.score,n=t.codeSize,r=t.levelId,i=(t.levelName,["I am on ".concat(e," score with just ").concat(n," characters on Target ").concat(r,". Do you have what it takes to beat that? \ud83d\ude0e"),"Just scored ".concat(e," on Target ").concat(r,"! Join me in the best ever CSS game \u2694\ufe0f"),"I recreated Target ".concat(r," in just ").concat(n," bytes of CSS! Having fun in this crazy CSS game!"),"I just finished a challenge on Target ".concat(r," with ").concat(e," score! Who can do better?"),"Want to have fun with CSS while learning? Beat my score of ".concat(e," on Target ").concat(r," in CSSBattle! \ud83d\udd25"),"CSS art FTW! I created Target ".concat(r," on CSSBattle in just ").concat(n," characters!! \ud83e\udd29 Beat that!"),"Scored ".concat(e," points on Target ").concat(r," of CSSBattle - where CSS and fun meets! Who's up for a challenge?")]);return i[~~(Math.random()*i.length)]}},7007:function(){},7175:function(){},9461:function(){},7102:function(){},1552:function(){},7729:function(t,e,n){t.exports=n(5913)},5632:function(t,e,n){t.exports=n(3642)},8262:function(t,e,n){"use strict";var r=n(3586);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},3980:function(t,e,n){t.exports=n(8262)()},3586:function(t){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},6847:function(t,e,n){"use strict";function r(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==t&&void 0!==t&&this.setState(t)}function i(t){this.setState(function(e){var n=this.constructor.getDerivedStateFromProps(t,e);return null!==n&&void 0!==n?n:null}.bind(this))}function o(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof t.getDerivedStateFromProps&&"function"!==typeof e.getSnapshotBeforeUpdate)return t;var n=null,a=null,s=null;if("function"===typeof e.componentWillMount?n="componentWillMount":"function"===typeof e.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof e.componentWillReceiveProps?a="componentWillReceiveProps":"function"===typeof e.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"===typeof e.componentWillUpdate?s="componentWillUpdate":"function"===typeof e.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var u=t.displayName||t.name,c="function"===typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+u+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof t.getDerivedStateFromProps&&(e.componentWillMount=r,e.componentWillReceiveProps=i),"function"===typeof e.getSnapshotBeforeUpdate){if("function"!==typeof e.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=o;var l=e.componentDidUpdate;e.componentDidUpdate=function(t,e,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;l.call(this,t,e,r)}}return t}n.r(e),n.d(e,{polyfill:function(){return a}}),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},7838:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=o(n(2784)),i=o(n(3980));function o(t){return t&&t.__esModule?t:{default:t}}function a(t){var e=t.closeToast,n=t.type,i=t.ariaLabel;return r.default.createElement("button",{className:"Toastify__close-button Toastify__close-button--"+n,type:"button",onClick:e,"aria-label":i},"\u2716")}a.propTypes={closeToast:i.default.func,arialLabel:i.default.string},a.defaultProps={ariaLabel:"close"};var s=a;e.default=s},4057:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=u(n(2784)),i=u(n(3980)),o=u(n(2779)),a=n(9148),s=n(9543);function u(t){return t&&t.__esModule?t:{default:t}}function c(){return(c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function l(t){var e,n=t.delay,i=t.isRunning,a=t.closeToast,s=t.type,u=t.hide,l=t.className,h=t.style,f=t.controlledProgress,p=t.progress,d=t.isProgressDone,g=t.rtl,v=c({},h,{animationDuration:n+"ms",animationPlayState:i?"running":"paused",opacity:u?0:1,transform:f?"scaleX("+p+")":null}),m=(0,o.default)("Toastify__progress-bar",f?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar--"+s,{"Toastify__progress-bar--rtl":g},l),y=((e={})[f&&d?"onTransitionEnd":"onAnimationEnd"]=f&&!d?null:a,e);return r.default.createElement("div",c({className:m,style:v},y))}l.propTypes={delay:s.falseOrDelay.isRequired,isRunning:i.default.bool.isRequired,closeToast:i.default.func.isRequired,rtl:i.default.bool.isRequired,type:i.default.string,hide:i.default.bool,className:i.default.oneOfType([i.default.string,i.default.object]),progress:i.default.number,controlledProgress:i.default.bool,isProgressDone:i.default.bool},l.defaultProps={type:a.TYPE.DEFAULT,hide:!1};var h=l;e.default=h},7513:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(2784)),i=c(n(3980)),o=c(n(2779)),a=c(n(4057)),s=n(9148),u=n(9543);function c(t){return t&&t.__esModule?t:{default:t}}function l(){return(l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function h(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function f(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}var p=function(){},d=function(t){var e,n;function i(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).state={isRunning:!0,preventExitTransition:!1},e.flag={canCloseOnClick:!0,canDrag:!1},e.drag={start:0,x:0,y:0,deltaX:0,removalDistance:0},e.ref=null,e.pauseToast=function(){e.props.autoClose&&e.setState({isRunning:!1})},e.playToast=function(){e.props.autoClose&&e.setState({isRunning:!0})},e.onDragStart=function(t){e.flag.canCloseOnClick=!0,e.flag.canDrag=!0,e.ref.style.transition="",e.drag.start=e.drag.x=h(t.nativeEvent),e.drag.removalDistance=e.ref.offsetWidth*(e.props.draggablePercent/100)},e.onDragMove=function(t){e.flag.canDrag&&(e.state.isRunning&&e.pauseToast(),e.drag.x=h(t),e.drag.deltaX=e.drag.x-e.drag.start,e.drag.start!==e.drag.x&&(e.flag.canCloseOnClick=!1),e.ref.style.transform="translateX("+e.drag.deltaX+"px)",e.ref.style.opacity=1-Math.abs(e.drag.deltaX/e.drag.removalDistance))},e.onDragEnd=function(t){if(e.flag.canDrag){if(e.flag.canDrag=!1,Math.abs(e.drag.deltaX)>e.drag.removalDistance)return void e.setState({preventExitTransition:!0},e.props.closeToast);e.drag.y=f(t),e.ref.style.transition="transform 0.2s, opacity 0.2s",e.ref.style.transform="translateX(0)",e.ref.style.opacity=1}},e.onDragTransitionEnd=function(){var t=e.ref.getBoundingClientRect(),n=t.top,r=t.bottom,i=t.left,o=t.right;e.props.pauseOnHover&&e.drag.x>=i&&e.drag.x<=o&&e.drag.y>=n&&e.drag.y<=r?e.pauseToast():e.playToast()},e}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var s=i.prototype;return s.componentDidMount=function(){this.props.onOpen(this.props.children.props),this.props.draggable&&this.bindDragEvents(),this.props.pauseOnFocusLoss&&this.bindFocusEvents()},s.componentDidUpdate=function(t){t.draggable!==this.props.draggable&&(this.props.draggable?this.bindDragEvents():this.unbindDragEvents()),t.pauseOnFocusLoss!==this.props.pauseOnFocusLoss&&(this.props.pauseOnFocusLoss?this.bindFocusEvents():this.unbindFocusEvents())},s.componentWillUnmount=function(){this.props.onClose(this.props.children.props),this.props.draggable&&this.unbindDragEvents(),this.props.pauseOnFocusLoss&&this.unbindFocusEvents()},s.bindFocusEvents=function(){window.addEventListener("focus",this.playToast),window.addEventListener("blur",this.pauseToast)},s.unbindFocusEvents=function(){window.removeEventListener("focus",this.playToast),window.removeEventListener("blur",this.pauseToast)},s.bindDragEvents=function(){document.addEventListener("mousemove",this.onDragMove),document.addEventListener("mouseup",this.onDragEnd),document.addEventListener("touchmove",this.onDragMove),document.addEventListener("touchend",this.onDragEnd)},s.unbindDragEvents=function(){document.removeEventListener("mousemove",this.onDragMove),document.removeEventListener("mouseup",this.onDragEnd),document.removeEventListener("touchmove",this.onDragMove),document.removeEventListener("touchend",this.onDragEnd)},s.render=function(){var t=this,e=this.props,n=e.closeButton,i=e.children,s=e.autoClose,u=e.pauseOnHover,c=e.closeOnClick,h=e.type,f=e.hideProgressBar,p=e.closeToast,d=e.transition,g=e.position,v=e.onExited,m=e.className,y=e.bodyClassName,b=e.progressClassName,w=e.progressStyle,_=e.updateId,T=e.role,E=e.progress,I=e.isProgressDone,S=e.rtl,k={className:(0,o.default)("Toastify__toast","Toastify__toast--"+h,{"Toastify__toast--rtl":S},m)};s&&u&&(k.onMouseEnter=this.pauseToast,k.onMouseLeave=this.playToast),c&&(k.onClick=function(){return t.flag.canCloseOnClick&&p()});var A=parseFloat(E)===E;return r.default.createElement(d,{in:this.props.in,appear:!0,unmountOnExit:!0,onExited:v,position:g,preventExitTransition:this.state.preventExitTransition},r.default.createElement("div",l({},k,{ref:function(e){return t.ref=e},onMouseDown:this.onDragStart,onTouchStart:this.onDragStart,onTransitionEnd:this.onDragTransitionEnd}),r.default.createElement("div",l({},this.props.in&&{role:T},{className:(0,o.default)("Toastify__toast-body",y)}),i),n&&n,(s||A)&&r.default.createElement(a.default,l({},_&&!A?{key:"pb-"+_}:{},{rtl:S,delay:s,isRunning:this.state.isRunning,closeToast:p,hide:f,type:h,style:w,className:b,controlledProgress:A,isProgressDone:I,progress:E}))))},i}(r.Component);d.propTypes={closeButton:u.falseOrElement.isRequired,autoClose:u.falseOrDelay.isRequired,children:i.default.node.isRequired,closeToast:i.default.func.isRequired,position:i.default.oneOf((0,u.objectValues)(s.POSITION)).isRequired,pauseOnHover:i.default.bool.isRequired,pauseOnFocusLoss:i.default.bool.isRequired,closeOnClick:i.default.bool.isRequired,transition:i.default.func.isRequired,rtl:i.default.bool.isRequired,hideProgressBar:i.default.bool.isRequired,draggable:i.default.bool.isRequired,draggablePercent:i.default.number.isRequired,in:i.default.bool,onExited:i.default.func,onOpen:i.default.func,onClose:i.default.func,type:i.default.oneOf((0,u.objectValues)(s.TYPE)),className:i.default.oneOfType([i.default.string,i.default.object]),bodyClassName:i.default.oneOfType([i.default.string,i.default.object]),progressClassName:i.default.oneOfType([i.default.string,i.default.object]),progressStyle:i.default.object,progress:i.default.number,isProgressDone:i.default.bool,updateId:i.default.oneOfType([i.default.string,i.default.number]),ariaLabel:i.default.string},d.defaultProps={type:s.TYPE.DEFAULT,in:!0,onOpen:p,onClose:p,className:null,bodyClassName:null,progressClassName:null,updateId:null,role:"alert"};var g=d;e.default=g},7013:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(2784)),i=p(n(3980)),o=p(n(2779)),a=p(n(996)),s=p(n(7513)),u=p(n(7838)),c=n(2161),l=n(9148),h=p(n(6788)),f=n(9543);function p(t){return t&&t.__esModule?t:{default:t}}function d(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function g(){return(g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var v=function(t){var e,n;function i(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).state={toast:[]},e.toastKey=1,e.collection={},e.isToastActive=function(t){return-1!==e.state.toast.indexOf(t)},e}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var u=i.prototype;return u.componentDidMount=function(){var t=this;h.default.on(l.ACTION.SHOW,(function(e,n){return t.show(e,n)})).on(l.ACTION.CLEAR,(function(e){return e?t.removeToast(e):t.clear()})).emit(l.ACTION.DID_MOUNT,this)},u.componentWillUnmount=function(){h.default.off(l.ACTION.SHOW).off(l.ACTION.CLEAR).emit(l.ACTION.WILL_UNMOUNT)},u.removeToast=function(t){this.setState({toast:this.state.toast.filter((function(e){return e!==t}))},this.dispatchChange)},u.dispatchChange=function(){h.default.emit(l.ACTION.ON_CHANGE,this.state.toast.length)},u.makeCloseButton=function(t,e,n){var i=this,o=this.props.closeButton;return((0,r.isValidElement)(t)||!1===t)&&(o=t),!1!==o&&(0,r.cloneElement)(o,{closeToast:function(){return i.removeToast(e)},type:n})},u.getAutoCloseDelay=function(t){return!1===t||(0,f.isValidDelay)(t)?t:this.props.autoClose},u.canBeRendered=function(t){return(0,r.isValidElement)(t)||"string"===typeof t||"number"===typeof t||"function"===typeof t},u.parseClassName=function(t){return"string"===typeof t?t:null!==t&&"object"===typeof t&&"toString"in t?t.toString():null},u.show=function(t,e){var n,i=this;if(!this.canBeRendered(t))throw new Error("The element you provided cannot be rendered. You provided an element of type "+typeof t);var o=e.toastId,a=function(){return i.removeToast(o)},s={id:o,key:e.key||this.toastKey++,type:e.type,closeToast:a,updateId:e.updateId,rtl:this.props.rtl,position:e.position||this.props.position,transition:e.transition||this.props.transition,className:this.parseClassName(e.className||this.props.toastClassName),bodyClassName:this.parseClassName(e.bodyClassName||this.props.bodyClassName),closeButton:this.makeCloseButton(e.closeButton,o,e.type),pauseOnHover:"boolean"===typeof e.pauseOnHover?e.pauseOnHover:this.props.pauseOnHover,pauseOnFocusLoss:"boolean"===typeof e.pauseOnFocusLoss?e.pauseOnFocusLoss:this.props.pauseOnFocusLoss,draggable:"boolean"===typeof e.draggable?e.draggable:this.props.draggable,draggablePercent:"number"!==typeof e.draggablePercent||isNaN(e.draggablePercent)?this.props.draggablePercent:e.draggablePercent,closeOnClick:"boolean"===typeof e.closeOnClick?e.closeOnClick:this.props.closeOnClick,progressClassName:this.parseClassName(e.progressClassName||this.props.progressClassName),progressStyle:this.props.progressStyle,autoClose:this.getAutoCloseDelay(e.autoClose),hideProgressBar:"boolean"===typeof e.hideProgressBar?e.hideProgressBar:this.props.hideProgressBar,progress:parseFloat(e.progress),isProgressDone:e.isProgressDone};"function"===typeof e.onOpen&&(s.onOpen=e.onOpen),"function"===typeof e.onClose&&(s.onClose=e.onClose),(0,r.isValidElement)(t)&&"string"!==typeof t.type&&"number"!==typeof t.type?t=(0,r.cloneElement)(t,{closeToast:a}):"function"===typeof t&&(t=t({closeToast:a})),this.collection=g({},this.collection,((n={})[o]={position:s.position,options:s,content:t},n)),this.setState({toast:(s.updateId?d(this.state.toast):d(this.state.toast).concat([o])).filter((function(t){return t!==e.staleToastId}))},this.dispatchChange)},u.makeToast=function(t,e){return r.default.createElement(s.default,g({},e,{isDocumentHidden:this.state.isDocumentHidden,key:"toast-"+e.key}),t)},u.clear=function(){this.setState({toast:[]})},u.renderToast=function(){var t=this,e={},n=this.props,i=n.className,s=n.style;return(n.newestOnTop?Object.keys(this.collection).reverse():Object.keys(this.collection)).forEach((function(n){var r=t.collection[n],i=r.position,o=r.options,a=r.content;e[i]||(e[i]=[]),-1!==t.state.toast.indexOf(o.id)?e[i].push(t.makeToast(a,o)):(e[i].push(null),delete t.collection[n])})),Object.keys(e).map((function(n){var u=1===e[n].length&&null===e[n][0],c={className:(0,o.default)("Toastify__toast-container","Toastify__toast-container--"+n,{"Toastify__toast-container--rtl":t.props.rtl},t.parseClassName(i)),style:u?g({},s,{pointerEvents:"none"}):g({},s)};return r.default.createElement(a.default,g({},c,{key:"container-"+n}),e[n])}))},u.render=function(){return r.default.createElement("div",{className:"Toastify"},this.renderToast())},i}(r.Component);v.propTypes={position:i.default.oneOf((0,f.objectValues)(l.POSITION)),autoClose:f.falseOrDelay,closeButton:f.falseOrElement,hideProgressBar:i.default.bool,pauseOnHover:i.default.bool,closeOnClick:i.default.bool,newestOnTop:i.default.bool,className:i.default.oneOfType([i.default.string,i.default.object]),style:i.default.object,toastClassName:i.default.oneOfType([i.default.string,i.default.object]),bodyClassName:i.default.oneOfType([i.default.string,i.default.object]),progressClassName:i.default.oneOfType([i.default.string,i.default.object]),progressStyle:i.default.object,transition:i.default.func,rtl:i.default.bool,draggable:i.default.bool,draggablePercent:i.default.number,pauseOnFocusLoss:i.default.bool},v.defaultProps={position:l.POSITION.TOP_RIGHT,transition:c.Bounce,rtl:!1,autoClose:5e3,hideProgressBar:!1,closeButton:r.default.createElement(u.default,null),pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,newestOnTop:!1,draggable:!0,draggablePercent:80,className:null,style:null,toastClassName:null,bodyClassName:null,progressClassName:null,progressStyle:null};var m=v;e.default=m},2161:function(t,e,n){"use strict";e.__esModule=!0,e.Flip=e.Zoom=e.Slide=e.Bounce=void 0;var r,i=(r=n(9817))&&r.__esModule?r:{default:r};var o=(0,i.default)({enter:"Toastify__bounce-enter",exit:"Toastify__bounce-exit",appendPosition:!0});e.Bounce=o;var a=(0,i.default)({enter:"Toastify__slide-enter",exit:"Toastify__slide-exit",duration:[450,750],appendPosition:!0});e.Slide=a;var s=(0,i.default)({enter:"Toastify__zoom-enter",exit:"Toastify__zoom-exit"});e.Zoom=s;var u=(0,i.default)({enter:"Toastify__flip-enter",exit:"Toastify__flip-exit"});e.Flip=u},137:function(t,e,n){"use strict";var r=s(n(7013));e.Ix=r.default;var i=n(2161);i.Bounce,i.Slide,i.Zoom,i.Flip;var o=n(9148);o.POSITION,o.TYPE;var a=s(n(2340));function s(t){return t&&t.__esModule?t:{default:t}}e.Am=a.default,s(n(9817)).default},2340:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,i=(r=n(6788))&&r.__esModule?r:{default:r},o=n(9148);function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var s=null,u=[],c=function(){return!1};function l(t,e){return a({},t,{type:e,toastId:f(t)})}function h(){return(Math.random().toString(36)+Date.now().toString(36)).substr(2,10)}function f(t){return t&&("string"===typeof t.toastId||"number"===typeof t.toastId&&!isNaN(t.toastId))?t.toastId:h()}function p(t,e){return null!==s?i.default.emit(o.ACTION.SHOW,t,e):u.push({action:o.ACTION.SHOW,content:t,options:e}),e.toastId}var d=a((function(t,e){return p(t,l(e,e&&e.type||o.TYPE.DEFAULT))}),{success:function(t,e){return p(t,l(e,o.TYPE.SUCCESS))},info:function(t,e){return p(t,l(e,o.TYPE.INFO))},warn:function(t,e){return p(t,l(e,o.TYPE.WARNING))},warning:function(t,e){return p(t,l(e,o.TYPE.WARNING))},error:function(t,e){return p(t,l(e,o.TYPE.ERROR))},dismiss:function(t){return void 0===t&&(t=null),s&&i.default.emit(o.ACTION.CLEAR,t)},isActive:c,update:function(t,e){setTimeout((function(){if(s&&"undefined"!==typeof s.collection[t]){var n=s.collection[t],r=n.options,i=n.content,o=a({},r,e,{toastId:e.toastId||t});e.toastId&&e.toastId!==t?o.staleToastId=t:o.updateId=h();var u="undefined"!==typeof o.render?o.render:i;delete o.render,p(u,o)}}),0)},done:function(t,e){void 0===e&&(e=1),d.update(t,{progress:e,isProgressDone:!0})},onChange:function(t){"function"===typeof t&&i.default.on(o.ACTION.ON_CHANGE,t)},POSITION:o.POSITION,TYPE:o.TYPE});i.default.on(o.ACTION.DID_MOUNT,(function(t){s=t,d.isActive=function(t){return s.isToastActive(t)},u.forEach((function(t){i.default.emit(t.action,t.content,t.options)})),u=[]})).on(o.ACTION.WILL_UNMOUNT,(function(){s=null,d.isActive=c}));var g=d;e.default=g},9148:function(t,e){"use strict";e.__esModule=!0,e.ACTION=e.TYPE=e.POSITION=void 0;e.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"};e.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"};e.ACTION={SHOW:0,CLEAR:1,DID_MOUNT:2,WILL_UNMOUNT:3,ON_CHANGE:4}},9817:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){var e=t.enter,n=t.exit,o=t.duration,u=void 0===o?750:o,c=t.appendPosition,l=void 0!==c&&c;return function(t){var o,c,h=t.children,f=t.position,p=t.preventExitTransition,d=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,["children","position","preventExitTransition"]),g=l?e+"--"+f:e,v=l?n+"--"+f:n;Array.isArray(u)&&2===u.length?(o=u[0],c=u[1]):o=c=u;return r.default.createElement(i.default,a({},d,{timeout:p?0:{enter:o,exit:c},onEnter:function(t){t.classList.add(g),t.style.animationFillMode="forwards",t.style.animationDuration=.001*o+"s"},onEntered:function(t){t.classList.remove(g),t.style.cssText=""},onExit:p?s:function(t){t.classList.add(v),t.style.animationFillMode="forwards",t.style.animationDuration=.001*c+"s"}}),h)}};var r=o(n(2784)),i=o(n(5268));function o(t){return t&&t.__esModule?t:{default:t}}function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var s=function(){}},6788:function(t,e){"use strict";e.__esModule=!0,e.default=void 0;var n={list:new Map,on:function(t,e){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(e),this},off:function(t){return this.list.delete(t),this},emit:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return!!this.list.has(t)&&(this.list.get(t).forEach((function(t){return setTimeout((function(){return t.call.apply(t,[null].concat(n))}),0)})),!0)}};e.default=n},9543:function(t,e,n){"use strict";e.__esModule=!0,e.isValidDelay=i,e.objectValues=function(t){return Object.keys(t).map((function(e){return t[e]}))},e.falseOrElement=e.falseOrDelay=void 0;var r=n(2784);function i(t){return"number"===typeof t&&!isNaN(t)&&t>0}function o(t){return t.isRequired=function(e,n,r){if("undefined"===typeof e[n])return new Error("The prop "+n+" is marked as required in \n      "+r+", but its value is undefined.");t(e,n,r)},t}var a=o((function(t,e,n){var r=t[e];return!1===r||i(r)?null:new Error(n+" expect "+e+" \n      to be a valid Number > 0 or equal to false. "+r+" given.")}));e.falseOrDelay=a;var s=o((function(t,e,n){var i=t[e];return!1===i||(0,r.isValidElement)(i)?null:new Error(n+" expect "+e+" \n      to be a valid react element or equal to false. "+i+" given.")}));e.falseOrElement=s},5268:function(t,e,n){"use strict";e.__esModule=!0,e.default=e.EXITING=e.ENTERED=e.ENTERING=e.EXITED=e.UNMOUNTED=void 0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(3980)),i=s(n(2784)),o=s(n(8316)),a=n(6847);n(6530);function s(t){return t&&t.__esModule?t:{default:t}}var u="unmounted";e.UNMOUNTED=u;var c="exited";e.EXITED=c;var l="entering";e.ENTERING=l;var h="entered";e.ENTERED=h;var f="exiting";e.EXITING=f;var p=function(t){var e,n;function r(e,n){var r;r=t.call(this,e,n)||this;var i,o=n.transitionGroup,a=o&&!o.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?a?(i=c,r.appearStatus=l):i=h:i=e.unmountOnExit||e.mountOnEnter?u:c,r.state={status:i},r.nextCallback=null,r}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=r.prototype;return a.getChildContext=function(){return{transitionGroup:null}},r.getDerivedStateFromProps=function(t,e){return t.in&&e.status===u?{status:c}:null},a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?n!==l&&n!==h&&(e=l):n!==l&&n!==h||(e=f)}this.updateStatus(!1,e)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var t,e,n,r=this.props.timeout;return t=e=n=r,null!=r&&"number"!==typeof r&&(t=r.exit,e=r.enter,n=void 0!==r.appear?r.appear:e),{exit:t,enter:e,appear:n}},a.updateStatus=function(t,e){if(void 0===t&&(t=!1),null!==e){this.cancelNextCallback();var n=o.default.findDOMNode(this);e===l?this.performEnter(n,t):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===c&&this.setState({status:u})},a.performEnter=function(t,e){var n=this,r=this.props.enter,i=this.context.transitionGroup?this.context.transitionGroup.isMounting:e,o=this.getTimeouts(),a=i?o.appear:o.enter;e||r?(this.props.onEnter(t,i),this.safeSetState({status:l},(function(){n.props.onEntering(t,i),n.onTransitionEnd(t,a,(function(){n.safeSetState({status:h},(function(){n.props.onEntered(t,i)}))}))}))):this.safeSetState({status:h},(function(){n.props.onEntered(t)}))},a.performExit=function(t){var e=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(t),this.safeSetState({status:f},(function(){e.props.onExiting(t),e.onTransitionEnd(t,r.exit,(function(){e.safeSetState({status:c},(function(){e.props.onExited(t)}))}))}))):this.safeSetState({status:c},(function(){e.props.onExited(t)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},a.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,e.nextCallback=null,t(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(t,e,n){this.setNextCallback(n);var r=null==e&&!this.props.addEndListener;t&&!r?(this.props.addEndListener&&this.props.addEndListener(t,this.nextCallback),null!=e&&setTimeout(this.nextCallback,e)):setTimeout(this.nextCallback,0)},a.render=function(){var t=this.state.status;if(t===u)return null;var e=this.props,n=e.children,r=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(e,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"===typeof n)return n(t,r);var o=i.default.Children.only(n);return i.default.cloneElement(o,r)},r}(i.default.Component);function d(){}p.contextTypes={transitionGroup:r.object},p.childContextTypes={transitionGroup:function(){}},p.propTypes={},p.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:d,onEntering:d,onEntered:d,onExit:d,onExiting:d,onExited:d},p.UNMOUNTED=0,p.EXITED=1,p.ENTERING=2,p.ENTERED=3,p.EXITING=4;var g=(0,a.polyfill)(p);e.default=g},996:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=s(n(3980)),i=s(n(2784)),o=n(6847),a=n(8768);function s(t){return t&&t.__esModule?t:{default:t}}function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var l=Object.values||function(t){return Object.keys(t).map((function(e){return t[e]}))},h=function(t){var e,n;function r(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind(c(c(r)));return r.state={handleExited:i,firstRender:!0},r}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},o.componentDidMount=function(){this.appeared=!0,this.mounted=!0},o.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(t,e){var n=e.children,r=e.handleExited;return{children:e.firstRender?(0,a.getInitialChildMapping)(t,r):(0,a.getNextChildMapping)(t,n,r),firstRender:!1}},o.handleExited=function(t,e){var n=(0,a.getChildMapping)(this.props.children);t.key in n||(t.props.onExited&&t.props.onExited(e),this.mounted&&this.setState((function(e){var n=u({},e.children);return delete n[t.key],{children:n}})))},o.render=function(){var t=this.props,e=t.component,n=t.childFactory,r=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,["component","childFactory"]),o=l(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===e?o:i.default.createElement(e,r,o)},r}(i.default.Component);h.childContextTypes={transitionGroup:r.default.object.isRequired},h.propTypes={},h.defaultProps={component:"div",childFactory:function(t){return t}};var f=(0,o.polyfill)(h);e.default=f,t.exports=e.default},8768:function(t,e,n){"use strict";e.__esModule=!0,e.getChildMapping=i,e.mergeChildMappings=o,e.getInitialChildMapping=function(t,e){return i(t.children,(function(n){return(0,r.cloneElement)(n,{onExited:e.bind(null,n),in:!0,appear:a(n,"appear",t),enter:a(n,"enter",t),exit:a(n,"exit",t)})}))},e.getNextChildMapping=function(t,e,n){var s=i(t.children),u=o(e,s);return Object.keys(u).forEach((function(i){var o=u[i];if((0,r.isValidElement)(o)){var c=i in e,l=i in s,h=e[i],f=(0,r.isValidElement)(h)&&!h.props.in;!l||c&&!f?l||!c||f?l&&c&&(0,r.isValidElement)(h)&&(u[i]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:h.props.in,exit:a(o,"exit",t),enter:a(o,"enter",t)})):u[i]=(0,r.cloneElement)(o,{in:!1}):u[i]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:a(o,"exit",t),enter:a(o,"enter",t)})}})),u};var r=n(2784);function i(t,e){var n=Object.create(null);return t&&r.Children.map(t,(function(t){return t})).forEach((function(t){n[t.key]=function(t){return e&&(0,r.isValidElement)(t)?e(t):t}(t)})),n}function o(t,e){function n(n){return n in e?e[n]:t[n]}t=t||{},e=e||{};var r,i=Object.create(null),o=[];for(var a in t)a in e?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var u in e){if(i[u])for(r=0;r<i[u].length;r++){var c=i[u][r];s[i[u][r]]=n(c)}s[u]=n(u)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}function a(t,e,n){return null!=n[e]?n[e]:t.props[e]}},6530:function(t,e,n){"use strict";e.__esModule=!0,e.classNamesShape=e.timeoutsShape=void 0;var r;(r=n(3980))&&r.__esModule;e.timeoutsShape=null;e.classNamesShape=null},5163:function(t,e,n){"use strict";n.d(e,{ZT:function(){return i},pi:function(){return o},_T:function(){return a},XA:function(){return s},CR:function(){return u},fl:function(){return c}});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function s(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function c(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(u(arguments[e]));return t}},7500:function(t){const e={BIG_BATTLE:"big",MINI_BATTLE:"mini"},n={UPCOMING:"upComing",ONGOING:"onGoing",FINISHED:"finished"},r=[{id:1,slug:"pilot-battle",name:"Pilot Battle",type:e.BIG_BATTLE,levelIds:[1,2,3,4,5,6,7,8,9,10,11,12],startDate:"Apr 4 2019 16:30:00 GMT+0530",endDate:"May 9 2019 16:30:00 GMT+0530",description:"First ever battle of CSSBattle. 12 fun warm-up targets to play and climb the leaderboards."},{id:2,slug:"visibility",name:"Visibility",type:e.BIG_BATTLE,levelIds:[13,14,15,16,17,18],startDate:"May 9 2019 16:30:00 GMT+0530",endDate:"May 30 2019 16:30:00 GMT+0530",description:"6 targets unlock across 3 weeks. Recreate them in the smallest possible CSS code and climb the leaderboards."},{id:3,slug:"cursor",name:"Cursor",type:e.MINI_BATTLE,levelIds:[19,20],startDate:"Jun 1 2019 16:30:00 GMT+0530",endDate:"Jun 3 2019 16:30:00 GMT+0530",description:"First ever mini-battle. 48 hours, 2 Targets. Some intense CSS golfing."},{id:4,slug:"display",name:"Display",type:e.BIG_BATTLE,levelIds:[21,22,23,24,25,26,27,28],startDate:"Jun 12 2019 16:30:00 GMT+0530",endDate:"Jul 3 2019 16:30:00 GMT+0530",description:"8 targets unlock across 3 weeks. Recreate them in the smallest possible CSS code and climb the leaderboard!",sponsor:{name:"SitePoint",link:"https://cssbattle.dev/api/adRedirect?url=https%3A%2F%2Fwww.sitepoint.com%3Futm_source%3Dcss-battles%26utm_medium%3Dreferral%26utm_campaign%3Dlogo-battle&sponsorId=2"},rewards:{gold:"$50",silver:"$30",bronze:"$20",others:"Top 20: SitePoint Premium"}},{id:5,slug:"inline",name:"Inline",type:e.MINI_BATTLE,levelIds:[29,30],startDate:"Jul 13 2019 16:30:00 GMT+0530",endDate:"Jul 15 2019 16:30:00 GMT+0530",description:"48 hours, 2 Targets and some intense CSS golfing."},{id:6,slug:"conic",name:"Conic",type:e.MINI_BATTLE,levelIds:[31,32],startDate:"Jul 19 2019 16:30:00 GMT+0530",endDate:"Jul 21 2019 16:30:00 GMT+0530",description:"48 hours, 2 Targets and some intense CSS golfing."},{id:7,slug:"backface",name:"Backface",type:e.BIG_BATTLE,levelIds:[33,34,35,36,37,38,39,40,41],startDate:"Aug 01 2019 16:30:00 GMT+0530",endDate:"Aug 22 2019 16:30:00 GMT+0530",description:"9 targets unlock across 3 weeks. Recreate them with smallest possible CSS code and climb the leaderboard!"},{id:8,slug:"transition",name:"Transition",type:e.MINI_BATTLE,levelIds:[42,43,44],startDate:"Sep 07 2019 16:30:00 GMT+0530",endDate:"Sep 09 2019 16:30:00 GMT+0530",description:"3 fun targets for the weekend \ud83d\ude00"},{id:9,slug:"margin",name:"Margin",type:e.MINI_BATTLE,levelIds:[45,46],startDate:"Dec 12 2019 16:30:00 GMT+0530",endDate:"Dec 14 2019 16:30:00 GMT+0530",description:"2 fun targets to flex your muscles for the next big battle \ud83d\udd25"},{id:10,slug:"block",name:"Block",type:e.BIG_BATTLE,levelIds:[47,48,49,50,51,52],startDate:"Mar 26 2020 16:30:00 GMT+0530",endDate:"Apr 9 2020 16:30:00 GMT+0530",description:"6 targets to battle out over 2 weeks and learn about best practices against Corona Virus \ud83d\udd25"},{id:11,slug:"overflow",name:"Overflow",type:e.BIG_BATTLE,levelIds:[53,54,55,56,57,58,59,60],startDate:"Jun 9 2020 16:30:00 GMT+0530",endDate:"Jul 9 2020 16:30:00 GMT+0530",description:"8 targets (2 per week) to battle out over 4 weeks and win some cool rewards!",sponsor:{name:"Pastel",link:"https://cssbattle.dev/api/adRedirect?url=https%3A%2F%2Fusepastel.com%3Futm_source%3Dcssbattle%26utm_campaign%3Dcssbattle_sponsorship&sponsorId=3"},rewards:{gold:"$50",silver:"$30",bronze:"$20",others:"Top 10: 1-year free Pastel Premium"}},{id:12,slug:"blend",name:"Blend",type:e.BIG_BATTLE,levelIds:[61,62,63,64,65,66,67,68],openLevelIds:[62],startDate:"Nov 21 2020 16:30:00 GMT+0530",endDate:"Dec 20 2020 16:30:00 GMT+0530",description:"8 targets (2 per week, and a new twist) to battle out over 4 weeks and win some cool rewards!",sponsor:{name:"ImprovMX",link:"https://cssbattle.dev/api/adRedirect?url=https%3A%2F%2Fimprovmx.com%3Futm_source%3Dcssbattle%26utm_campaign%3Dcssbattle_sponsorship&sponsorId=4"},rewards:{gold:"$80 + ImprovMX premium for 1337 months",silver:"$55 + ImprovMX premium for 42 months",bronze:"$40 + ImprovMX premium for 24 months",others:"4th-10th: $25 + ImprovMX premium for 12 months",note:"Cash prizes will be given in the form of Amazon Gift Cards"}},{id:13,slug:"clip",name:"Clip",type:e.BIG_BATTLE,levelIds:[69,70,71,72,73,74,75,76],openLevelIds:[69,71,73],startDate:"Mar 02 2021 16:30:00 GMT+0530",endDate:"Mar 30 2021 16:30:00 GMT+0530",rewards:{others:"Top 10: Customized limited edition CSSBattle Merchandise"},description:"8 targets (with some open ones!) to battle out over 4 weeks and win some cool rewards!",sponsor:{name:"PushOwl",link:"https://cssbattle.dev/api/adRedirect?url=https%3A%2F%2Fpushowl.com%3Futm_source%3Dcssbattle%26utm_campaign%3Dcssbattle_sponsorship&sponsorId=5"}},{id:14,slug:"zindex",name:"ZIndex",type:e.MINI_BATTLE,levelIds:[77,78,79,80],startDate:"May 25 2021 16:30:00 GMT+0530",endDate:"May 29 2021 16:30:00 GMT+0530",description:"4 days, 1 new target everyday \ud83c\udfaf! Ultimate crash course for CSS golfing!"},{id:15,slug:"filter",name:"Filter",type:e.BIG_BATTLE,levelIds:[81,82,83,84,85,86,87,88],openLevelIds:[84],startDate:"Sep 21 2021 16:30:00 GMT+0530",endDate:"Oct 21 2021 16:30:00 GMT+0530",description:"8 targets (with some open ones!) to battle out over 4 weeks and level up your CSS!",sponsor:{name:"Odoo",link:"https://cssbattle.dev/api/adRedirect?url=https%3A%2F%2Fwww.odoo.com%2Fapp%2Fwebsite%3Futm_source%3DCSSBattle%26utm_medium%3Dcpc-social%26utm_campaign%3Dwebsite&sponsorId=6"}},{id:16,slug:"aspect",name:"Aspect",type:e.BIG_BATTLE,levelIds:[89,90,91,92,93,94,95,96],openLevelIds:[91],startDate:"Oct 28 2021 16:30:00 GMT+0530",endDate:"Nov 28 2021 16:30:00 GMT+0530",description:"Create 8 targets (with some open ones!) over 4 weeks and level up your CSS!"},{id:17,slug:"christmas",name:"Christmas \ud83c\udf84",type:e.MINI_BATTLE,levelIds:[97,98,99,100],openLevelIds:[100],startDate:"Dec 22 2021 16:30:00 GMT+0530",endDate:"Dec 26 2021 16:30:00 GMT+0530",description:"This festive season, let's celebrate Christmas with these 4 merry targets and some joyful CSS! \ud83c\udf84\ud83c\udf85\ud83c\udffc"},{id:18,slug:"float",name:"Float",type:e.BIG_BATTLE,levelIds:[101,102,103,104,105,106,107,108],openLevelIds:[106],startDate:"Mar 10 2022 16:30:00 GMT+0530",endDate:"Apr 09 2022 16:30:00 GMT+0530",description:"First battle of the year! Let's get into the CSS art mood with some nice Anime targets!"},{id:19,slug:"spacing",name:"Spacing",type:e.BIG_BATTLE,levelIds:[109,110,111,112,113,114,115,116],openLevelIds:[111],startDate:"Jun 07 2022 16:30:00 GMT+0530",endDate:"Jul 05 2022 16:30:00 GMT+0530",description:"4 weeks full of CSS art! 8 fun targets coming your way!"},{id:20,slug:"hover",name:"Hover",type:e.BIG_BATTLE,levelIds:[117,118,0,0,0,0,0,0],openLevelIds:[],startDate:"Aug 04 2022 16:30:00 GMT+0530",endDate:"Sep 02 2022 16:30:00 GMT+0530",description:"4 weeks full of CSS art! 8 fun targets coming your way in our 20th battle!",sponsor:{name:"Arineo",link:"https://cssbattle.dev/api/adRedirect?url=https%3A%2F%2Farineo.com%2Fen%2F&sponsorId=7"},rewards:{others:"Top 20: Limited-Edition CSSBattle Stickers!"}}];function i(t){return t.id.length>6}t.exports={BattleTypes:e,BattleStatuses:n,battles:r,checkIfCustomBattle:i,getBattleStatus:function(t){if(i(t={...t})){if(!t.startDate)return n.UPCOMING;t.startDate=new Date(1e3*t.startDate.seconds),t.endDate=t.endDate?new Date(1e3*t.endDate.seconds):+t.startDate+60*t.duration*1e3}const e=Date.now(),r=new Date(t.startDate).getTime(),o=new Date(t.endDate).getTime();return e<r?n.UPCOMING:e>o?n.FINISHED:n.ONGOING}}},8688:function(t){t.exports=[{id:1,name:"Simply Square",image:"/targets/1.png",colors:["#5d3a3a","#b5e0ba"]},{id:2,name:"Carrom",image:"/targets/2.png",colors:["#62374e","#fdc57b"]},{id:3,name:"Push Button",image:"/targets/3.png",colors:["#6592CF","#243D83","#EEB850"]},{id:4,name:"Ups n Downs",image:"/targets/4.png",colors:["#62306D","#F7EC7D"]},{id:5,name:"Acid Rain",image:"/targets/5.png",colors:["#0B2429","#F3AC3C","#998235"]},{id:6,name:"Missing Slice",image:"/targets/6.png",colors:["#E3516E","#F7F3D7","#51B5A9","#FADE8B"]},{id:7,name:"Leafy Trail",image:"/targets/7.png",colors:["#0B2429","#F3AC3C","#998235","#1A4341"]},{id:8,name:"Forking Crazy",image:"/targets/8.png",colors:["#6592CF","#060F55"]},{id:9,name:"Tesseract",image:"/targets/9.png",colors:["#222730","#4CAAB3","#393E46"]},{id:10,name:"Cloaked Spirits",image:"/targets/10.png",colors:["#62306D","#F7EC7D","#AA445F","#E38F66"]},{id:11,name:"Eye of Sauron",image:"/targets/11.png",colors:["#191210","#ECA03D","#84271C"]},{id:12,name:"Wiggly Moustache",image:"/targets/12.png",colors:["#F5D6B4","#D86F45"]},{id:13,name:"Totally Triangle",image:"/targets/13.png",colors:["#0B2429","#F3AC3C"]},{id:14,name:"Web Maker Logo",image:"/targets/14.png",colors:["#F2F2B6","#FF6D00","#FD4602"]},{id:15,name:"Overlap",image:"/targets/15.png",colors:["#09042A","#7B3F61","#E78481"]},{id:16,name:"Eye of the Tiger",image:"/targets/16.png",colors:["#0B2429","#998235","#F3AC3C"]},{id:17,name:"Fidget Spinner",image:"/targets/17.png",colors:["#09042A","#E78481","#F5BB9C"]},{id:18,name:"Matrix",image:"/targets/18.png",colors:["#5C434C","#F09462","#F5D6B4"]},{id:19,name:"Cube",image:"/targets/19.png",colors:["#0B2429","#F3AC3C","#998235","#1A4341"]},{id:20,name:"Ticket",image:"/targets/20.png",colors:["#62306D","#F7EC7D","#E38F66"]},{id:21,name:"SitePoint Logo",image:"/targets/21.png",colors:["#222","#F2994A","#2D9CDB"]},{id:22,name:"Cloud",image:"/targets/22.png",colors:["#F5D6B4","#D86F45"]},{id:23,name:"Boxception",image:"/targets/23.png",colors:["#F3AC3C","#1A4341","#998235"]},{id:24,name:"Switches",image:"/targets/24.png",colors:["#62306D","#F7EC7D","#AA445F","#E38F66"]},{id:25,name:"Blossom",image:"/targets/25.png",colors:["#998235","#1A4341","#F3AC3C"]},{id:26,name:"Smiley",image:"/targets/26.png",colors:["#6592CF","#060F55"]},{id:27,name:"Lock Up",image:"/targets/27.png",colors:["#E38F66","#AA445F","#F7EC7D"]},{id:28,name:"Cups & Balls",image:"/targets/28.png",colors:["#1A4341","#998235","#F3AC3C"]},{id:29,name:"Suffocate",image:"/targets/29.png",colors:["#F3AC3C","#1A4341"]},{id:30,name:"Horizon",image:"/targets/30.png",colors:["#F7EC7D","#E38F66","#AA445F","#62306D"]},{id:31,name:"Equals",image:"/targets/31.png",colors:["#AA445F","#F7EC7D","#E38F66"]},{id:32,name:"Band-aid",image:"/targets/32.png",colors:["#FFFFFF","#F3AC3C","#A3A368","#FBE18C"]},{id:33,name:"Birdie",image:"/targets/33.png",colors:["#1A4341","#998235","#F3AC3C","#0B2429"]},{id:34,name:"Christmas Tree",image:"/targets/34.png",colors:["#007065","#FFEECF","#F5C181","#00A79D"]},{id:35,name:"Ice Cream",image:"/targets/35.png",colors:["#293462","#FFF1C1","#FE5F55","#A64942"]},{id:36,name:"Interleaved",image:"/targets/36.png",colors:["#1A4341","#F3AC3C","#998235"]},{id:37,name:"Tunnel",image:"/targets/37.png",colors:["#6592CF","#243D83"]},{id:38,name:"Not Simply Square",image:"/targets/38.png",colors:["#293462","#FFF1C1","#FE5F55","#A64942"]},{id:39,name:"Sunset",image:"/targets/39.png",colors:["#1A4341","#F3AC3C","#998235"]},{id:40,name:"Letter B",image:"/targets/40.png",colors:["#6592CF","#243D83"]},{id:41,name:"Fox Head",image:"/targets/41.png",colors:["#293462","#FE5F55"]},{id:42,name:"Baby",image:"/targets/42.png",colors:["#293462","#FE5F55","#FFF1C1"]},{id:43,name:"Wrench",image:"/targets/43.png",colors:["#6592CF","#243D83"]},{id:44,name:"Stripes",image:"/targets/44.png",colors:["#1A4341","#F3AC3C"]},{id:45,name:"Magical Tree",image:"/targets/45.png",colors:["#1A4341","#F3AC3C","#998235"]},{id:46,name:"Mountains",image:"/targets/46.png",colors:["#293462","#FFF1C1","#FE5F55"]},{id:47,name:"Corona Virus",image:"/targets/47.png",colors:["#1A4341","#F3AC3C","#998235"]},{id:48,name:"Wash Your Hands",image:"/targets/48.png",colors:["#293462","#FE5F55","#A64942"]},{id:49,name:"Stay at Home",image:"/targets/49.png",colors:["#6592CF","#243D83","#EEB850"]},{id:50,name:"Use Hand Sanitizer",image:"/targets/50.png",colors:["#1A4341","#F3AC3C","#998235"]},{id:51,name:"Wear a Mask",image:"/targets/51.png",colors:["#293462","#FFF1C1","#FE5F55"]},{id:52,name:"Break the Chain",image:"/targets/52.png",colors:["#6592CF","#243D83","#EEB850"]},{id:53,name:"Pastel Logo",image:"/targets/53.png",colors:["#19191A","#4F77FF","#9AD5FF","#F9E492"]},{id:54,name:"Black Lives Matter",image:"/targets/54.png",colors:["#191919","#F9E492"]},{id:55,name:"Windmill",image:"/targets/55.png",colors:["#191919","#F9E492","#4F77FF"]},{id:56,name:"Skull",image:"/targets/56.png",colors:["#191919","#4F77FF"]},{id:57,name:"Pillars",image:"/targets/57.png",colors:["#191919","#4F77FF","#F9E492"]},{id:58,name:"Rose",image:"/targets/58.png",colors:["#191919","#4F77FF","#F9E492"]},{id:59,name:"Earth",image:"/targets/59.png",colors:["#191919","#4F77FF"]},{id:60,name:"Evil Triangles",image:"/targets/60.png",colors:["#191919","#4F77FF"]},{id:61,name:"ImprovMX",image:"/targets/61.png",colors:["#191919","#5DBCF9"]},{id:62,name:"Sunset",isOpen:!0,image:"/targets/62.png",colors:["#191919","#F2AD43","#E08027","#824B20","#FFF58F"]},{id:63,name:"Command Key",image:"/targets/63.png",colors:["#191919","#5DBCF9"]},{id:64,name:"Door Knob",image:"/targets/64.png",colors:["#191919","#E08027","#824B20","#FFF58F"]},{id:65,name:"Max Volume",image:"/targets/65.png",colors:["#191919","#5DBCF9"]},{id:66,name:"Batmicky",image:"/targets/66.png",colors:["#191919","#F2AD43"]},{id:67,name:"Video Reel",image:"/targets/67.png",colors:["#191919","#5DBCF9"]},{id:68,name:"Bell",image:"/targets/68.png",colors:["#191919","#E08027","#F2AD43","#824B20"]},{id:69,name:"PushOwl",image:"/targets/69.png",colors:["#191919","#E08027"],isOpen:!0},{id:70,name:"Froggy",image:"/targets/70.png",colors:["#293462","#FE5F55","#A64942","#FFF1C1"]},{id:71,name:"Elephant",image:"/targets/71.png",colors:["#998235","#1A4341","#0B2429","#FFFFFF"],isOpen:!0},{id:72,name:"Sheep",image:"/targets/72.png",colors:["#243D83","#6592CF"]},{id:73,name:"Happy Tiger",image:"/targets/73.png",colors:["#F3AC3C","#998235","#1A4341","#FFFFFF"],isOpen:!0},{id:74,name:"Danger Noodle",image:"/targets/74.png",colors:["#191919","#E08027"]},{id:75,name:"Hippo",image:"/targets/75.png",colors:["#191919","#A64942","#FE5F55","#000000"]},{id:76,name:"Beeee",image:"/targets/76.png",colors:["#998235","#FFFFFF","#EFF33C","#191919"]},{id:77,name:"Notes",image:"/targets/77.png",colors:["#191919","#FE5F55","#A64942"]},{id:78,name:"Ukulele",image:"/targets/78.png",colors:["#F3AC3C","#998235","#1A4341"]},{id:79,name:"Tambourine",image:"/targets/79.png",colors:["#243D83","#6592CF"]},{id:80,name:"Piano",image:"/targets/80.png",colors:["#998235","#191919","#FFFFFF"]},{id:81,name:"Odoo",image:"/targets/81.png",colors:["#191919","#714B67","#8F8F8F"]},{id:82,name:"Diamond Cut",image:"/targets/82.png",colors:["#F3AC3C","#998235","#1A4341"]},{id:83,name:"Supernova",image:"/targets/83.png",colors:["#243D83","#6592CF","#EEB850"]},{id:84,name:"Junction",isOpen:!0,image:"/targets/84.png",colors:["#191919","#A64942","#FE5F55"]},{id:85,name:"Pythagoras",image:"/targets/85.png",colors:["#D25B70","#F7F3DA","#F6DF96","#6CB3A9"]},{id:86,name:"Stairway",image:"/targets/86.png",colors:["#191919","#4F77FF"]},{id:87,name:"Building Blocks",image:"/targets/87.png",colors:["#F3AC3C","#1A4341"]},{id:88,name:"Tight Corner",image:"/targets/88.png",colors:["#F7F3DA","#D25B70"]},{id:89,name:"Summit",image:"/targets/89.png",colors:["#191919","#F9E492","#4F77FF"]},{id:90,name:"Eclipse",image:"/targets/90.png",colors:["#998235","#F3AC3C","#1A4341"]},{id:91,name:"Reflection",image:"/targets/91.png",colors:["#6CB3A9","#D25B70","#F6DF96"],isOpen:!0},{id:92,name:"Squeeze",image:"/targets/92.png",colors:["#6592CF","#243D83"]},{id:93,name:"Great Wall",image:"/targets/93.png",colors:["#4F77FF","#191919","#F9E492","#D6B73F"]},{id:94,name:"Ripples",image:"/targets/94.png",colors:["#0E2E2C","#F3AC3C","#998235"]},{id:95,name:"Pokeball",image:"/targets/95.png",colors:["#6CB3A9","#D25B70","#FFFFFF","#781728","#F6DF96"]},{id:96,name:"Mandala",image:"/targets/96.png",colors:["#6592CF","#243D83"]},{id:97,name:"Snowman",image:"/targets/97.png",colors:["#AC474B","#FFFFFF","#0E1F2B","#FFA63F"]},{id:98,name:"Candle",image:"/targets/98.png",colors:["#14313E","#BA3E46","#F3695A","#F3AC3C"]},{id:99,name:"Gift Box",image:"/targets/99.png",colors:["#AC474B","#FFFFFF"]},{id:100,name:"CSSBattle",image:"/targets/100.png",colors:["#14313E","#FFDF00"],isOpen:!0},{id:101,name:"Sharingan",image:"/targets/101.png",colors:["#161616","#A22015","#000000","#E96A23"]},{id:102,name:"One Piece",image:"/targets/102.png",colors:["#000000","#FFFFFF"]},{id:103,name:"Super Saiyan",image:"/targets/103.png",colors:["#161616","#EBAE11","#FFFFFF","#FFDEB9"]},{id:104,name:"Amegakure",image:"/targets/104.png",colors:["#000000","#37385A","#9897AE","#C0C3DB"]},{id:105,name:"Ryuk",image:"/targets/105.png",colors:["#BAC7CE","#475862","#000000","#868A64","#5A6042","#4E2B24"]},{id:106,name:"Ryuk's Apple",image:"/targets/106.png",colors:["#000000","#D4392D"],isOpen:!0},{id:107,name:"Sealing Wand",image:"/targets/107.png",colors:["#161616","#E96A23","#FFFFFF","#A22015"]},{id:108,name:"Clow Card",image:"/targets/108.png",colors:["#000000","#E96A23","#EBAE11"]},{id:109,name:"Curtain",image:"/targets/109.png",colors:["#191919","#F6E59C"]},{id:110,name:"Sunrays",image:"/targets/110.png",colors:["#D25B70","#F2E09F"]},{id:111,name:"Rain Drops",image:"/targets/111.png",colors:["#F3AC3C","#254241"],isOpen:!0},{id:112,name:"Chevron",image:"/targets/112.png",colors:["#6592CF","#293D7E"]},{id:113,name:"Black Light",image:"/targets/113.png",colors:["#5776F6","#191919"]},{id:114,name:"Negative Box",image:"/targets/114.png",colors:["#172D2C","#E9AF53"]},{id:115,name:"Droplet",image:"/targets/115.png",colors:["#C36271","#F2E09F"]},{id:116,name:"Headphones",image:"/targets/116.png",colors:["#293D7E","#6E91CA"]},{id:117,name:"Arineo",image:"/targets/117.png",colors:["#FFFFFF","#0088CA","#2E2926"]},{id:118,name:"Donkey Kong",image:"/targets/118.png",colors:["#000000","#AF067C","#FFFFFF"]}]}},function(t){var e=function(e){return t(t.s=e)};t.O(0,[774,179],(function(){return e(4961),e(1613),e(9772),e(3642)}));var n=t.O();_N_E=n}]);
//# sourceMappingURL=_app-524522fb1cdbceb0.js.map